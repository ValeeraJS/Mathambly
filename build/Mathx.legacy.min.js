/*
 *****************************************************************************
 Copyright (c) Microsoft Corporation. All rights reserved.
 Licensed under the Apache License, Version 2.0 (the "License"); you may not use
 this file except in compliance with the License. You may obtain a copy of the
 License at http://www.apache.org/licenses/LICENSE-2.0

 THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
 WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
 MERCHANTABLITY OR NON-INFRINGEMENT.

 See the Apache Version 2.0 License for specific language governing permissions
 and limitations under the License.
*****************************************************************************/
(function(v,Ya){"object"===typeof exports&&"undefined"!==typeof module?Ya(exports):"function"===typeof define&&define.amd?define(["exports"],Ya):(v=v||self,Ya(v.Mathx={}))})(this,function(v){function Ya(a,b){function c(){this.constructor=a}Hb(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var Hb=function(a,b){Hb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return Hb(a,
b)},tc=function(a){function b(b,d,e,g){void 0===b&&(b=0);void 0===d&&(d=0);void 0===e&&(e=0);void 0===g&&(g=255);var c=a.call(this,4)||this;c[0]=b;c[1]=d;c[2]=e;c[3]=g;return c}Ya(b,a);Object.defineProperty(b.prototype,"r",{get:function(){return this[0]},set:function(a){this[0]=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"g",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"b",{get:function(){return this[2]},
set:function(a){this[2]=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"a",{get:function(){return this[3]},set:function(a){this[3]=a},enumerable:!0,configurable:!0});return b}(Uint8Array),uc=function(a){function b(b,d,e){void 0===b&&(b=0);void 0===d&&(d=0);void 0===e&&(e=0);var c=a.call(this,3)||this;c[0]=b;c[1]=d;c[2]=e;return c}Ya(b,a);Object.defineProperty(b.prototype,"r",{get:function(){return this[0]},set:function(a){this[0]=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"g",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"b",{get:function(){return this[2]},set:function(a){this[2]=a},enumerable:!0,configurable:!0});return b}(Uint8Array),Ca=function(a,b,c){return Math.max(b,Math.min(c,a))},pb=function(a){return 0>a?Math.ceil(a):Math.floor(a)},$a,ab,Oa=function(a,b,c){return b>c?Math.max(c,Math.min(b,a)):c>b?Math.max(b,Math.min(c,a)):b},vc=2*Math.PI,Ha=Math.pow(2,-52),sa=function(a,b,c){void 0===
c&&(c=Ha);return Math.abs(a-b)<=c},Yb=0,Ib=0,Zb=function(a){Ib=0;Yb=a.length;for(var b=0;b<Yb;b++)Ib+=a[b];return Ib},ta=0,ua=0,Da=0,Ea=0,ib=0,jb=0,kb=0,lb=0,Pa=0,Ia=0,Ja=0,$b=[1,0,0,1],wc=new Float32Array($b),ac=function(a){return a[0]*a[3]-a[1]*a[2]},xc=Object.freeze({__proto__:null,UNIT_MATRIX2:wc,add:function(a,b,c){c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},adjoint:function(a,b){ta=a[0];b[0]=a[3];b[1]=-a[1];b[2]=-a[2];b[3]=ta;return b},closeTo:function(a,b){ta=a[0];
Da=a[1];ua=a[2];Ea=a[3];ib=b[0];kb=b[1];jb=b[2];lb=b[3];return sa(ta,ib)&&sa(ua,jb)&&sa(Da,kb)&&sa(Ea,lb)},create:function(a){void 0===a&&(a=$b);return new Float32Array(a)},determinant:ac,equals:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},frobNorm:function(a){return Math.hypot(a[0],a[1],a[2],a[3])},from:function(a,b){void 0===b&&(b=new Float32Array(4));b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},fromRotation:function(a,b){void 0===b&&(b=new Float32Array(4));Ja=Math.sin(a);
Ia=Math.cos(a);b[0]=Ia;b[1]=Ja;b[2]=-Ja;b[3]=Ia;return b},fromScaling:function(a,b){void 0===b&&(b=new Float32Array(4));b[0]=a[0];b[1]=0;b[2]=0;b[3]=a[1];return b},identity:function(a){void 0===a&&(a=new Float32Array(4));a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},invert:function(a,b){void 0===b&&(b=new Float32Array(4));ta=a[0];Da=a[1];ua=a[2];Ea=a[3];Pa=ac(a);if(!Pa)return null;Pa=1/Pa;b[0]=Ea*Pa;b[1]=-Da*Pa;b[2]=-ua*Pa;b[3]=ta*Pa;return b},minus:function(a,b,c){void 0===c&&(c=new Float32Array(4));c[0]=
a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:function(a,b,c){void 0===c&&(c=new Float32Array(4));ta=a[0];Da=a[1];ua=a[2];Ea=a[3];ib=b[0];kb=b[1];jb=b[2];lb=b[3];c[0]=ta*ib+ua*kb;c[1]=Da*ib+Ea*kb;c[2]=ta*jb+ua*lb;c[3]=Da*jb+Ea*lb;return c},multiplyScalar:function(a,b,c){void 0===c&&(c=new Float32Array(4));c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},rotate:function(a,b,c){void 0===c&&(c=new Float32Array(4));ta=a[0];Da=a[1];ua=a[2];Ea=a[3];Ja=Math.sin(b);Ia=
Math.cos(b);c[0]=ta*Ia+ua*Ja;c[1]=Da*Ia+Ea*Ja;c[2]=ta*-Ja+ua*Ia;c[3]=Da*-Ja+Ea*Ia;return c},scale:function(a,b,c){void 0===c&&(c=new Float32Array(4));ta=a[0];Da=a[1];ua=a[2];Ea=a[3];Ia=b[0];Ja=b[1];c[0]=ta*Ia;c[1]=Da*Ia;c[2]=ua*Ja;c[3]=Ea*Ja;return c},toString:function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},transpose:function(a,b){void 0===b&&(b=new Float32Array(4));b===a?(ua=a[1],b[1]=a[2],b[2]=ua):(b[0]=a[0],b[1]=a[2],b[2]=a[1],b[3]=a[3]);return b}}),ba=0,W=0,X=0,ca=0,da=0,Y=0,
ha=0,ia=0,ja=0,qb=0,Ua=0,rb=0,Va=0,sb=0,tb=0,ub=0,Wa=0,vb=0,ea=0,fa=0,bc=[1,0,0,0,1,0,0,0,1],yc=new Float32Array(bc),zc=Object.freeze({__proto__:null,UNIT_MATRIX3:yc,cofactor00:function(a){return a[4]*a[8]-a[5]*a[7]},cofactor01:function(a){return a[1]*a[8]-a[7]*a[2]},cofactor02:function(a){return a[1]*a[5]-a[4]*a[2]},cofactor10:function(a){return a[3]*a[8]-a[6]*a[5]},cofactor11:function(a){return a[0]*a[8]-a[6]*a[2]},cofactor12:function(a){return a[0]*a[5]-a[3]*a[2]},cofactor20:function(a){return a[3]*
a[7]-a[6]*a[4]},cofactor21:function(a){return a[0]*a[7]-a[6]*a[1]},cofactor22:function(a){return a[0]*a[4]-a[3]*a[1]},create:function(){return new Float32Array(bc)},determinant:function(a){ba=a[0];W=a[1];X=a[2];da=a[3];ca=a[4];Y=a[5];ha=a[6];ia=a[7];ja=a[8];return ba*(ja*ca-Y*ia)+W*(-ja*da+Y*ha)+X*(ia*da-ca*ha)},from:function(a,b){void 0===b&&(b=new Float32Array(9));b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},fromMatrix4:function(a,b){void 0===
b&&(b=new Float32Array(9));b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b},fromRotation:function(a,b){void 0===b&&(b=new Float32Array(9));fa=Math.sin(a);ea=Math.cos(a);b[0]=ea;b[1]=fa;b[2]=0;b[3]=-fa;b[4]=ea;b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},fromScaling:function(a,b){b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=a[1];b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},fromTranslation:function(a,b){void 0===b&&(b=new Float32Array(9));b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=
1;b[5]=0;b[6]=a[0];b[7]=a[1];b[8]=1;return b},identity:function(a){void 0===a&&(a=new Float32Array(9));a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},invert:function(a,b){ba=a[0];W=a[1];X=a[2];da=a[3];ca=a[4];Y=a[5];ha=a[6];ia=a[7];ja=a[8];Ua=ja*ca-Y*ia;Va=-ja*da+Y*ha;Wa=ia*da-ca*ha;a=ba*Ua+W*Va+X*Wa;if(!a)return null;a=1/a;b[0]=Ua*a;b[1]=(-ja*W+X*ia)*a;b[2]=(Y*W-X*ca)*a;b[3]=Va*a;b[4]=(ja*ba-X*ha)*a;b[5]=(-Y*ba+X*da)*a;b[6]=Wa*a;b[7]=(-ia*ba+W*ha)*a;b[8]=(ca*ba-W*da)*a;
return b},multiply:function(){return function(a,b,c){void 0===c&&(c=new Float32Array(9));ba=a[0];W=a[1];X=a[2];da=a[3];ca=a[4];Y=a[5];ha=a[6];ia=a[7];ja=a[8];qb=b[0];Ua=b[1];rb=b[2];sb=b[3];Va=b[4];tb=b[5];ub=b[6];Wa=b[7];vb=b[8];c[0]=qb*ba+Ua*da+rb*ha;c[1]=qb*W+Ua*ca+rb*ia;c[2]=qb*X+Ua*Y+rb*ja;c[3]=sb*ba+Va*da+tb*ha;c[4]=sb*W+Va*ca+tb*ia;c[5]=sb*X+Va*Y+tb*ja;c[6]=ub*ba+Wa*da+vb*ha;c[7]=ub*W+Wa*ca+vb*ia;c[8]=ub*X+Wa*Y+vb*ja;return c}},rotate:function(a,b,c){void 0===c&&(c=new Float32Array(9));ba=
a[0];W=a[1];X=a[2];da=a[3];ca=a[4];Y=a[5];ha=a[6];ia=a[7];ja=a[8];fa=Math.sin(b);ea=Math.cos(b);c[0]=ea*ba+fa*da;c[1]=ea*W+fa*ca;c[2]=ea*X+fa*Y;c[3]=fa*da-ea*ba;c[4]=fa*ca-ea*W;c[5]=fa*Y-ea*X;c[6]=ha;c[7]=ia;c[8]=ja;return c},scale:function(a,b,c){void 0===c&&(c=new Float32Array(9));ea=b[0];fa=b[1];c[0]=ea*a[0];c[1]=ea*a[1];c[2]=ea*a[2];c[3]=fa*a[3];c[4]=fa*a[4];c[5]=fa*a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c},translate:function(a,b,c){void 0===c&&(c=new Float32Array(9));ba=a[0];W=a[1];X=a[2];
da=a[3];ca=a[4];Y=a[5];ha=a[6];ia=a[7];ja=a[8];ea=b[0];fa=b[1];c[0]=ba;c[1]=W;c[2]=X;c[3]=da;c[4]=ca;c[5]=Y;c[6]=ea*ba+fa*da+ha;c[7]=ea*W+fa*ca+ia;c[8]=ea*X+fa*Y+ja;return c},transpose:function(a,b){void 0===b&&(b=new Float32Array(9));b===a?(W=a[1],X=a[2],Y=a[5],b[1]=a[3],b[2]=a[6],b[3]=W,b[5]=a[7],b[6]=X,b[7]=Y):(b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8]);return b}}),Qa;(function(a){a.XYZ="xyz";a.ZXY="zxy";a.YZX="yzx";a.XZY="xzy";a.ZYX="zyx";a.YXZ=
"yxz"})(Qa||(Qa={}));var w=0,r=0,t=0,x=0,y=0,z=0,u=0,A=0,B=0,C=0,D=0,E=0,ka=0,la=0,ma=0,va=0,n=0,k=0,p=0,F=0,Ra=0,Sa=0,Xa=0,cc=0,Aa=0,Ba=0,Ka=0,bb=0,cb=0,db=0,eb=0,fb=0,l=0,h=0,m=0,Z=0,wa=0,f=0,aa=0,T=0,Q=0,g=0,R=0,U=0,S=0,dc=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Ac=new Float32Array(dc),ec=function(a){void 0===a&&(a=new Float32Array(16));a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},Bc=Object.freeze({__proto__:null,
UNIT_MATRIX4:Ac,create:function(){return new Float32Array(dc)},determinant:function(a){w=a[0];r=a[1];t=a[2];x=a[3];z=a[4];y=a[5];u=a[6];A=a[7];B=a[8];C=a[9];D=a[10];E=a[11];la=a[12];ka=a[13];ma=a[14];va=a[15];n=w*y-r*z;k=w*u-t*z;p=r*u-t*y;F=B*ka-C*la;Sa=B*ma-D*la;Ra=C*ma-D*ka;Xa=w*Ra-r*Sa+t*F;cc=z*Ra-y*Sa+u*F;Aa=B*p-C*k+D*n;Ba=la*p-ka*k+ma*n;return A*Xa-x*cc+va*Aa-E*Ba},from:function(a,b){void 0===b&&(b=new Float32Array(16));b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=
a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},fromEuler:function(a,b){void 0===b&&(b=new Float32Array(16));l=a.x;h=a.y;m=a.z;T=Math.cos(l);Q=Math.sin(l);g=Math.cos(h);R=Math.sin(h);U=Math.cos(m);S=Math.sin(m);if(a.order===Qa.XYZ){a=T*U;var c=T*S,d=Q*U,e=Q*S;b[0]=g*U;b[4]=-g*S;b[8]=R;b[1]=c+d*R;b[5]=a-e*R;b[9]=-Q*g;b[2]=e-a*R;b[6]=d+c*R;b[10]=T*g}else a.order===Qa.YXZ?(a=g*U,c=g*S,d=R*U,e=R*S,b[0]=a+e*Q,b[4]=d*Q-c,b[8]=T*R,b[1]=T*S,b[5]=
T*U,b[9]=-Q,b[2]=c*Q-d,b[6]=e+a*Q,b[10]=T*g):a.order===Qa.ZXY?(a=g*U,c=g*S,d=R*U,e=R*S,b[0]=a-e*Q,b[4]=-T*S,b[8]=d+c*Q,b[1]=c+d*Q,b[5]=T*U,b[9]=e-a*Q,b[2]=-T*R,b[6]=Q,b[10]=T*g):a.order===Qa.ZYX?(a=T*U,c=T*S,d=Q*U,e=Q*S,b[0]=g*U,b[4]=d*R-c,b[8]=a*R+e,b[1]=g*S,b[5]=e*R+a,b[9]=c*R-d,b[2]=-R,b[6]=Q*g,b[10]=T*g):a.order===Qa.YZX?(a=T*g,c=T*R,d=Q*g,e=Q*R,b[0]=g*U,b[4]=e-a*S,b[8]=d*S+c,b[1]=S,b[5]=T*U,b[9]=-Q*U,b[2]=-R*U,b[6]=c*S+d,b[10]=a-e*S):a.order===Qa.XZY&&(a=T*g,c=T*R,d=Q*g,e=Q*R,b[0]=g*U,b[4]=-S,
b[8]=R*U,b[1]=a*S+e,b[5]=T*U,b[9]=c*S-d,b[2]=d*S-c,b[6]=Q*U,b[10]=e*S+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromQuaternion:function(a,b){var c=a[0],d=a[1],e=a[2];a=a[3];var g=c+c,Za=d+d,f=e+e;c*=g;var l=d*g;d*=Za;var h=e*g,m=e*Za;e*=f;g*=a;Za*=a;a*=f;b[0]=1-d-e;b[1]=l+a;b[2]=h-Za;b[3]=0;b[4]=l-a;b[5]=1-c-e;b[6]=m+g;b[7]=0;b[8]=h+Za;b[9]=m-g;b[10]=1-c-d;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromRotation:function(a,b,c){l=b[0];h=b[1];m=b[2];wa=Math.hypot(l,h,
m);if(wa<Ha)return null;wa=1/wa;l*=wa;h*=wa;m*=wa;f=Math.sin(a);g=Math.cos(a);aa=1-g;c[0]=l*l*aa+g;c[1]=h*l*aa+m*f;c[2]=m*l*aa-h*f;c[3]=0;c[4]=l*h*aa-m*f;c[5]=h*h*aa+g;c[6]=m*h*aa+l*f;c[7]=0;c[8]=l*m*aa+h*f;c[9]=h*m*aa-l*f;c[10]=m*m*aa+g;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c},fromRotationX:function(a,b){f=Math.sin(a);g=Math.cos(a);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=g;b[6]=f;b[7]=0;b[8]=0;b[9]=-f;b[10]=g;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromRotationY:function(a,b){f=
Math.sin(a);g=Math.cos(a);b[0]=g;b[1]=0;b[2]=-f;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=f;b[9]=0;b[10]=g;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromRotationZ:function(a,b){f=Math.sin(a);g=Math.cos(a);b[0]=g;b[1]=f;b[2]=0;b[3]=0;b[4]=-f;b[5]=g;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromScaling:function(a,b){void 0===b&&(b=new Float32Array(16));b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=a[1];b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=a[2];b[11]=0;b[12]=
0;b[13]=0;b[14]=0;b[15]=1;return b},fromTranslation:function(a,b){void 0===b&&(b=new Float32Array(16));b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=a[0];b[13]=a[1];b[14]=a[2];b[15]=1;return b},identity:ec,invert:function(a,b){void 0===b&&(b=new Float32Array(16));w=a[0];r=a[1];t=a[2];x=a[3];z=a[4];y=a[5];u=a[6];A=a[7];B=a[8];C=a[9];D=a[10];E=a[11];la=a[12];ka=a[13];ma=a[14];va=a[15];n=w*y-r*z;k=w*u-t*z;p=w*A-x*z;F=r*u-t*y;Aa=r*A-x*y;Ba=t*A-x*u;Ka=B*ka-
C*la;bb=B*ma-D*la;db=B*va-E*la;cb=C*ma-D*ka;eb=C*va-E*ka;fb=D*va-E*ma;Z=n*fb-k*eb+p*cb+F*db-Aa*bb+Ba*Ka;if(!Z)return null;Z=1/Z;b[0]=(y*fb-u*eb+A*cb)*Z;b[1]=(t*eb-r*fb-x*cb)*Z;b[2]=(ka*Ba-ma*Aa+va*F)*Z;b[3]=(D*Aa-C*Ba-E*F)*Z;b[4]=(u*db-z*fb-A*bb)*Z;b[5]=(w*fb-t*db+x*bb)*Z;b[6]=(ma*p-la*Ba-va*k)*Z;b[7]=(B*Ba-D*p+E*k)*Z;b[8]=(z*eb-y*db+A*Ka)*Z;b[9]=(r*db-w*eb-x*Ka)*Z;b[10]=(la*Aa-ka*p+va*n)*Z;b[11]=(C*p-B*Aa-E*n)*Z;b[12]=(y*bb-z*cb-u*Ka)*Z;b[13]=(w*cb-r*bb+t*Ka)*Z;b[14]=(ka*k-la*F-ma*n)*Z;b[15]=(B*
F-C*k+D*n)*Z;return b},lookAt:function(a,b,c,d){var e=a[0],g=a[1];a=a[2];var f=c[0];var l=c[1];var h=c[2];var m=b[0];c=b[1];var n=b[2];if(Math.abs(e-m)<Ha&&Math.abs(g-c)<Ha&&Math.abs(a-n)<Ha)return ec(d);b=e-m;c=g-c;m=a-n;var k=1/Math.hypot(b,c,m);b*=k;c*=k;m*=k;n=l*m-h*c;h=h*b-f*m;f=f*c-l*b;(k=Math.hypot(n,h,f))?(k=1/k,n*=k,h*=k,f*=k):f=h=n=0;l=c*f-m*h;var p=m*n-b*f;var q=b*h-c*n;(k=Math.hypot(l,p,q))?(k=1/k,l*=k,p*=k,q*=k):q=p=l=0;d[0]=n;d[1]=l;d[2]=b;d[3]=0;d[4]=h;d[5]=p;d[6]=c;d[7]=0;d[8]=f;d[9]=
q;d[10]=m;d[11]=0;d[12]=-(n*e+h*g+f*a);d[13]=-(l*e+p*g+q*a);d[14]=-(b*e+c*g+m*a);d[15]=1;return d},multiply:function(a,b,c){void 0===c&&(c=new Float32Array(16));w=a[0];r=a[1];t=a[2];x=a[3];z=a[4];y=a[5];u=a[6];A=a[7];B=a[8];C=a[9];D=a[10];E=a[11];la=a[12];ka=a[13];ma=a[14];va=a[15];n=b[0];k=b[1];p=b[2];F=b[3];c[0]=n*w+k*z+p*B+F*la;c[1]=n*r+k*y+p*C+F*ka;c[2]=n*t+k*u+p*D+F*ma;c[3]=n*x+k*A+p*E+F*va;n=b[4];k=b[5];p=b[6];F=b[7];c[4]=n*w+k*z+p*B+F*la;c[5]=n*r+k*y+p*C+F*ka;c[6]=n*t+k*u+p*D+F*ma;c[7]=n*x+
k*A+p*E+F*va;n=b[8];k=b[9];p=b[10];F=b[11];c[8]=n*w+k*z+p*B+F*la;c[9]=n*r+k*y+p*C+F*ka;c[10]=n*t+k*u+p*D+F*ma;c[11]=n*x+k*A+p*E+F*va;n=b[12];k=b[13];p=b[14];F=b[15];c[12]=n*w+k*z+p*B+F*la;c[13]=n*r+k*y+p*C+F*ka;c[14]=n*t+k*u+p*D+F*ma;c[15]=n*x+k*A+p*E+F*va;return c},orthogonal:function(a,b,c,d,e,g,f){var m=1/(a-b),h=1/(c-d),l=1/(e-g);f[0]=-2*m;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*h;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*l;f[11]=0;f[12]=(a+b)*m;f[13]=(d+c)*h;f[14]=(g+e)*l;f[15]=1;return f},perspective:function(a,
b,c,d,e){a=1/Math.tan(a/2);e[0]=a/b;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=a;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[11]=-1;e[12]=0;e[13]=0;e[15]=0;null!=d&&Infinity!==d?(b=1/(c-d),e[10]=(d+c)*b,e[14]=2*d*c*b):(e[10]=-1,e[14]=-2*c);return e},rotate:function(a,b,c,d){l=c[0];h=c[1];m=c[2];wa=Math.hypot(l,h,m);if(wa<Ha)return null;wa=1/wa;l*=wa;h*=wa;m*=wa;f=Math.sin(b);g=Math.cos(b);aa=1-g;w=a[0];r=a[1];t=a[2];x=a[3];z=a[4];y=a[5];u=a[6];A=a[7];B=a[8];C=a[9];D=a[10];E=a[11];n=l*l*aa+g;k=h*l*aa+m*f;p=m*l*aa-h*f;Sa=
l*h*aa-m*f;Ra=h*h*aa+g;Xa=m*h*aa+l*f;Aa=l*m*aa+h*f;Ba=h*m*aa-l*f;Ka=m*m*aa+g;d[0]=w*n+z*k+B*p;d[1]=r*n+y*k+C*p;d[2]=t*n+u*k+D*p;d[3]=x*n+A*k+E*p;d[4]=w*Sa+z*Ra+B*Xa;d[5]=r*Sa+y*Ra+C*Xa;d[6]=t*Sa+u*Ra+D*Xa;d[7]=x*Sa+A*Ra+E*Xa;d[8]=w*Aa+z*Ba+B*Ka;d[9]=r*Aa+y*Ba+C*Ka;d[10]=t*Aa+u*Ba+D*Ka;d[11]=x*Aa+A*Ba+E*Ka;a!==d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]);return d},rotateX:function(a,b,c){f=Math.sin(b);g=Math.cos(b);z=a[4];y=a[5];u=a[6];A=a[7];B=a[8];C=a[9];D=a[10];E=a[11];a!==c&&(c[0]=a[0],
c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[4]=z*g+B*f;c[5]=y*g+C*f;c[6]=u*g+D*f;c[7]=A*g+E*f;c[8]=B*g-z*f;c[9]=C*g-y*f;c[10]=D*g-u*f;c[11]=E*g-A*f;return c},rotateY:function(a,b,c){f=Math.sin(b);g=Math.cos(b);w=a[0];r=a[1];t=a[2];x=a[3];B=a[8];C=a[9];D=a[10];E=a[11];a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=w*g-B*f;c[1]=r*g-C*f;c[2]=t*g-D*f;c[3]=x*g-E*f;c[8]=w*f+B*g;c[9]=r*f+C*g;c[10]=t*f+D*g;c[11]=x*
f+E*g;return c},rotateZ:function(a,b,c){f=Math.sin(b);g=Math.cos(b);w=a[0];r=a[1];t=a[2];x=a[3];z=a[4];y=a[5];u=a[6];A=a[7];a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=w*g+z*f;c[1]=r*g+y*f;c[2]=t*g+u*f;c[3]=x*g+A*f;c[4]=z*g-w*f;c[5]=y*g-r*f;c[6]=u*g-t*f;c[7]=A*g-x*f;return c},scale:function(a,b,c){void 0===c&&(c=new Float32Array(16));l=b[0];h=b[1];m=b[2];c[0]=a[0]*l;c[1]=a[1]*l;c[2]=a[2]*l;c[3]=a[3]*l;c[4]=a[4]*h;c[5]=a[5]*h;c[6]=a[6]*
h;c[7]=a[7]*h;c[8]=a[8]*m;c[9]=a[9]*m;c[10]=a[10]*m;c[11]=a[11]*m;c!==a&&(c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c},targetTo:function(a,b,c,d){void 0===d&&(d=new Float32Array(16));var e=a[0],g=a[1];a=a[2];var f=c[0],m=c[1],h=c[2];c=e-b[0];var l=g-b[1];b=a-b[2];var k=c*c+l*l+b*b;0<k&&(k=1/Math.sqrt(k),c*=k,l*=k,b*=k);var n=m*b-h*l;h=h*c-f*b;f=f*l-m*c;k=n*n+h*h+f*f;0<k&&(k=1/Math.sqrt(k),n*=k,h*=k,f*=k);d[0]=n;d[1]=h;d[2]=f;d[3]=0;d[4]=l*f-b*h;d[5]=b*n-c*f;d[6]=c*h-l*n;d[7]=0;d[8]=
c;d[9]=l;d[10]=b;d[11]=0;d[12]=e;d[13]=g;d[14]=a;d[15]=1;return d},translate:function(a,b,c){void 0===c&&(c=new Float32Array(16));l=b[0];h=b[1];m=b[2];a===c?(c[12]=a[0]*l+a[4]*h+a[8]*m+a[12],c[13]=a[1]*l+a[5]*h+a[9]*m+a[13],c[14]=a[2]*l+a[6]*h+a[10]*m+a[14],c[15]=a[3]*l+a[7]*h+a[11]*m+a[15]):(w=a[0],r=a[1],t=a[2],x=a[3],z=a[4],y=a[5],u=a[6],A=a[7],B=a[8],C=a[9],D=a[10],E=a[11],c[0]=w,c[1]=r,c[2]=t,c[3]=x,c[4]=z,c[5]=y,c[6]=u,c[7]=A,c[8]=B,c[9]=C,c[10]=D,c[11]=E,c[12]=w*l+z*h+B*m+a[12],c[13]=r*l+y*
h+C*m+a[13],c[14]=t*l+u*h+D*m+a[14],c[15]=x*l+A*h+E*m+a[15]);return c},transpose:function(a,b){void 0===b&&(b=new Float32Array(16));b===a?(r=a[1],t=a[2],x=a[3],u=a[6],A=a[7],E=a[11],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=r,b[6]=a[9],b[7]=a[13],b[8]=t,b[9]=u,b[11]=a[14],b[12]=x,b[13]=A,b[14]=E):(b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15]);return b}}),q,G,H,na,Fa,Ga,xa,Jb,wb=
function(a,b,c){void 0===c&&(c=new Float32Array(3));q=a[0];G=a[1];H=a[2];na=b[0];Fa=b[1];Ga=b[2];c[0]=G*Ga-H*Fa;c[1]=H*na-q*Ga;c[2]=q*Fa-G*na;return c},fc=function(a,b,c){void 0===c&&(c=new Float32Array(3));c[0]=a[0]/b;c[1]=a[1]/b;c[2]=a[2]/b;return c},xb=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},Kb=function(a){return Math.sqrt(gc(a))},gc=function(a){return a[0]*a[0]+a[1]*a[1]+a[2]*a[2]},hc=function(a,b,c){void 0===c&&(c=new Float32Array(3));c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},
Lb=function(a,b){void 0===b&&(b=new Float32Array(3));return fc(a,Kb(a)||1,b)},Cc=new Float32Array([0,0,0]),Dc=new Float32Array([1,1,1]),ic=new Float32Array([0,1,0]),Ec=new Float32Array([0,-1,0]),jc=new Float32Array([-1,0,0]),Fc=new Float32Array([1,0,0]),Gc=new Float32Array([0,0,-1]),Hc=new Float32Array([0,0,1]),Ic=Object.freeze({__proto__:null,add:function(a,b,c){void 0===c&&(c=new Float32Array(3));c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},addScalar:function(a,b,c){void 0===c&&(c=new Float32Array(3));
c[0]=a[0]+b;c[1]=a[1]+b;c[2]=a[2]+b;return c},angle:function(a,b){q=a[0];G=a[1];H=a[2];na=b[0];Fa=b[1];Ga=b[2];var c=Math.sqrt(q*q+G*G+H*H)*Math.sqrt(na*na+Fa*Fa+Ga*Ga);a=c&&xb(a,b)/c;return Math.acos(Ca(a,-1,1))},clamp:function(a,b,c,d){void 0===d&&(d=new Float32Array(3));d[0]=Ca(a[0],b[0],c[0]);d[1]=Ca(a[1],b[1],c[1]);d[2]=Ca(a[2],b[2],c[2]);return d},clampSafe:function(a,b,c,d){void 0===d&&(d=new Float32Array(3));d[0]=Oa(a[0],b[0],c[0]);d[1]=Oa(a[1],b[1],c[1]);d[1]=Oa(a[2],b[2],c[2]);return d},
clampScalar:function(a,b,c,d){void 0===d&&(d=new Float32Array(3));d[0]=Ca(a[0],b,c);d[1]=Ca(a[1],b,c);d[2]=Ca(a[2],b,c);return d},clone:function(a,b){void 0===b&&(b=new Float32Array(3));b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},closeTo:function(a,b){return sa(a[0],b[0])&&sa(a[1],b[1])&&sa(a[2],b[2])},create:function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=new Float32Array(3));d[0]=a;d[1]=b;d[2]=c;return d},cross:wb,distanceTo:function(a,b){q=b[0]-a[0];G=b[1]-a[1];H=b[2]-a[2];return Math.hypot(q,G,
H)},distanceToManhattan:function(a,b){return Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2])},distanceToSquared:function(a,b){q=a[0]-b[0];G=a[1]-b[1];H=a[2]-b[2];return q*q+G*G+H*H},divide:function(a,b,c){void 0===c&&(c=new Float32Array(3));c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];return c},divideScalar:fc,dot:xb,equals:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]},from:function(a,b){void 0===b&&(b=new Float32Array(3));b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},fromArray:function(a,
b,c){void 0===b&&(b=0);void 0===c&&(c=new Float32Array(3));c[0]=a[b];c[1]=a[b+1];c[2]=a[b+2];return c},fromScalar:function(a,b){void 0===b&&(b=new Float32Array(3));b[0]=b[1]=b[2]=a;return b},fromValues:function(a,b,c,d){void 0===d&&(d=new Float32Array(3));d[0]=a;d[1]=b;d[2]=c;return d},hermite:function(a,b,c,d,e,f){void 0===f&&(f=new Float32Array(3));xa=e*e;var g=xa*(2*e-3)+1,h=xa*(e-2)+e,k=xa*(e-1);e=xa*(3-2*e);f[0]=a[0]*g+b[0]*h+c[0]*k+d[0]*e;f[1]=a[1]*g+b[1]*h+c[1]*k+d[1]*e;f[2]=a[2]*g+b[2]*h+
c[2]*k+d[2]*e;return f},inverse:function(a,b){void 0===b&&(b=new Float32Array(3));b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];return b},length:Kb,lengthManhattan:function(a){return Math.abs(a[0])+Math.abs(a[1])+Math.abs(a[2])},lengthSquared:gc,lerp:function(a,b,c,d){void 0===d&&(d=new Float32Array(3));d[0]+=(b[0]-a[0])*c;d[1]+=(b[1]-a[1])*c;d[2]+=(b[2]-a[2])*c;return d},max:function(a,b,c){void 0===c&&(c=new Float32Array(3));c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);return c},
min:function(a,b,c){void 0===c&&(c=new Float32Array(3));c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c},minus:function(a,b,c){void 0===c&&(c=new Float32Array(3));c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},minusScalar:function(a,b,c){void 0===c&&(c=new Float32Array(3));c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]-b;return c},multiply:function(a,b,c){void 0===c&&(c=new Float32Array(3));c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c},multiplyScalar:hc,negate:function(a,
b){void 0===b&&(b=new Float32Array(3));b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},normalize:Lb,rotateX:function(a,b,c,d){q=a[0]-b[0];G=a[1]-b[1];H=a[2]-b[2];na=q;Fa=G*Math.cos(c)-H*Math.sin(c);Ga=G*Math.sin(c)+H*Math.cos(c);d[0]=na+b[0];d[1]=Fa+b[1];d[2]=Ga+b[2];return d},rotateY:function(a,b,c,d){q=a[0]-b[0];G=a[1]-b[1];H=a[2]-b[2];na=H*Math.sin(c)+q*Math.cos(c);Fa=G;Ga=H*Math.cos(c)-q*Math.sin(c);d[0]=na+b[0];d[1]=Fa+b[1];d[2]=Ga+b[2];return d},rotateZ:function(a,b,c,d){q=a[0]-b[0];G=a[1]-b[1];
H=a[2]-b[2];na=q*Math.cos(c)-G*Math.sin(c);Fa=q*Math.sin(c)+G*Math.cos(c);Ga=H;d[0]=na+b[0];d[1]=Fa+b[1];d[2]=Ga+b[2];return d},round:function(a,b){void 0===b&&(b=new Float32Array(3));b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);return b},set:function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=new Float32Array(3));d[0]=a;d[1]=b;d[2]=c;return d},setLength:function(a,b,c){void 0===c&&(c=new Float32Array(3));return hc(Lb(a,c),b,c)},slerp:function(a,
b,c,d){void 0===d&&(d=new Float32Array(3));xa=Math.acos(Math.min(Math.max(xb(a,b),-1),1));Jb=Math.sin(xa);q=Math.sin((1-c)*xa)/Jb;na=Math.sin(c*xa)/Jb;d[0]=q*a[0]+na*b[0];d[1]=q*a[1]+na*b[1];d[2]=q*a[2]+na*b[2];return d},toString:function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},transformMatrix3:function(a,b,c){q=a[0];G=a[1];H=a[2];c[0]=q*b[0]+G*b[3]+H*b[6];c[1]=q*b[1]+G*b[4]+H*b[7];c[2]=q*b[2]+G*b[5]+H*b[8];return c},transformMatrix4:function(a,b,c){void 0===c&&(c=new Float32Array(3));q=a[0];
G=a[1];H=a[2];xa=(xa=b[3]*q+b[7]*G+b[11]*H+b[15])||1;c[0]=(b[0]*q+b[4]*G+b[8]*H+b[12])/xa;c[1]=(b[1]*q+b[5]*G+b[9]*H+b[13])/xa;c[2]=(b[2]*q+b[6]*G+b[10]*H+b[14])/xa;return c},transformQuat:function(a,b,c){void 0===c&&(c=new Float32Array(3));var d=b[0],e=b[1],f=b[2],g=a[0],h=a[1];a=a[2];var k=e*a-f*h,l=f*g-d*a,m=d*h-e*g;b=2*b[3];c[0]=g+k*b+2*(e*m-f*l);c[1]=h+l*b+2*(f*k-d*m);c[2]=a+m*b+2*(d*l-e*k);return c},VECTOR3_ZERO:Cc,VECTOR3_ONE:Dc,VECTOR3_TOP:ic,VECTOR3_BOTTOM:Ec,VECTOR3_LEFT:jc,VECTOR3_RIGHT:Fc,
VECTOR3_FRONT:Gc,VECTOR3_BACK:Hc}),I,J,K,L,mb,nb,ob,Ta,yb,zb,Ab,Bb,Mb,Nb,Ob,Pb,Qb,Rb,Cb,Db,Eb,Fb,Sb=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},kc=function(a,b,c,d){void 0===d&&(d=new Float32Array(4));I=a[0];J=a[1];K=a[2];L=a[3];d[0]=I+c*(b[0]-I);d[1]=J+c*(b[1]-J);d[2]=K+c*(b[2]-K);d[3]=L+c*(b[3]-L);return d},lc=function(a,b){void 0===b&&(b=new Float32Array(4));I=a[0];J=a[1];K=a[2];L=a[3];Ta=I*I+J*J+K*K+L*L;0<Ta&&(Ta=1/Math.sqrt(Ta));b[0]=I*Ta;b[1]=J*Ta;b[2]=K*Ta;b[3]=L*Ta;return b},
Jc=Object.freeze({__proto__:null,add:function(a,b,c){void 0===c&&(c=new Float32Array(4));c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},ceil:function(a,b){void 0===b&&(b=new Float32Array(4));b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);b[2]=Math.ceil(a[2]);b[3]=Math.ceil(a[3]);return b},closeTo:function(a,b){return sa(a[0],b[0])&&sa(a[1],b[1])&&sa(a[2],b[2])&&sa(a[3],b[3])},create:function(a,b,c,d,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=0);void 0===
e&&(e=new Float32Array(4));e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},cross:function(a,b,c,d){void 0===d&&(d=new Float32Array(4));Mb=b[0]*c[1]-b[1]*c[0];Nb=b[0]*c[2]-b[2]*c[0];Ob=b[0]*c[3]-b[3]*c[0];Pb=b[1]*c[2]-b[2]*c[1];Qb=b[1]*c[3]-b[3]*c[1];Rb=b[2]*c[3]-b[3]*c[2];Cb=a[0];Db=a[1];Eb=a[2];Fb=a[3];d[0]=Db*Rb-Eb*Qb+Fb*Pb;d[1]=-(Cb*Rb)+Eb*Ob-Fb*Nb;d[2]=Cb*Qb-Db*Ob+Fb*Mb;d[3]=-(Cb*Pb)+Db*Nb-Eb*Mb;return d},distanceTo:function(a,b){I=b[0]-a[0];J=b[1]-a[1];K=b[2]-a[2];L=b[3]-a[3];return Math.hypot(I,J,K,L)},
distanceToSquared:function(a,b){I=b[0]-a[0];J=b[1]-a[1];K=b[2]-a[2];L=b[3]-a[3];return I*I+J*J+K*K+L*L},divide:function(a,b,c){void 0===c&&(c=new Float32Array(4));c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c},dot:Sb,equals:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},floor:function(a,b){b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);b[2]=Math.floor(a[2]);b[3]=Math.floor(a[3]);return b},from:function(a,b){void 0===b&&(b=new Float32Array(4));b[0]=a[0];
b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},fromValues:function(a,b,c,d,e){void 0===e&&(e=new Float32Array(4));e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},inverse:function(a,b){void 0===b&&(b=new Float32Array(4));b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];b[3]=1/a[3];return b},length:function(a){return Math.hypot(a[0],a[1],a[2],a[3])},lengthSquared:function(a){I=a[0];J=a[1];K=a[2];L=a[3];return I*I+J*J+K*K+L*L},lerp:kc,max:function(a,b,c){void 0===c&&(c=new Float32Array(4));c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],
b[1]);c[2]=Math.max(a[2],b[2]);c[3]=Math.max(a[3],b[3]);return c},min:function(a,b,c){void 0===c&&(c=new Float32Array(4));c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);c[3]=Math.min(a[3],b[3]);return c},minus:function(a,b,c){void 0===c&&(c=new Float32Array(4));c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:function(a,b,c){void 0===c&&(c=new Float32Array(4));c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c},multiplyScalar:function(a,
b,c){void 0===c&&(c=new Float32Array(4));c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},negate:function(a,b){void 0===b&&(b=new Float32Array(4));b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},normalize:lc,round:function(a,b){void 0===b&&(b=new Float32Array(4));b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);b[3]=Math.round(a[3]);return b},toString:function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},transformMatrix4:function(a,b,c){void 0===c&&(c=new Float32Array(4));
I=a[0];J=a[1];K=a[2];L=a[3];c[0]=b[0]*I+b[4]*J+b[8]*K+b[12]*L;c[1]=b[1]*I+b[5]*J+b[9]*K+b[13]*L;c[2]=b[2]*I+b[6]*J+b[10]*K+b[14]*L;c[3]=b[3]*I+b[7]*J+b[11]*K+b[15]*L;return c},transformQuat:function(a,b,c){void 0===c&&(c=new Float32Array(4));mb=a[0];nb=a[1];ob=a[2];I=b[0];J=b[1];K=b[2];L=b[3];yb=L*mb+J*ob-K*nb;zb=L*nb+K*mb-I*ob;Ab=L*ob+I*nb-J*mb;Bb=-I*mb-J*nb-K*ob;c[0]=yb*L+Bb*-I+zb*-K-Ab*-J;c[1]=zb*L+Bb*-J+Ab*-I-yb*-K;c[2]=Ab*L+Bb*-K+yb*-J-zb*-I;c[3]=a[3];return c}}),N,O,P,V,oa,pa,qa,M,ra=0,ya=0,
Tb=0,Na=0,Gb=0,gb=0,hb=0,Ma=new Float32Array(3),mc=function(a,b,c){void 0===c&&(c=new Float32Array(4));b*=.5;ra=Math.sin(b);c[0]=ra*a[0];c[1]=ra*a[1];c[2]=ra*a[2];c[3]=Math.cos(b);return c},Kc=Object.freeze({__proto__:null,angleTo:function(a,b){Na=Sb(a,b);return Math.acos(2*Na*Na-1)},conjugate:function(a,b){void 0===b&&(b=new Float32Array(4));b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b},create:function(a,b,c,d,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=1);void 0===
e&&(e=new Float32Array(4));e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},dot:Sb,fromAxisAngle:mc,fromMatrix3:function(a,b){var c=a[0]+a[4]+a[8];if(0<c)c=Math.sqrt(c+1),b[3]=.5*c,c=.5/c,b[0]=(a[5]-a[7])*c,b[1]=(a[6]-a[2])*c,b[2]=(a[1]-a[3])*c;else{var d=0;a[4]>a[0]&&(d=1);a[8]>a[3*d+d]&&(d=2);var e=(d+1)%3,f=(d+2)%3;c=Math.sqrt(a[3*d+d]-a[3*e+e]-a[3*f+f]+1);b[d]=.5*c;c=.5/c;b[3]=(a[3*e+f]-a[3*f+e])*c;b[e]=(a[3*e+d]+a[3*d+e])*c;b[f]=(a[3*f+d]+a[3*d+f])*c}return b},identity:function(a){void 0===a&&(a=new Float32Array(4));
a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a},invert:function(a,b){void 0===b&&(b=new Float32Array(4));N=a[0];O=a[1];P=a[2];V=a[3];(Na=N*N+O*O+P*P+V*V)?(ya=1/Na,b[0]=-N*ya,b[1]=-O*ya,b[2]=-P*ya,b[3]=V*ya):(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b},lerp:kc,multiply:function(a,b,c){N=a[0];O=a[1];P=a[2];V=a[3];oa=b[0];pa=b[1];qa=b[2];M=b[3];c[0]=N*M+V*oa+O*qa-P*pa;c[1]=O*M+V*pa+P*oa-N*qa;c[2]=P*M+V*qa+N*pa-O*oa;c[3]=V*M-N*oa-O*pa-P*qa;return c},random:function(a){N=Math.random();O=Math.random();P=Math.random();
ya=Math.sqrt(1-N);ra=Math.sqrt(N);a[0]=ya*Math.sin(2*Math.PI*O);a[1]=ya*Math.cos(2*Math.PI*O);a[2]=ra*Math.sin(2*Math.PI*P);a[3]=ra*Math.cos(2*Math.PI*P);return a},rotationTo:function(a,b,c){Na=xb(a,b);if(-.999999>Na)return wb(jc,a,Ma),1E-6>Kb(Ma)&&wb(ic,a,Ma),Lb(Ma,Ma),mc(Ma,Math.PI,c),c;if(.999999<Na)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;wb(Ma,a,b);c[0]=Ma[0];c[1]=Ma[1];c[2]=Ma[2];c[3]=1+Na;return lc(c,c)},rotateX:function(a,b,c){b*=.5;N=a[0];O=a[1];P=a[2];V=a[3];oa=Math.sin(b);M=Math.cos(b);c[0]=
N*M+V*oa;c[1]=O*M+P*oa;c[2]=P*M-O*oa;c[3]=V*M-N*oa;return c},rotateY:function(a,b,c){b*=.5;N=a[0];O=a[1];P=a[2];V=a[3];pa=Math.sin(b);M=Math.cos(b);c[0]=N*M-P*pa;c[1]=O*M+V*pa;c[2]=P*M+N*pa;c[3]=V*M-O*pa;return c},rotateZ:function(a,b,c){b*=.5;N=a[0];O=a[1];P=a[2];V=a[3];qa=Math.sin(b);M=Math.cos(b);c[0]=N*M+O*qa;c[1]=O*M-N*qa;c[2]=P*M+V*qa;c[3]=V*M-P*qa;return c},slerp:function(a,b,c,d){N=a[0];O=a[1];P=a[2];V=a[3];oa=b[0];pa=b[1];qa=b[2];M=b[3];ya=N*oa+O*pa+P*qa+V*M;0>ya&&(ya=-ya,oa=-oa,pa=-pa,qa=
-qa,M=-M);1-ya>Ha?(Gb=Math.acos(ya),ra=Math.sin(Gb),gb=Math.sin((1-c)*Gb)/ra,hb=Math.sin(c*Gb)/ra):(gb=1-c,hb=c);d[0]=gb*N+hb*oa;d[1]=gb*O+hb*pa;d[2]=gb*P+hb*qa;d[3]=gb*V+hb*M;return d},toAxisAngle:function(a,b){void 0===b&&(b=new Float32Array(3));Tb=2*Math.acos(a[3]);ra=Math.sin(Tb/2);ra>Ha?(b[0]=a[0]/ra,b[1]=a[1]/ra,b[2]=a[2]/ra):(b[0]=1,b[1]=0,b[2]=0);return Tb},toString:function(a){return'quat("'+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}}),za=0,La=0,Ub=0,Vb=0,nc=function(a){return Math.atan2(a[1],
a[0])},oc=function(a,b){za=b[0]-a[0];La=b[1]-a[1];return Math.hypot(za,La)},pc=function(a,b){return Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])},qc=function(a,b,c){void 0===c&&(c=new Float32Array(2));return Wb(a,1/b,c)},Xb=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},Wb=function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=a[0]*b;c[1]=a[1]*b;return c},rc=function(a,b){void 0===b&&(b=new Float32Array(2));return qc(a,Xb(a)||1,b)},sc=new Float32Array([0,0]),Lc=new Float32Array([0,1]),Mc=new Float32Array([0,
-1]),Nc=new Float32Array([-1,0]),Oc=new Float32Array([1,0]),Pc=Object.freeze({__proto__:null,add:function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},addScalar:function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=a[0]+b;c[1]=a[1]+b;return c},angle:nc,ceil:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);return b},clamp:function(a,b,c,d){void 0===d&&(d=new Float32Array(2));d[0]=Ca(a[0],b[0],c[0]);d[1]=Ca(a[1],b[1],
c[1]);return d},clampSafe:function(a,b,c,d){void 0===d&&(d=new Float32Array(2));d[0]=Oa(a[0],b[0],c[0]);d[1]=Oa(a[1],b[1],c[1]);return d},clampLength:function(a,b,c,d){void 0===d&&(d=new Float32Array(2));d[0]=Oa(a[0],b[0],c[0]);d[1]=Oa(a[1],b[1],c[1]);return d},clampScalar:function(a,b,c,d){void 0===d&&(d=new Float32Array(2));d[0]=Ca(a[0],b,c);d[1]=Ca(a[1],b,c);return d},closeTo:function(a,b,c){void 0===c&&(c=Ha);return oc(a,b)<=c},closeToRect:function(a,b,c){void 0===c&&(c=Ha);return sa(a[0],b[0],
c)&&sa(a[1],b[1],c)},closeToManhattan:function(a,b,c){void 0===c&&(c=Ha);return pc(a,b)<=c},clone:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=a[0];b[1]=a[1];return b},cross:function(a,b){return a[0]*b[1]-a[1]*b[0]},create:function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=a;c[1]=b;return c},distanceTo:oc,distanceToManhattan:pc,distanceToSquared:function(a,b){za=a[0]-b[0];La=a[1]-b[1];return za*za+La*La},divide:function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=a[0]/b[0];c[1]=
a[1]/b[1];return c},divideScalar:qc,dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},equals:function(a,b){return a[0]===b[0]&&a[1]===b[1]},floor:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);return b},floorToZero:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=pb(a[0]);b[1]=pb(a[1]);return b},from:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=a[0];b[1]=a[1];return b},fromArray:function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=new Float32Array(2));
c[0]=a[b];c[1]=a[b+1];return c},fromJson:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=a.x;b[1]=a.y;return b},fromPolar:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=Math.cos(a.a)*a.r;b[1]=Math.sin(a.a)*a.r;return b},fromScalar:function(a,b){void 0===a&&(a=0);void 0===b&&(b=new Float32Array(2));b[0]=b[1]=a;return b},inverse:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=1/a[0]||0;b[1]=1/a[1]||0;return b},length:Xb,lengthManhattan:function(a){return Math.abs(a[0])+Math.abs(a[1])},
lengthSquared:function(a){return a[0]*a[0]+a[1]*a[1]},lerp:function(a,b,c,d){void 0===d&&(d=new Float32Array(2));d[0]=(b[0]-a[0])*c+a[0];d[1]=(b[1]-a[1])*c+a[1];return d},max:function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);return c},min:function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);return c},minus:function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=a[0]-b[0];c[1]=a[1]-b[0];return c},
minusScalar:function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=a[0]-b;c[1]=a[1]-b;return c},multiply:function(a,b,c){void 0===c&&(c=new Float32Array(2));c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c},multiplyScalar:Wb,negate:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=-a[0];b[1]=-a[1];return b},normalize:rc,random:function(a,b){void 0===a&&(a=1);void 0===b&&(b=new Float32Array(2));za=Math.random()*vc;b[0]=Math.cos(za)*a;b[1]=Math.sin(za)*a;return b},rotate:function(a,b,c,d){void 0===c&&
(c=sc);void 0===d&&(d=new Float32Array(2));Ub=Math.cos(b);Vb=Math.sin(b);za=a[0]-c[0];La=a[1]-c[1];d[0]=za*Ub-La*Vb+c[0];d[1]=za*Vb+La*Ub+c[1];return d},round:function(a,b){void 0===b&&(b=new Float32Array(2));b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);return b},set:function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=new Float32Array(2));c[0]=a;c[1]=b;return c},setLength:function(a,b,c){void 0===c&&(c=new Float32Array(2));rc(a,c);Wb(c,b,c);return c},toArray:function(a,b){void 0===b&&
(b=[]);b[0]=a[0];b[1]=a[1];return b},toPalorJson:function(a,b){void 0===b&&(b={a:0,r:0});b.r=Xb(a);b.a=nc(a);return b},toString:function(a){return"vec2("+a[0]+", "+a[1]+")"},transformMatrix3:function(a,b,c){za=a[0];La=a[1];c[0]=b[0]*za+b[3]*La+b[6];c[1]=b[1]*za+b[4]*La+b[7];return c},VECTOR2_ZERO:sc,VECTOR2_TOP:Lc,VECTOR2_BOTTOM:Mc,VECTOR2_LEFT:Nc,VECTOR2_RIGHT:Oc});v.COLOR_HEX_MAP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,
black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
v.ColorRGB=uc;v.ColorRGBA=tc;v.Matrix2=xc;v.Matrix3=zc;v.Matrix4=Bc;v.Quaternion=Kc;v.Vector2=Pc;v.Vector3=Ic;v.Vector4=Jc;v.ceilPowerOfTwo=function(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))};v.clamp=Ca;v.clampCircle=function(a,b,c){$a=c-b;ab=pb(b/$a)*$a+a%$a;return ab<b?ab+$a:ab>c?ab-$a:ab};v.clampSafe=Oa;v.closeTo=sa;v.floorPowerOfTwo=function(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))};v.floorToZero=pb;v.isPowerOfTwo=function(a){return 0===(a&a-1)&&0!==a};v.randFloat=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=1);return a+Math.random()*(b-a)};v.randInt=function(a,b){void 0===a&&(a=0);void 0===b&&(b=1);return a+Math.floor(Math.random()*(b-a+1))};v.rndFloat=function(a,b){return a+Math.random()*(b-a)};v.rndFloatRange=function(a){return a*(.5-Math.random())};v.rndInt=function(a,b){return a+Math.floor(Math.random()*(b-a+1))};v.sum=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Zb(a)};v.sumArray=Zb;Object.defineProperty(v,"__esModule",{value:!0})});

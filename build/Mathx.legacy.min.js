/*
 *****************************************************************************
 Copyright (c) Microsoft Corporation.

 Permission to use, copy, modify, and/or distribute this software for any
 purpose with or without fee is hereby granted.

 THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
 REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
 INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
 OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
(function(m,Ba){"object"===typeof exports&&"undefined"!==typeof module?Ba(exports):"function"===typeof define&&define.amd?define(["exports"],Ba):(m="undefined"!==typeof globalThis?globalThis:m||self,Ba(m.Mathx={}))})(this,function(m){function Ba(f,d){function a(){this.constructor=f}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");fc(f,d);f.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}function gc(f,d,a,b,
c){Mb=0;for(Dc=f.length-3;Mb<=Dc;Mb+=3)if(h.fromArray(f,Mb,kb),Ec=c[0]*Math.abs(kb[0])+c[1]*Math.abs(kb[1])+c[2]*Math.abs(kb[2]),hc=h.dot(d,kb),ic=h.dot(a,kb),jc=h.dot(b,kb),Math.max(-Math.max(hc,ic,jc),Math.min(hc,ic,jc))>Ec)return!1;return!0}var Fc=2*Math.PI,Pa=Math.pow(2,-52),Rc=Object.freeze({__proto__:null,DEG_TO_RAD:Math.PI/180,DEG_360_RAD:Fc,DEG_90_RAD:Math.PI/2,DEG_60_RAD:Math.PI/3,DEG_45_RAD:Math.PI/4,DEG_30_RAD:Math.PI/6,EPSILON:Pa,RAD_TO_DEG:180/Math.PI}),lb={aliceblue:15792383,antiquewhite:16444375,
aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,
darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,
indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,
maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,
papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,
violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fc=function(f,d){fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return fc(f,d)},Sc=function(f){function d(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=1);var g=f.call(this,4)||this;g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g}Ba(d,f);Object.defineProperty(d.prototype,
"r",{get:function(){return this[0]},set:function(a){this[0]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"g",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"b",{get:function(){return this[2]},set:function(a){this[2]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"a",{get:function(){return this[4]},set:function(a){this[4]=a},enumerable:!1,configurable:!0});d.average=function(a){return(a[0]+
a[1]+a[2])/3};d.averageWeighted=function(a,b,c,e){void 0===b&&(b=.299);void 0===c&&(c=.587);void 0===e&&(e=.114);return a[0]*b+a[1]*c+a[2]*e};d.clone=function(a){return new d(a[0],a[1],a[2],a[3])};d.create=function(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=1);return new d(a,b,c,e)};d.equals=function(a,b){var c,e,g,n,k,t,q,r;return(null!==(c=a.r)&&void 0!==c?c:a[0])===(null!==(e=b.r)&&void 0!==e?e:b[0])&&(null!==(g=a.g)&&void 0!==g?g:a[1])===(null!==(n=b.g)&&void 0!==
n?n:b[1])&&(null!==(k=a.b)&&void 0!==k?k:a[2])===(null!==(t=b.b)&&void 0!==t?t:b[2])&&(null!==(q=a.a)&&void 0!==q?q:a[3])===(null!==(r=b.a)&&void 0!==r?r:b[3])};d.fromArray=function(a,b){void 0===b&&(b=new d);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};d.fromHex=function(a,b,c){void 0===b&&(b=255);void 0===c&&(c=new d);c[0]=a>>16;c[1]=a>>8&255;c[2]=a&255;c[3]=b;return c};d.fromJson=function(a,b){void 0===b&&(b=new d);b[0]=a.r;b[1]=a.g;b[2]=a.b;b[3]=a.a;return b};d.fromScalar=function(a,b,c){void 0===
b&&(b=255);void 0===c&&(c=new d);c[0]=a;c[1]=a;c[2]=a;c[3]=b;return c};d.fromString=function(a,b){void 0===b&&(b=new d);if(a in lb)return d.fromHex(lb[a],255,b);if(a.startsWith("#"))return a=a.substr(1),d.fromScalar(parseInt(a,16),255,b);a.startsWith("rgba(")&&(a=a.substring(4,a.length-1),a=a.split(","),b[0]=parseInt(a[0],10),b[1]=parseInt(a[1],10),b[2]=parseInt(a[2],10),b[3]=parseInt(a[3],10));return b};d.grayscale=function(a,b,c,e,g){void 0===b&&(b=.299);void 0===c&&(c=.587);void 0===e&&(e=.114);
void 0===g&&(g=new d);b=d.averageWeighted(a,b,c,e);d.fromScalar(b,a[3],g);return g};return d}(Uint8Array),Tc=function(f){function d(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);var e=f.call(this,3)||this;e[0]=a;e[1]=b;e[2]=c;return e}Ba(d,f);Object.defineProperty(d.prototype,"r",{get:function(){return this[0]},set:function(a){this[0]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"g",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!1,configurable:!0});
Object.defineProperty(d.prototype,"b",{get:function(){return this[2]},set:function(a){this[2]=a},enumerable:!1,configurable:!0});d.average=function(a){return(a[0]+a[1]+a[2])/3};d.averageWeighted=function(a,b,c,e){void 0===b&&(b=.299);void 0===c&&(c=.587);void 0===e&&(e=.114);return a[0]*b+a[1]*c+a[2]*e};d.clone=function(a){return new d(a[0],a[1],a[2])};d.create=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return new d(a,b,c)};d.equals=function(a,b){var c,e,g,n,k,t;return(null!==
(c=a.r)&&void 0!==c?c:a[0])===(null!==(e=b.r)&&void 0!==e?e:b[0])&&(null!==(g=a.g)&&void 0!==g?g:a[1])===(null!==(n=b.g)&&void 0!==n?n:b[1])&&(null!==(k=a.b)&&void 0!==k?k:a[2])===(null!==(t=b.b)&&void 0!==t?t:b[2])};d.fromArray=function(a,b){void 0===b&&(b=new d);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};d.fromHex=function(a,b){void 0===b&&(b=new d);b[0]=a>>16;b[1]=a>>8&255;b[2]=a&255;return b};d.fromJson=function(a,b){void 0===b&&(b=new d);b[0]=a.r;b[1]=a.g;b[2]=a.b;return b};d.fromScalar=function(a,
b){void 0===b&&(b=new d);b[0]=a;b[1]=a;b[2]=a;return b};d.fromString=function(a,b){void 0===b&&(b=new d);if(a in lb)return d.fromHex(lb[a],b);if(a.startsWith("#"))return a=a.substr(1),d.fromScalar(parseInt(a,16),b);a.startsWith("rgb(")&&(a=a.substring(4,a.length-1),a=a.split(","),b[0]=parseInt(a[0],10),b[1]=parseInt(a[1],10),b[2]=parseInt(a[2],10));return b};d.grayscale=function(a,b,c,e,g){void 0===b&&(b=.299);void 0===c&&(c=.587);void 0===e&&(e=.114);void 0===g&&(g=new d);a=d.averageWeighted(a,b,
c,e);d.fromScalar(a,g);return g};return d}(Uint8Array),Uc=function(f){function d(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=0);var g=f.call(this,4)||this;g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g}Ba(d,f);d.fromColorRGB=function(a,b){void 0===b&&(b=new d);b[0]=a[0]/255;b[1]=a[1]/255;b[2]=a[2]/255;b[3]=1;return b};d.fromColorRGBA=function(a,b){void 0===b&&(b=new d);b[0]=a[0]/255;b[1]=a[1]/255;b[2]=a[2]/255;b[3]=a[3]/255;return b};Object.defineProperty(d.prototype,"r",{get:function(){return this[0]},
set:function(a){this[0]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"g",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"b",{get:function(){return this[2]},set:function(a){this[2]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"a",{get:function(){return this[3]},set:function(a){this[3]=a},enumerable:!1,configurable:!0});d.average=function(a){return(a[0]+a[1]+a[2])/3};d.averageWeighted=
function(a,b,c,e){void 0===b&&(b=.299);void 0===c&&(c=.587);void 0===e&&(e=.114);return a[0]*b+a[1]*c+a[2]*e};d.clone=function(a){return new d(a[0],a[1],a[2],a[3])};d.create=function(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=0);return new d(a,b,c,e)};d.equals=function(a,b){var c,e,g,n,k,t,q,r;return(null!==(c=a.r)&&void 0!==c?c:a[0])===(null!==(e=b.r)&&void 0!==e?e:b[0])&&(null!==(g=a.g)&&void 0!==g?g:a[1])===(null!==(n=b.g)&&void 0!==n?n:b[1])&&(null!==(k=a.b)&&
void 0!==k?k:a[2])===(null!==(t=b.b)&&void 0!==t?t:b[2])&&(null!==(q=a.a)&&void 0!==q?q:a[3])===(null!==(r=b.a)&&void 0!==r?r:b[3])};d.fromArray=function(a,b){void 0===b&&(b=new d);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};d.fromHex=function(a,b,c){void 0===b&&(b=1);void 0===c&&(c=new d);c[0]=(a>>16)/255;c[1]=(a>>8&255)/255;c[2]=(a&255)/255;c[3]=b;return c};d.fromJson=function(a,b){void 0===b&&(b=new d);b[0]=a.r;b[1]=a.g;b[2]=a.b;b[3]=a.a;return b};d.fromScalar=function(a,b){void 0===b&&(b=
new d);b[0]=a;b[1]=a;b[2]=a;return b};d.fromString=function(a,b){void 0===b&&(b=new d);if(a in lb)return d.fromHex(lb[a],1,b);if(a.startsWith("#"))return a=a.substr(1),d.fromHex(parseInt(a,16),1,b);a.startsWith("rgb(")&&(a=a.substring(4,a.length-1),a=a.split(","),b[0]=parseInt(a[0],10)/255,b[1]=parseInt(a[1],10)/255,b[2]=parseInt(a[2],10)/255);return b};d.grayscale=function(a,b,c,e,g){void 0===b&&(b=.299);void 0===c&&(c=.587);void 0===e&&(e=.114);void 0===g&&(g=new d);a=d.averageWeighted(a,b,c,e);
d.fromScalar(a,g);return g};return d}(Float32Array),na=function(f,d,a){return Math.max(d,Math.min(a,f))},Nb=function(f){return 0>f?Math.ceil(f):Math.floor(f)},rb,sb,bb=function(f,d,a){return d>a?Math.max(a,Math.min(d,f)):a>d?Math.max(d,Math.min(a,f)):d},ta=function(f,d,a){void 0===a&&(a=Pa);return Math.abs(f-d)<=a},kc=0,Gc=0,Hc=0,lc=0,Ic=function(f){lc=0;Hc=f.length;for(var d=0;d<Hc;d++)lc+=f[d];return lc},mc=function(f){return f<1/2.75?7.5625*f*f:f<2/2.75?7.5625*(f-=1.5/2.75)*f+.75:f<2.5/2.75?7.5625*
(f-=2.25/2.75)*f+.9375:7.5625*(f-=2.625/2.75)*f+.984375},Jc=function(f){return 1-mc(1-f)},Vc=Object.freeze({__proto__:null,BackIn:function(f){return 1===f?1:f*f*(2.70158*f-1.70158)},BackOut:function(f){return 0===f?0:--f*f*(2.70158*f+1.70158)+1},BackInOut:function(f){if(1>(f*=2))return.5*f*f*(3.5949095*f-2.5949095);f-=2;return.5*(f*f*(3.5949095*f+2.5949095)+2)},BounceIn:Jc,BounceInOut:function(f){return.5>f?.5*Jc(2*f):.5*mc(2*f-1)+.5},BounceOut:mc,CircularIn:function(f){return 1-Math.sqrt(1-f*f)},
CircularInOut:function(f){if(1>(f*=2))return-.5*(Math.sqrt(1-f*f)-1);f-=2;return.5*(Math.sqrt(1-f*f)+1)},CircularOut:function(f){return Math.sqrt(1- --f*f)},CubicIn:function(f){return f*f*f},CubicInOut:function(f){if(1>(f*=2))return.5*f*f*f;f-=2;return.5*(f*f*f+2)},CubicOut:function(f){return--f*f*f+1},ElasticIn:function(f){return 0===f||1===f?f:-Math.pow(2,10*(f-1))*Math.sin(5*(f-1.1)*Math.PI)},ElasticInOut:function(f){if(0===f||1===f)return f;f*=2;return 1>f?-.5*Math.pow(2,10*(f-1))*Math.sin(5*
(f-1.1)*Math.PI):.5*Math.pow(2,-10*(f-1))*Math.sin(5*(f-1.1)*Math.PI)+1},ElasticOut:function(f){return 0===f||1===f?f:Math.pow(2,-10*f)*Math.sin(5*(f-.1)*Math.PI)+1},ExponentialIn:function(f){return 0===f?0:Math.pow(1024,f-1)},ExponentialInOut:function(f){return 0===f||1===f?f:1>(f*=2)?.5*Math.pow(1024,f-1):.5*(-Math.pow(2,-10*(f-1))+2)},ExponentialOut:function(f){return 1===f?1:1-Math.pow(2,-10*f)},Linear:function(f){return f},QuadraticIn:function(f){return f*f},QuadraticInOut:function(f){return 1>
(f*=2)?.5*f*f:-.5*(--f*(f-2)-1)},QuadraticOut:function(f){return f*(2-f)},QuarticIn:function(f){return f*f*f*f},QuarticInOut:function(f){if(1>(f*=2))return.5*f*f*f*f;f-=2;return-.5*(f*f*f*f-2)},QuarticOut:function(f){return 1- --f*f*f*f},QuinticIn:function(f){return f*f*f*f*f},QuinticInOut:function(f){if(1>(f*=2))return.5*f*f*f*f*f;f-=2;return.5*(f*f*f*f*f+2)},QuinticOut:function(f){return--f*f*f*f*f+1},SinusoidalIn:function(f){return 1-Math.sin((1-f)*Math.PI/2)},SinusoidalInOut:function(f){return.5*
(1-Math.sin(Math.PI*(.5-f)))},SinusoidalOut:function(f){return Math.sin(f*Math.PI/2)}});m.EulerRotationOrders=void 0;(function(f){f.XYZ="xyz";f.ZXY="zxy";f.YZX="yzx";f.XZY="xzy";f.ZYX="zyx";f.YXZ="yxz"})(m.EulerRotationOrders||(m.EulerRotationOrders={}));var Wc=function(f){function d(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=m.EulerRotationOrders.XYZ);var g=f.call(this,3)||this;g[0]=a;g[1]=b;g[2]=c;g.order=e;return g}Ba(d,f);d.clone=function(a){return new d(a.x,
a.y,a.z,a.order)};d.create=function(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=m.EulerRotationOrders.XYZ);return new d(a,b,c,e)};d.fromMatrix4=function(a,b){void 0===b&&(b=new d);var c=a[0],e=a[4],g=a[8],n=a[1],k=a[5],t=a[9],q=a[2],r=a[6];a=a[10];switch(b.order){case m.EulerRotationOrders.XYZ:b.y=Math.asin(na(g,-1,1));.9999999>Math.abs(g)?(b.x=Math.atan2(-t,a),b.z=Math.atan2(-e,c)):(b.x=Math.atan2(r,k),b.z=0);break;case m.EulerRotationOrders.YXZ:b.x=Math.asin(-na(t,
-1,1));.9999999>Math.abs(t)?(b.y=Math.atan2(g,a),b.z=Math.atan2(n,k)):(b.y=Math.atan2(-q,c),b.z=0);break;case m.EulerRotationOrders.ZXY:b.x=Math.asin(na(r,-1,1));.9999999>Math.abs(r)?(b.y=Math.atan2(-q,a),b.z=Math.atan2(-e,k)):(b.y=0,b.z=Math.atan2(n,c));break;case m.EulerRotationOrders.ZYX:b.y=Math.asin(-na(q,-1,1));.9999999>Math.abs(q)?(b.x=Math.atan2(r,a),b.z=Math.atan2(n,c)):(b.x=0,b.z=Math.atan2(-e,k));break;case m.EulerRotationOrders.YZX:b.z=Math.asin(na(n,-1,1));.9999999>Math.abs(n)?(b.x=Math.atan2(-t,
k),b.y=Math.atan2(-q,c)):(b.x=0,b.y=Math.atan2(g,a));break;case m.EulerRotationOrders.XZY:b.z=Math.asin(-na(e,-1,1)),.9999999>Math.abs(e)?(b.x=Math.atan2(r,k),b.y=Math.atan2(g,c)):(b.x=Math.atan2(-t,a),b.y=0)}return b};Object.defineProperty(d.prototype,"x",{get:function(){return this[0]},set:function(a){this[0]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"z",{get:function(){return this[2]},set:function(a){this[2]=a},enumerable:!1,configurable:!0});d.ORDERS=m.EulerRotationOrders;return d}(Float32Array),Ga=0,Ha=0,Qa=0,Ra=0,Db=0,Eb=0,Fb=0,Gb=0,cb=0,Ua=0,Va=0,nc=[1,0,0,1],Xc=function(f){function d(a){void 0===a&&(a=nc);return f.call(this,a)||this}Ba(d,f);d.UNIT_MATRIX2=new d(nc);d.add=function(a,b,c){c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};d.adjoint=function(a,b){Ga=a[0];b[0]=a[3];b[1]=-a[1];b[2]=-a[2];b[3]=Ga;return b};
d.clone=function(a){return new d(a)};d.closeTo=function(a,b){Ga=a[0];Qa=a[1];Ha=a[2];Ra=a[3];Db=b[0];Fb=b[1];Eb=b[2];Gb=b[3];return ta(Ga,Db)&&ta(Ha,Eb)&&ta(Qa,Fb)&&ta(Ra,Gb)};d.create=function(a){void 0===a&&(a=nc);return new d(a)};d.determinant=function(a){return a[0]*a[3]-a[1]*a[2]};d.equals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};d.frobNorm=function(a){return Math.hypot(a[0],a[1],a[2],a[3])};d.fromArray=function(a,b){void 0===b&&(b=new d);b.set(a);return b};d.fromRotation=
function(a,b){void 0===b&&(b=new d);Va=Math.sin(a);Ua=Math.cos(a);b[0]=Ua;b[1]=Va;b[2]=-Va;b[3]=Ua;return b};d.fromScaling=function(a,b){void 0===b&&(b=new d);b[0]=a[0];b[1]=0;b[2]=0;b[3]=a[1];return b};d.identity=function(a){void 0===a&&(a=new d);a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a};d.invert=function(a,b){void 0===b&&(b=new d);Ga=a[0];Qa=a[1];Ha=a[2];Ra=a[3];cb=d.determinant(a);if(!cb)return null;cb=1/cb;b[0]=Ra*cb;b[1]=-Qa*cb;b[2]=-Ha*cb;b[3]=Ga*cb;return b};d.minus=function(a,b,c){void 0===c&&
(c=new d);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c};d.multiply=function(a,b,c){void 0===c&&(c=new d);Ga=a[0];Qa=a[1];Ha=a[2];Ra=a[3];Db=b[0];Fb=b[1];Eb=b[2];Gb=b[3];c[0]=Ga*Db+Ha*Fb;c[1]=Qa*Db+Ra*Fb;c[2]=Ga*Eb+Ha*Gb;c[3]=Qa*Eb+Ra*Gb;return c};d.multiplyScalar=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};d.rotate=function(a,b,c){void 0===c&&(c=new d);Ga=a[0];Qa=a[1];Ha=a[2];Ra=a[3];Va=Math.sin(b);Ua=Math.cos(b);c[0]=Ga*
Ua+Ha*Va;c[1]=Qa*Ua+Ra*Va;c[2]=Ga*-Va+Ha*Ua;c[3]=Qa*-Va+Ra*Ua;return c};d.scale=function(a,b,c){void 0===c&&(c=new d);Ga=a[0];Qa=a[1];Ha=a[2];Ra=a[3];Ua=b[0];Va=b[1];c[0]=Ga*Ua;c[1]=Qa*Ua;c[2]=Ha*Va;c[3]=Ra*Va;return c};d.toString=function(a){return"mat2(".concat(a[0],", ").concat(a[1],", ").concat(a[2],", ").concat(a[3],")")};d.transpose=function(a,b){void 0===b&&(b=new d);b===a?(Ha=a[1],b[1]=a[2],b[2]=Ha):(b[0]=a[0],b[1]=a[2],b[2]=a[1],b[3]=a[3]);return b};return d}(Float32Array),oa=0,ia=0,ja=0,
pa=0,qa=0,ka=0,ua=0,va=0,wa=0,Ob=0,mb=0,Pb=0,nb=0,Qb=0,Rb=0,Sb=0,ob=0,Tb=0,ra=0,sa=0,oc=[1,0,0,0,1,0,0,0,1],Yc=function(f){function d(a){void 0===a&&(a=oc);return f.call(this,a)||this}Ba(d,f);d.UNIT_MATRIX3=new d(oc);d.clone=function(a){return new d(a)};d.cofactor00=function(a){return a[4]*a[8]-a[5]*a[7]};d.cofactor01=function(a){return a[1]*a[8]-a[7]*a[2]};d.cofactor02=function(a){return a[1]*a[5]-a[4]*a[2]};d.cofactor10=function(a){return a[3]*a[8]-a[6]*a[5]};d.cofactor11=function(a){return a[0]*
a[8]-a[6]*a[2]};d.cofactor12=function(a){return a[0]*a[5]-a[3]*a[2]};d.cofactor20=function(a){return a[3]*a[7]-a[6]*a[4]};d.cofactor21=function(a){return a[0]*a[7]-a[6]*a[1]};d.cofactor22=function(a){return a[0]*a[4]-a[3]*a[1]};d.create=function(){return new d(oc)};d.determinant=function(a){oa=a[0];ia=a[1];ja=a[2];qa=a[3];pa=a[4];ka=a[5];ua=a[6];va=a[7];wa=a[8];return oa*(wa*pa-ka*va)+ia*(-wa*qa+ka*ua)+ja*(va*qa-pa*ua)};d.fromArray=function(a,b){void 0===b&&(b=new d);b.set(a);return b};d.fromMatrix4=
function(a,b){void 0===b&&(b=new d);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b};d.fromRotation=function(a,b){void 0===b&&(b=new d);sa=Math.sin(a);ra=Math.cos(a);b[0]=ra;b[1]=sa;b[2]=0;b[3]=-sa;b[4]=ra;b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b};d.fromScaling=function(a,b){void 0===b&&(b=new d);b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=a[1];b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b};d.fromTranslation=function(a,b){void 0===b&&(b=new d);b[0]=1;b[1]=0;b[2]=0;b[3]=
0;b[4]=1;b[5]=0;b[6]=a[0];b[7]=a[1];b[8]=1;return b};d.identity=function(a){void 0===a&&(a=new d);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};d.invert=function(a,b){void 0===b&&(b=new d);oa=a[0];ia=a[1];ja=a[2];qa=a[3];pa=a[4];ka=a[5];ua=a[6];va=a[7];wa=a[8];mb=wa*pa-ka*va;nb=-wa*qa+ka*ua;ob=va*qa-pa*ua;a=oa*mb+ia*nb+ja*ob;if(!a)return null;a=1/a;b[0]=mb*a;b[1]=(-wa*ia+ja*va)*a;b[2]=(ka*ia-ja*pa)*a;b[3]=nb*a;b[4]=(wa*oa-ja*ua)*a;b[5]=(-ka*oa+ja*qa)*a;b[6]=ob*a;b[7]=(-va*
oa+ia*ua)*a;b[8]=(pa*oa-ia*qa)*a;return b};d.multiply=function(){return function(a,b,c){void 0===c&&(c=new d);oa=a[0];ia=a[1];ja=a[2];qa=a[3];pa=a[4];ka=a[5];ua=a[6];va=a[7];wa=a[8];Ob=b[0];mb=b[1];Pb=b[2];Qb=b[3];nb=b[4];Rb=b[5];Sb=b[6];ob=b[7];Tb=b[8];c[0]=Ob*oa+mb*qa+Pb*ua;c[1]=Ob*ia+mb*pa+Pb*va;c[2]=Ob*ja+mb*ka+Pb*wa;c[3]=Qb*oa+nb*qa+Rb*ua;c[4]=Qb*ia+nb*pa+Rb*va;c[5]=Qb*ja+nb*ka+Rb*wa;c[6]=Sb*oa+ob*qa+Tb*ua;c[7]=Sb*ia+ob*pa+Tb*va;c[8]=Sb*ja+ob*ka+Tb*wa;return c}};d.rotate=function(a,b,c){void 0===
c&&(c=new d);oa=a[0];ia=a[1];ja=a[2];qa=a[3];pa=a[4];ka=a[5];ua=a[6];va=a[7];wa=a[8];sa=Math.sin(b);ra=Math.cos(b);c[0]=ra*oa+sa*qa;c[1]=ra*ia+sa*pa;c[2]=ra*ja+sa*ka;c[3]=sa*qa-ra*oa;c[4]=sa*pa-ra*ia;c[5]=sa*ka-ra*ja;c[6]=ua;c[7]=va;c[8]=wa;return c};d.scale=function(a,b,c){void 0===c&&(c=new d);ra=b[0];sa=b[1];c[0]=ra*a[0];c[1]=ra*a[1];c[2]=ra*a[2];c[3]=sa*a[3];c[4]=sa*a[4];c[5]=sa*a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c};d.translate=function(a,b,c){void 0===c&&(c=new d);oa=a[0];ia=a[1];ja=a[2];
qa=a[3];pa=a[4];ka=a[5];ua=a[6];va=a[7];wa=a[8];ra=b[0];sa=b[1];c[0]=oa;c[1]=ia;c[2]=ja;c[3]=qa;c[4]=pa;c[5]=ka;c[6]=ra*oa+sa*qa+ua;c[7]=ra*ia+sa*pa+va;c[8]=ra*ja+sa*ka+wa;return c};d.transpose=function(a,b){void 0===b&&(b=new d);b===a?(ia=a[1],ja=a[2],ka=a[5],b[1]=a[3],b[2]=a[6],b[3]=ia,b[5]=a[7],b[6]=ja,b[7]=ka):(b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8]);return b};return d}(Float32Array),B,V,W,xa,Sa,Ta,Ia,pc,h=function(f){function d(a,b,c){void 0===
a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);var e=f.call(this,3)||this;e[0]=a;e[1]=b;e[2]=c;return e}Ba(d,f);Object.defineProperty(d.prototype,"x",{get:function(){return this[0]},set:function(a){this[0]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"z",{get:function(){return this[2]},set:function(a){this[2]=a},enumerable:!1,configurable:!0});d.VECTOR3_ZERO=
new Float32Array([0,0,0]);d.VECTOR3_ONE=new Float32Array([1,1,1]);d.VECTOR3_TOP=new Float32Array([0,1,0]);d.VECTOR3_BOTTOM=new Float32Array([0,-1,0]);d.VECTOR3_LEFT=new Float32Array([-1,0,0]);d.VECTOR3_RIGHT=new Float32Array([1,0,0]);d.VECTOR3_FRONT=new Float32Array([0,0,-1]);d.VECTOR3_BACK=new Float32Array([0,0,1]);d.add=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c};d.addScalar=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]+b;c[1]=a[1]+b;c[2]=a[2]+
b;return c};d.angle=function(a,b){B=a[0];V=a[1];W=a[2];xa=b[0];Sa=b[1];Ta=b[2];var c=Math.sqrt(B*B+V*V+W*W)*Math.sqrt(xa*xa+Sa*Sa+Ta*Ta);a=c&&d.dot(a,b)/c;return Math.acos(na(a,-1,1))};d.clamp=function(a,b,c,e){void 0===e&&(e=new d);e[0]=na(a[0],b[0],c[0]);e[1]=na(a[1],b[1],c[1]);e[2]=na(a[2],b[2],c[2]);return e};d.clampSafe=function(a,b,c,e){void 0===e&&(e=new d);e[0]=bb(a[0],b[0],c[0]);e[1]=bb(a[1],b[1],c[1]);e[1]=bb(a[2],b[2],c[2]);return e};d.clampScalar=function(a,b,c,e){void 0===e&&(e=new d);
e[0]=na(a[0],b,c);e[1]=na(a[1],b,c);e[2]=na(a[2],b,c);return e};d.clone=function(a,b){void 0===b&&(b=new d);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};d.closeTo=function(a,b){return ta(a[0],b[0])&&ta(a[1],b[1])&&ta(a[2],b[2])};d.create=function(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=new d);e[0]=a;e[1]=b;e[2]=c;return e};d.cross=function(a,b,c){void 0===c&&(c=new d);B=a[0];V=a[1];W=a[2];xa=b[0];Sa=b[1];Ta=b[2];c[0]=V*Ta-W*Sa;c[1]=W*xa-B*Ta;c[2]=B*Sa-V*xa;return c};
d.distanceTo=function(a,b){B=b[0]-a[0];V=b[1]-a[1];W=b[2]-a[2];return Math.hypot(B,V,W)};d.distanceToManhattan=function(a,b){return Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2])};d.distanceToSquared=function(a,b){B=a[0]-b[0];V=a[1]-b[1];W=a[2]-b[2];return B*B+V*V+W*W};d.divide=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];return c};d.divideScalar=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]/b;c[1]=a[1]/b;c[2]=a[2]/b;return c};d.dot=function(a,
b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]};d.equals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]};d.fromArray=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=new d);c[0]=a[b];c[1]=a[b+1];c[2]=a[b+2];return c};d.fromScalar=function(a,b){void 0===b&&(b=new d(3));b[0]=b[1]=b[2]=a;return b};d.fromValues=function(a,b,c,e){void 0===e&&(e=new d(3));e[0]=a;e[1]=b;e[2]=c;return e};d.hermite=function(a,b,c,e,g,n){void 0===n&&(n=new d);Ia=g*g;var k=Ia*(2*g-3)+1,t=Ia*(g-2)+g,q=Ia*(g-1);g=Ia*(3-2*
g);n[0]=a[0]*k+b[0]*t+c[0]*q+e[0]*g;n[1]=a[1]*k+b[1]*t+c[1]*q+e[1]*g;n[2]=a[2]*k+b[2]*t+c[2]*q+e[2]*g;return n};d.inverse=function(a,b){void 0===b&&(b=new d);b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];return b};d.norm=function(a){return Math.sqrt(d.lengthSquared(a))};d.lengthManhattan=function(a){return Math.abs(a[0])+Math.abs(a[1])+Math.abs(a[2])};d.lengthSquared=function(a){return a[0]*a[0]+a[1]*a[1]+a[2]*a[2]};d.lerp=function(a,b,c,e){void 0===e&&(e=new d);e[0]+=(b[0]-a[0])*c;e[1]+=(b[1]-a[1])*c;e[2]+=
(b[2]-a[2])*c;return e};d.max=function(a,b,c){void 0===c&&(c=new d);c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);return c};d.min=function(a,b,c){void 0===c&&(c=new d);c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c};d.minus=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c};d.minusScalar=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]-b;return c};d.multiply=function(a,
b,c){void 0===c&&(c=new d);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c};d.multiplyScalar=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c};d.negate=function(a,b){void 0===b&&(b=new d);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b};d.normalize=function(a,b){void 0===b&&(b=new d);return d.divideScalar(a,d.norm(a)||1,b)};d.rotateX=function(a,b,c,e){void 0===e&&(e=new d);B=a[0]-b[0];V=a[1]-b[1];W=a[2]-b[2];xa=B;Sa=V*Math.cos(c)-W*Math.sin(c);Ta=V*Math.sin(c)+W*
Math.cos(c);e[0]=xa+b[0];e[1]=Sa+b[1];e[2]=Ta+b[2];return e};d.rotateY=function(a,b,c,e){void 0===e&&(e=new d);B=a[0]-b[0];V=a[1]-b[1];W=a[2]-b[2];xa=W*Math.sin(c)+B*Math.cos(c);Sa=V;Ta=W*Math.cos(c)-B*Math.sin(c);e[0]=xa+b[0];e[1]=Sa+b[1];e[2]=Ta+b[2];return e};d.rotateZ=function(a,b,c,e){void 0===e&&(e=new d);B=a[0]-b[0];V=a[1]-b[1];W=a[2]-b[2];xa=B*Math.cos(c)-V*Math.sin(c);Sa=B*Math.sin(c)+V*Math.cos(c);Ta=W;e[0]=xa+b[0];e[1]=Sa+b[1];e[2]=Ta+b[2];return e};d.round=function(a,b){void 0===b&&(b=
new d);b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);return b};d.set=function(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=new d);e[0]=a;e[1]=b;e[2]=c;return e};d.setNorm=function(a,b,c){void 0===c&&(c=new d);return d.multiplyScalar(d.normalize(a,c),b,c)};d.slerp=function(a,b,c,e){void 0===e&&(e=new d);Ia=Math.acos(Math.min(Math.max(d.dot(a,b),-1),1));pc=Math.sin(Ia);B=Math.sin((1-c)*Ia)/pc;xa=Math.sin(c*Ia)/pc;e[0]=B*a[0]+xa*b[0];e[1]=B*a[1]+xa*
b[1];e[2]=B*a[2]+xa*b[2];return e};d.toString=function(a){return"(".concat(a[0],", ").concat(a[1],", ").concat(a[2],")")};d.transformMatrix3=function(a,b,c){void 0===c&&(c=new d);B=a[0];V=a[1];W=a[2];c[0]=B*b[0]+V*b[3]+W*b[6];c[1]=B*b[1]+V*b[4]+W*b[7];c[2]=B*b[2]+V*b[5]+W*b[8];return c};d.transformMatrix4=function(a,b,c){void 0===c&&(c=new d);B=a[0];V=a[1];W=a[2];Ia=(Ia=b[3]*B+b[7]*V+b[11]*W+b[15])||1;c[0]=(b[0]*B+b[4]*V+b[8]*W+b[12])/Ia;c[1]=(b[1]*B+b[5]*V+b[9]*W+b[13])/Ia;c[2]=(b[2]*B+b[6]*V+b[10]*
W+b[14])/Ia;return c};d.transformQuat=function(a,b,c){void 0===c&&(c=new d);var e=b[0],g=b[1],n=b[2],k=a[0],t=a[1];a=a[2];var q=g*a-n*t,r=n*k-e*a,C=e*t-g*k;b=2*b[3];c[0]=k+q*b+2*(g*C-n*r);c[1]=t+r*b+2*(n*q-e*C);c[2]=a+C*b+2*(e*r-g*q);return c};return d}(Float32Array),J=0,D=0,E=0,K=0,L=0,M=0,F=0,N=0,O=0,P=0,Q=0,R=0,ya=0,za=0,Aa=0,Ja=0,x=0,y=0,z=0,S=0,db=0,eb=0,pb=0,Kc=0,Na=0,Oa=0,Wa=0,tb=0,ub=0,vb=0,wb=0,xb=0,u=0,v=0,w=0,la=0,Ka=0,p=0,ma=0,A=0,T=0,l=0,ea=0,ha=0,U=0,qc=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,
0,1],Zc=function(f){function d(a){void 0===a&&(a=qc);return f.call(this,a)||this}Ba(d,f);d.UNIT_MATRIX4=new d(qc);d.clone=function(a){return new d(a)};d.create=function(){return new d(qc)};d.determinant=function(a){J=a[0];D=a[1];E=a[2];K=a[3];M=a[4];L=a[5];F=a[6];N=a[7];O=a[8];P=a[9];Q=a[10];R=a[11];za=a[12];ya=a[13];Aa=a[14];Ja=a[15];x=J*L-D*M;y=J*F-E*M;z=D*F-E*L;S=O*ya-P*za;eb=O*Aa-Q*za;db=P*Aa-Q*ya;pb=J*db-D*eb+E*S;Kc=M*db-L*eb+F*S;Na=O*z-P*y+Q*x;Oa=za*z-ya*y+Aa*x;return N*pb-K*Kc+Ja*Na-R*Oa};
d.fromArray=function(a,b){void 0===b&&(b=new d);b.set(a);return b};d.fromEuler=function(a,b){void 0===b&&(b=new d);u=a.x;v=a.y;w=a.z;A=Math.cos(u);T=Math.sin(u);l=Math.cos(v);ea=Math.sin(v);ha=Math.cos(w);U=Math.sin(w);if(a.order===m.EulerRotationOrders.XYZ){a=A*ha;var c=A*U,e=T*ha,g=T*U;b[0]=l*ha;b[4]=-l*U;b[8]=ea;b[1]=c+e*ea;b[5]=a-g*ea;b[9]=-T*l;b[2]=g-a*ea;b[6]=e+c*ea;b[10]=A*l}else a.order===m.EulerRotationOrders.YXZ?(a=l*ha,c=l*U,e=ea*ha,g=ea*U,b[0]=a+g*T,b[4]=e*T-c,b[8]=A*ea,b[1]=A*U,b[5]=
A*ha,b[9]=-T,b[2]=c*T-e,b[6]=g+a*T,b[10]=A*l):a.order===m.EulerRotationOrders.ZXY?(a=l*ha,c=l*U,e=ea*ha,g=ea*U,b[0]=a-g*T,b[4]=-A*U,b[8]=e+c*T,b[1]=c+e*T,b[5]=A*ha,b[9]=g-a*T,b[2]=-A*ea,b[6]=T,b[10]=A*l):a.order===m.EulerRotationOrders.ZYX?(a=A*ha,c=A*U,e=T*ha,g=T*U,b[0]=l*ha,b[4]=e*ea-c,b[8]=a*ea+g,b[1]=l*U,b[5]=g*ea+a,b[9]=c*ea-e,b[2]=-ea,b[6]=T*l,b[10]=A*l):a.order===m.EulerRotationOrders.YZX?(a=A*l,c=A*ea,e=T*l,g=T*ea,b[0]=l*ha,b[4]=g-a*U,b[8]=e*U+c,b[1]=U,b[5]=A*ha,b[9]=-T*ha,b[2]=-ea*ha,b[6]=
c*U+e,b[10]=a-g*U):a.order===m.EulerRotationOrders.XZY&&(a=A*l,c=A*ea,e=T*l,g=T*ea,b[0]=l*ha,b[4]=-U,b[8]=ea*ha,b[1]=a*U+g,b[5]=A*ha,b[9]=c*U-e,b[2]=e*U-c,b[6]=T*ha,b[10]=g*U+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};d.fromQuaternion=function(a,b){void 0===b&&(b=new d);var c=a[0],e=a[1],g=a[2];a=a[3];var n=c+c,k=e+e,t=g+g;c*=n;var q=e*n;e*=k;var r=g*n,C=g*k;g*=t;n*=a;k*=a;a*=t;b[0]=1-e-g;b[1]=q+a;b[2]=r-k;b[3]=0;b[4]=q-a;b[5]=1-c-g;b[6]=C+n;b[7]=0;b[8]=r+k;b[9]=C-n;b[10]=
1-c-e;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};d.fromRotation=function(a,b,c){void 0===c&&(c=new d);u=b[0];v=b[1];w=b[2];Ka=Math.hypot(u,v,w);if(Ka<Pa)return null;Ka=1/Ka;u*=Ka;v*=Ka;w*=Ka;p=Math.sin(a);l=Math.cos(a);ma=1-l;c[0]=u*u*ma+l;c[1]=v*u*ma+w*p;c[2]=w*u*ma-v*p;c[3]=0;c[4]=u*v*ma-w*p;c[5]=v*v*ma+l;c[6]=w*v*ma+u*p;c[7]=0;c[8]=u*w*ma+v*p;c[9]=v*w*ma-u*p;c[10]=w*w*ma+l;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};d.fromRotationX=function(a,b){void 0===b&&(b=new d);p=Math.sin(a);
l=Math.cos(a);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=l;b[6]=p;b[7]=0;b[8]=0;b[9]=-p;b[10]=l;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};d.fromRotationY=function(a,b){void 0===b&&(b=new d);p=Math.sin(a);l=Math.cos(a);b[0]=l;b[1]=0;b[2]=-p;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=p;b[9]=0;b[10]=l;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};d.fromRotationZ=function(a,b){void 0===b&&(b=new d);p=Math.sin(a);l=Math.cos(a);b[0]=l;b[1]=p;b[2]=0;b[3]=0;b[4]=-p;b[5]=l;b[6]=0;b[7]=0;b[8]=0;b[9]=
0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};d.fromScaling=function(a,b){void 0===b&&(b=new d);b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=a[1];b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=a[2];b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};d.fromTranslation=function(a,b){void 0===b&&(b=new d);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=a[0];b[13]=a[1];b[14]=a[2];b[15]=1;return b};d.identity=function(a){void 0===a&&(a=new d);a[0]=1;a[1]=0;a[2]=
0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};d.invert=function(a,b){void 0===b&&(b=new d);J=a[0];D=a[1];E=a[2];K=a[3];M=a[4];L=a[5];F=a[6];N=a[7];O=a[8];P=a[9];Q=a[10];R=a[11];za=a[12];ya=a[13];Aa=a[14];Ja=a[15];x=J*L-D*M;y=J*F-E*M;z=J*N-K*M;S=D*F-E*L;Na=D*N-K*L;Oa=E*N-K*F;Wa=O*ya-P*za;tb=O*Aa-Q*za;vb=O*Ja-R*za;ub=P*Aa-Q*ya;wb=P*Ja-R*ya;xb=Q*Ja-R*Aa;la=x*xb-y*wb+z*ub+S*vb-Na*tb+Oa*Wa;if(!la)return null;la=1/la;b[0]=(L*xb-F*wb+N*ub)*la;
b[1]=(E*wb-D*xb-K*ub)*la;b[2]=(ya*Oa-Aa*Na+Ja*S)*la;b[3]=(Q*Na-P*Oa-R*S)*la;b[4]=(F*vb-M*xb-N*tb)*la;b[5]=(J*xb-E*vb+K*tb)*la;b[6]=(Aa*z-za*Oa-Ja*y)*la;b[7]=(O*Oa-Q*z+R*y)*la;b[8]=(M*wb-L*vb+N*Wa)*la;b[9]=(D*vb-J*wb-K*Wa)*la;b[10]=(za*Na-ya*z+Ja*x)*la;b[11]=(P*z-O*Na-R*x)*la;b[12]=(L*tb-M*ub-F*Wa)*la;b[13]=(J*ub-D*tb+E*Wa)*la;b[14]=(ya*y-za*S-Aa*x)*la;b[15]=(O*S-P*y+Q*x)*la;return b};d.lookAt=function(a,b,c,e){void 0===c&&(c=h.VECTOR3_TOP);void 0===e&&(e=new d);var g=a[0],n=a[1];a=a[2];var k=c[0];
var t=c[1];var q=c[2];var r=b[0];c=b[1];var C=b[2];if(ta(g,r)&&ta(n,c)&&ta(a,C))return d.identity(e);b=g-r;c=n-c;r=a-C;var fa=1/Math.hypot(b,c,r);b*=fa;c*=fa;r*=fa;C=t*r-q*c;q=q*b-k*r;k=k*c-t*b;(fa=Math.hypot(C,q,k))?(fa=1/fa,C*=fa,q*=fa,k*=fa):k=q=C=0;t=c*k-r*q;var Hb=r*C-b*k;var Ib=b*q-c*C;(fa=Math.hypot(t,Hb,Ib))?(fa=1/fa,t*=fa,Hb*=fa,Ib*=fa):Ib=Hb=t=0;e[0]=C;e[1]=t;e[2]=b;e[3]=0;e[4]=q;e[5]=Hb;e[6]=c;e[7]=0;e[8]=k;e[9]=Ib;e[10]=r;e[11]=0;e[12]=-(C*g+q*n+k*a);e[13]=-(t*g+Hb*n+Ib*a);e[14]=-(b*g+
c*n+r*a);e[15]=1;return e};d.multiply=function(a,b,c){void 0===c&&(c=new d);J=a[0];D=a[1];E=a[2];K=a[3];M=a[4];L=a[5];F=a[6];N=a[7];O=a[8];P=a[9];Q=a[10];R=a[11];za=a[12];ya=a[13];Aa=a[14];Ja=a[15];x=b[0];y=b[1];z=b[2];S=b[3];c[0]=x*J+y*M+z*O+S*za;c[1]=x*D+y*L+z*P+S*ya;c[2]=x*E+y*F+z*Q+S*Aa;c[3]=x*K+y*N+z*R+S*Ja;x=b[4];y=b[5];z=b[6];S=b[7];c[4]=x*J+y*M+z*O+S*za;c[5]=x*D+y*L+z*P+S*ya;c[6]=x*E+y*F+z*Q+S*Aa;c[7]=x*K+y*N+z*R+S*Ja;x=b[8];y=b[9];z=b[10];S=b[11];c[8]=x*J+y*M+z*O+S*za;c[9]=x*D+y*L+z*P+S*
ya;c[10]=x*E+y*F+z*Q+S*Aa;c[11]=x*K+y*N+z*R+S*Ja;x=b[12];y=b[13];z=b[14];S=b[15];c[12]=x*J+y*M+z*O+S*za;c[13]=x*D+y*L+z*P+S*ya;c[14]=x*E+y*F+z*Q+S*Aa;c[15]=x*K+y*N+z*R+S*Ja;return c};d.orthogonal=function(a,b,c,e,g,n,k){void 0===k&&(k=new d);l=1/(a-b);T=1/(c-e);A=1/(g-n);k[0]=-2*l;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=-2*T;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=2*A;k[11]=0;k[12]=(a+b)*l;k[13]=(e+c)*T;k[14]=(n+g)*A;k[15]=1;return k};d.orthogonalZ0=function(a,b,c,e,g,n,k){void 0===k&&(k=new d);l=1/(a-b);T=1/
(c-e);A=1/(g-n);k[0]=-2*l;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=-2*T;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=A;k[11]=0;k[12]=(a+b)*l;k[13]=(e+c)*T;k[14]=g*A;k[15]=1;return k};d.perspective=function(a,b,c,e,g){void 0===g&&(g=new d);U=1/Math.tan(a/2);g[0]=U/b;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=U;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[11]=-1;g[12]=0;g[13]=0;g[15]=0;null!==e&&Infinity!==e?(A=1/(c-e),g[10]=(e+c)*A,g[14]=2*e*c*A):(g[10]=-1,g[14]=-2*c);return g};d.perspectiveZ0=function(a,b,c,e,g){void 0===g&&(g=new d);U=1/Math.tan(a/
2);g[0]=U/b;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=U;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[11]=-1;g[12]=0;g[13]=0;g[15]=0;null!==e&&Infinity!==e?(A=1/(c-e),g[10]=e*A,g[14]=e*c*A):(g[10]=-1,g[14]=-c);return g};d.rotate=function(a,b,c,e){void 0===e&&(e=new d);u=c[0];v=c[1];w=c[2];Ka=Math.hypot(u,v,w);if(Ka<Pa)return null;Ka=1/Ka;u*=Ka;v*=Ka;w*=Ka;p=Math.sin(b);l=Math.cos(b);ma=1-l;J=a[0];D=a[1];E=a[2];K=a[3];M=a[4];L=a[5];F=a[6];N=a[7];O=a[8];P=a[9];Q=a[10];R=a[11];x=u*u*ma+l;y=v*u*ma+w*p;z=w*u*ma-v*p;eb=u*v*ma-
w*p;db=v*v*ma+l;pb=w*v*ma+u*p;Na=u*w*ma+v*p;Oa=v*w*ma-u*p;Wa=w*w*ma+l;e[0]=J*x+M*y+O*z;e[1]=D*x+L*y+P*z;e[2]=E*x+F*y+Q*z;e[3]=K*x+N*y+R*z;e[4]=J*eb+M*db+O*pb;e[5]=D*eb+L*db+P*pb;e[6]=E*eb+F*db+Q*pb;e[7]=K*eb+N*db+R*pb;e[8]=J*Na+M*Oa+O*Wa;e[9]=D*Na+L*Oa+P*Wa;e[10]=E*Na+F*Oa+Q*Wa;e[11]=K*Na+N*Oa+R*Wa;a!==e&&(e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]);return e};d.rotateX=function(a,b,c){void 0===c&&(c=new d);p=Math.sin(b);l=Math.cos(b);M=a[4];L=a[5];F=a[6];N=a[7];O=a[8];P=a[9];Q=a[10];R=a[11];
a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[4]=M*l+O*p;c[5]=L*l+P*p;c[6]=F*l+Q*p;c[7]=N*l+R*p;c[8]=O*l-M*p;c[9]=P*l-L*p;c[10]=Q*l-F*p;c[11]=R*l-N*p;return c};d.rotateY=function(a,b,c){void 0===c&&(c=new d);p=Math.sin(b);l=Math.cos(b);J=a[0];D=a[1];E=a[2];K=a[3];O=a[8];P=a[9];Q=a[10];R=a[11];a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=J*l-O*p;c[1]=D*l-P*p;c[2]=E*l-Q*p;c[3]=K*l-R*p;c[8]=
J*p+O*l;c[9]=D*p+P*l;c[10]=E*p+Q*l;c[11]=K*p+R*l;return c};d.rotateZ=function(a,b,c){void 0===c&&(c=new d);p=Math.sin(b);l=Math.cos(b);J=a[0];D=a[1];E=a[2];K=a[3];M=a[4];L=a[5];F=a[6];N=a[7];a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=J*l+M*p;c[1]=D*l+L*p;c[2]=E*l+F*p;c[3]=K*l+N*p;c[4]=M*l-J*p;c[5]=L*l-D*p;c[6]=F*l-E*p;c[7]=N*l-K*p;return c};d.scale=function(a,b,c){void 0===c&&(c=new d);u=b[0];v=b[1];w=b[2];c[0]=a[0]*u;c[1]=a[1]*u;c[2]=
a[2]*u;c[3]=a[3]*u;c[4]=a[4]*v;c[5]=a[5]*v;c[6]=a[6]*v;c[7]=a[7]*v;c[8]=a[8]*w;c[9]=a[9]*w;c[10]=a[10]*w;c[11]=a[11]*w;c!==a&&(c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c};d.targetTo=function(a,b,c,e){void 0===c&&(c=h.VECTOR3_TOP);void 0===e&&(e=new d);var g=a[0],n=a[1];a=a[2];var k=c[0],t=c[1],q=c[2];c=g-b[0];var r=n-b[1];b=a-b[2];var C=c*c+r*r+b*b;0<C&&(C=1/Math.sqrt(C),c*=C,r*=C,b*=C);var fa=t*b-q*r;q=q*c-k*b;k=k*r-t*c;C=fa*fa+q*q+k*k;0<C&&(C=1/Math.sqrt(C),fa*=C,q*=C,k*=C);e[0]=
fa;e[1]=q;e[2]=k;e[3]=0;e[4]=r*k-b*q;e[5]=b*fa-c*k;e[6]=c*q-r*fa;e[7]=0;e[8]=c;e[9]=r;e[10]=b;e[11]=0;e[12]=g;e[13]=n;e[14]=a;e[15]=1;return e};d.translate=function(a,b,c){void 0===c&&(c=new d);u=b[0];v=b[1];w=b[2];a===c?(c[12]=a[0]*u+a[4]*v+a[8]*w+a[12],c[13]=a[1]*u+a[5]*v+a[9]*w+a[13],c[14]=a[2]*u+a[6]*v+a[10]*w+a[14],c[15]=a[3]*u+a[7]*v+a[11]*w+a[15]):(J=a[0],D=a[1],E=a[2],K=a[3],M=a[4],L=a[5],F=a[6],N=a[7],O=a[8],P=a[9],Q=a[10],R=a[11],c[0]=J,c[1]=D,c[2]=E,c[3]=K,c[4]=M,c[5]=L,c[6]=F,c[7]=N,c[8]=
O,c[9]=P,c[10]=Q,c[11]=R,c[12]=J*u+M*v+O*w+a[12],c[13]=D*u+L*v+P*w+a[13],c[14]=E*u+F*v+Q*w+a[14],c[15]=K*u+N*v+R*w+a[15]);return c};d.transpose=function(a,b){void 0===b&&(b=new d);b===a?(D=a[1],E=a[2],K=a[3],F=a[6],N=a[7],R=a[11],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=D,b[6]=a[9],b[7]=a[13],b[8]=E,b[9]=F,b[11]=a[14],b[12]=K,b[13]=N,b[14]=R):(b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],
b[15]=a[15]);return b};return d}(Float32Array),Ub,Vb,$c=function(){function f(d,a){void 0===d&&(d=0);void 0===a&&(a=0);this.r=d;this.a=a}f.create=function(d,a){void 0===d&&(d=0);void 0===a&&(a=0);return new f(d,a)};f.prototype.distanceTo=function(d){return Math.sqrt(this.distanceToSquared(d))};f.prototype.distanceToManhattan=function(d){var a=d.r;d=d.a;return Math.cos(d)*a-this.x()+Math.sin(d)*a-this.y()};f.prototype.distanceToSquared=function(d){var a=d.r;return this.r*this.r+a*a-2*a*this.r*Math.cos(d.a-
this.a)};f.prototype.fromVector2=function(d){Ub=d[0];Vb=d[1];this.r=Math.sqrt(Ub*Ub+Vb*Vb);this.a=Math.atan2(Vb,Ub);return this};f.prototype.lengthManhattan=function(){return(Math.cos(this.a)+Math.sin(this.a))*this.r};f.prototype.set=function(d,a){void 0===d&&(d=0);void 0===a&&(a=0);this.r=d;this.a=a;return this};f.prototype.setA=function(d){void 0===d&&(d=0);this.a=d;return this};f.prototype.setR=function(d){void 0===d&&(d=0);this.r=d;return this};f.prototype.toJson=function(d){void 0===d&&(d={a:0,
r:0});d.r=this.r;d.a=this.a;return d};f.prototype.toString=function(){return"(".concat(this.r,", ").concat(this.a,")")};f.prototype.toVector2Json=function(d){d[0]=this.x();d[1]=this.y();return d};f.prototype.x=function(){return Math.cos(this.a)*this.r};f.prototype.y=function(){return Math.sin(this.a)*this.r};return f}(),G,H,I,X,Ca,Da,Ea,da,Fa=0,La=0,rc=0,$a=0,Wb=0,fb=0,yb=0,zb=0,Ya=new Float32Array(3),ad=function(f){function d(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===
e&&(e=0);var g=f.call(this,4)||this;g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g}Ba(d,f);Object.defineProperty(d.prototype,"x",{get:function(){return this[0]},set:function(a){this[0]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"z",{get:function(){return this[2]},set:function(a){this[2]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,
"w",{get:function(){return this[3]},set:function(a){this[3]=a},enumerable:!1,configurable:!0});d.angleTo=function(a,b){$a=d.dot(a,b);return Math.acos(2*$a*$a-1)};d.conjugate=function(a,b){void 0===b&&(b=new d);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};d.create=function(a,b,c,e,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=1);void 0===g&&(g=new d);g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g};d.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};d.fromAxisAngle=
function(a,b,c){void 0===c&&(c=new d);b*=.5;Fa=Math.sin(b);c[0]=Fa*a[0];c[1]=Fa*a[1];c[2]=Fa*a[2];c[3]=Math.cos(b);return c};d.fromMatrix3=function(a,b){void 0===b&&(b=new d);var c=a[0]+a[4]+a[8];if(0<c)c=Math.sqrt(c+1),b[3]=.5*c,c=.5/c,b[0]=(a[5]-a[7])*c,b[1]=(a[6]-a[2])*c,b[2]=(a[1]-a[3])*c;else{var e=0;a[4]>a[0]&&(e=1);a[8]>a[3*e+e]&&(e=2);var g=(e+1)%3,n=(e+2)%3;c=Math.sqrt(a[3*e+e]-a[3*g+g]-a[3*n+n]+1);b[e]=.5*c;c=.5/c;b[3]=(a[3*g+n]-a[3*n+g])*c;b[g]=(a[3*g+e]+a[3*e+g])*c;b[n]=(a[3*n+e]+a[3*
e+n])*c}return b};d.identity=function(a){void 0===a&&(a=new d);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};d.invert=function(a,b){void 0===b&&(b=new d);G=a[0];H=a[1];I=a[2];X=a[3];($a=G*G+H*H+I*I+X*X)?(La=1/$a,b[0]=-G*La,b[1]=-H*La,b[2]=-I*La,b[3]=X*La):(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b};d.lerp=function(a,b,c,e){void 0===e&&(e=new d);G=a[0];H=a[1];I=a[2];X=a[3];e[0]=G+c*(b[0]-G);e[1]=H+c*(b[1]-H);e[2]=I+c*(b[2]-I);e[3]=X+c*(b[3]-X);return e};d.multiply=function(a,b,c){void 0===c&&(c=new d);G=a[0];
H=a[1];I=a[2];X=a[3];Ca=b[0];Da=b[1];Ea=b[2];da=b[3];c[0]=G*da+X*Ca+H*Ea-I*Da;c[1]=H*da+X*Da+I*Ca-G*Ea;c[2]=I*da+X*Ea+G*Da-H*Ca;c[3]=X*da-G*Ca-H*Da-I*Ea;return c};d.normalize=function(a,b){void 0===b&&(b=new d);G=a[0];H=a[1];I=a[2];X=a[3];fb=G*G+H*H+I*I+X*X;0<fb&&(fb=1/Math.sqrt(fb));b[0]=G*fb;b[1]=H*fb;b[2]=I*fb;b[3]=X*fb;return b};d.random=function(a){void 0===a&&(a=new d);G=Math.random();H=Math.random();I=Math.random();La=Math.sqrt(1-G);Fa=Math.sqrt(G);a[0]=La*Math.sin(2*Math.PI*H);a[1]=La*Math.cos(2*
Math.PI*H);a[2]=Fa*Math.sin(2*Math.PI*I);a[3]=Fa*Math.cos(2*Math.PI*I);return a};d.rotationTo=function(a,b,c){void 0===c&&(c=new d);$a=h.dot(a,b);if($a<-1+Pa)return h.cross(h.VECTOR3_LEFT,a,Ya),h.norm(Ya)<Pa&&h.cross(h.VECTOR3_TOP,a,Ya),h.normalize(Ya,Ya),d.fromAxisAngle(Ya,Math.PI,c),c;if($a>1-Pa)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;h.cross(Ya,a,b);c[0]=Ya[0];c[1]=Ya[1];c[2]=Ya[2];c[3]=1+$a;return d.normalize(c,c)};d.rotateX=function(a,b,c){void 0===c&&(c=new d);b*=.5;G=a[0];H=a[1];I=a[2];X=a[3];
Ca=Math.sin(b);da=Math.cos(b);c[0]=G*da+X*Ca;c[1]=H*da+I*Ca;c[2]=I*da-H*Ca;c[3]=X*da-G*Ca;return c};d.rotateY=function(a,b,c){void 0===c&&(c=new d);b*=.5;G=a[0];H=a[1];I=a[2];X=a[3];Da=Math.sin(b);da=Math.cos(b);c[0]=G*da-I*Da;c[1]=H*da+X*Da;c[2]=I*da+G*Da;c[3]=X*da-H*Da;return c};d.rotateZ=function(a,b,c){void 0===c&&(c=new d);b*=.5;G=a[0];H=a[1];I=a[2];X=a[3];Ea=Math.sin(b);da=Math.cos(b);c[0]=G*da+H*Ea;c[1]=H*da-G*Ea;c[2]=I*da+X*Ea;c[3]=X*da-I*Ea;return c};d.slerp=function(a,b,c,e){void 0===e&&
(e=new d);G=a[0];H=a[1];I=a[2];X=a[3];Ca=b[0];Da=b[1];Ea=b[2];da=b[3];La=G*Ca+H*Da+I*Ea+X*da;0>La&&(La=-La,Ca=-Ca,Da=-Da,Ea=-Ea,da=-da);1-La>Pa?(Wb=Math.acos(La),Fa=Math.sin(Wb),yb=Math.sin((1-c)*Wb)/Fa,zb=Math.sin(c*Wb)/Fa):(yb=1-c,zb=c);e[0]=yb*G+zb*Ca;e[1]=yb*H+zb*Da;e[2]=yb*I+zb*Ea;e[3]=yb*X+zb*da;return e};d.toAxisAngle=function(a,b){rc=2*Math.acos(a[3]);Fa=Math.sin(rc/2);Fa>Pa?(b[0]=a[0]/Fa,b[1]=a[1]/Fa,b[2]=a[2]/Fa):(b[0]=1,b[1]=0,b[2]=0);return rc};d.toString=function(a){return'quat("'.concat(a[0],
", ").concat(a[1],", ").concat(a[2],", ").concat(a[3],")")};return d}(Float32Array),Ab=new h,Bb=new h,Cb=new h,gb=new h,qb=new h,hb=new h,ab=new h,Xb=new h,kb=new h,bd=[1,1,1],Lc=function(){function f(d,a){void 0===d&&(d=new h);void 0===a&&(a=h.fromArray(bd));this.min=new h;this.max=new h;h.min(d,a,this.min);h.max(d,a,this.max)}f.clampPoint=function(d,a,b){void 0===b&&(b=new h);return h.clamp(a,d.min,d.max,b)};f.containsPoint=function(d,a){return a[0]>=d.min[0]&&a[0]<=d.max[0]&&a[1]>=d.min[1]&&a[1]<=
d.max[1]&&a[2]>=d.min[2]&&a[2]<=d.max[2]};f.containsCube=function(d,a){return d.min[0]<=a.min[0]&&a.max[0]<=d.max[0]&&d.min[1]<=a.min[1]&&a.max[1]<=d.max[1]&&d.min[2]<=a.min[2]&&a.max[2]<=d.max[2]};f.depth=function(d){return d.max[2]-d.min[2]};f.equals=function(d,a){return h.equals(d.min,a.min)&&h.equals(d.max,a.max)};f.getCenter=function(d,a){void 0===a&&(a=new h);h.add(d.min,d.max,a);return h.multiplyScalar(a,.5,a)};f.getSize=function(d,a){void 0===a&&(a=new h);return h.minus(d.max,d.min,a)};f.height=
function(d){return d.max[1]-d.min[1]};f.intersect=function(d,a,b){void 0===b&&(b=new f);h.max(d.min,a.min,b.min);h.min(d.max,a.max,b.max);return b};f.intersectsBox=function(d,a){return!(a.max[0]<d.min[0]||a.min[0]>d.max[0]||a.max[1]<d.min[1]||a.min[1]>d.max[1]||a.max[2]<d.min[2]||a.min[2]>d.max[2])};f.intersectsSphere=function(d,a){f.clampPoint(d,a.position,ab);return h.distanceToSquared(ab,a.position)<=a.radius*a.radius};f.intersectsTriangle=function(d,a){if(f.isEmpty(d))return!1;f.getCenter(d,ab);
h.minus(d.max,ab,Xb);h.minus(a.a,ab,Cb);h.minus(a.b,ab,Ab);h.minus(a.c,ab,Bb);h.minus(Ab,Cb,hb);h.minus(Bb,Ab,gb);h.minus(Cb,Bb,qb);d=[0,-hb[2],hb[1],0,-gb[2],gb[1],0,-qb[2],qb[1],hb[2],0,-hb[0],gb[2],0,-gb[0],qb[2],0,-qb[0],-hb[1],hb[0],0,-gb[1],gb[0],0,-qb[1],qb[0],0];if(!gc(d,Cb,Ab,Bb,Xb)||!gc(d,Cb,Ab,Bb,Xb))return!1;h.cross(hb,gb,ab);return gc(ab,Cb,Ab,Bb,Xb)};f.isEmpty=function(d){return d.max[0]<d.min[0]||d.max[0]<d.min[0]||d.max[0]<d.min[0]};f.round=function(d,a){void 0===a&&(a=new f);h.round(d.min,
a.min);h.round(d.max,a.max);return a};f.size=function(d,a){void 0===a&&(a=new h);return h.minus(d.max,d.min,a)};f.stretch=function(d,a,b,c){void 0===c&&(c=new f);h.add(d.min,a,c.min);h.add(d.max,b,c.max);return c};f.translate=function(d,a,b){void 0===b&&(b=new f);h.add(d.min,a,b.min);h.add(d.max,a,b.max);return b};f.union=function(d,a,b){void 0===b&&(b=new f);h.min(d.min,a.min,b.min);h.max(d.max,a.max,b.max);return b};f.volume=function(d){return(d.max[0]-d.min[0])*(d.max[1]-d.min[1])*(d.max[2]-d.min[2])};
f.width=function(d){return d.max[0]-d.min[0]};return f}(),Mb,Dc,hc,ic,jc,Ec,Ma=0,Xa=0,sc=0,tc=0,ca=function(f){function d(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=f.call(this,2)||this;c[0]=a;c[1]=b;return c}Ba(d,f);Object.defineProperty(d.prototype,"x",{get:function(){return this[0]},set:function(a){this[0]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!1,configurable:!0});d.VECTOR2_ZERO=new Float32Array([0,
0]);d.VECTOR2_TOP=new Float32Array([0,1]);d.VECTOR2_BOTTOM=new Float32Array([0,-1]);d.VECTOR2_LEFT=new Float32Array([-1,0]);d.VECTOR2_RIGHT=new Float32Array([1,0]);d.add=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c};d.addScalar=function(a,b,c){void 0===c&&(c=new d(2));c[0]=a[0]+b;c[1]=a[1]+b;return c};d.angle=function(a){return Math.atan2(a[1],a[0])};d.ceil=function(a,b){void 0===b&&(b=new d);b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);return b};d.clamp=function(a,b,
c,e){void 0===e&&(e=new d);e[0]=na(a[0],b[0],c[0]);e[1]=na(a[1],b[1],c[1]);return e};d.clampSafe=function(a,b,c,e){void 0===e&&(e=new d);e[0]=bb(a[0],b[0],c[0]);e[1]=bb(a[1],b[1],c[1]);return e};d.clampLength=function(a,b,c,e){void 0===e&&(e=new d);e[0]=bb(a[0],b[0],c[0]);e[1]=bb(a[1],b[1],c[1]);return e};d.clampScalar=function(a,b,c,e){void 0===e&&(e=new d);e[0]=na(a[0],b,c);e[1]=na(a[1],b,c);return e};d.closeTo=function(a,b,c){void 0===c&&(c=Pa);return d.distanceTo(a,b)<=c};d.closeToRect=function(a,
b,c){void 0===c&&(c=Pa);return ta(a[0],b[0],c)&&ta(a[1],b[1],c)};d.closeToManhattan=function(a,b,c){void 0===c&&(c=Pa);return d.distanceToManhattan(a,b)<=c};d.clone=function(a,b){void 0===b&&(b=new d);b[0]=a[0];b[1]=a[1];return b};d.cross=function(a,b){return a[0]*b[1]-a[1]*b[0]};d.create=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=new d);c[0]=a;c[1]=b;return c};d.distanceTo=function(a,b){Ma=b[0]-a[0];Xa=b[1]-a[1];return Math.hypot(Ma,Xa)};d.distanceToManhattan=function(a,b){return Math.abs(a[0]-
b[0])+Math.abs(a[1]-b[1])};d.distanceToSquared=function(a,b){Ma=a[0]-b[0];Xa=a[1]-b[1];return Ma*Ma+Xa*Xa};d.divide=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c};d.divideScalar=function(a,b,c){void 0===c&&(c=new d);return d.multiplyScalar(a,1/b,c)};d.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};d.equals=function(a,b){return a[0]===b[0]&&a[1]===b[1]};d.floor=function(a,b){void 0===b&&(b=new d);b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);return b};d.floorToZero=function(a,
b){void 0===b&&(b=new d);b[0]=Nb(a[0]);b[1]=Nb(a[1]);return b};d.fromArray=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=new d);c[0]=a[b];c[1]=a[b+1];return c};d.fromJson=function(a,b){void 0===b&&(b=new d);b[0]=a.x;b[1]=a.y;return b};d.fromPolar=function(a,b){void 0===b&&(b=new d);b[0]=Math.cos(a.a)*a.r;b[1]=Math.sin(a.a)*a.r;return b};d.fromScalar=function(a,b){void 0===a&&(a=0);void 0===b&&(b=new d);b[0]=b[1]=a;return b};d.inverse=function(a,b){void 0===b&&(b=new d);b[0]=1/a[0]||0;b[1]=1/a[1]||
0;return b};d.norm=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])};d.lengthManhattan=function(a){return Math.abs(a[0])+Math.abs(a[1])};d.lengthSquared=function(a){return a[0]*a[0]+a[1]*a[1]};d.lerp=function(a,b,c,e){void 0===e&&(e=new d);e[0]=(b[0]-a[0])*c+a[0];e[1]=(b[1]-a[1])*c+a[1];return e};d.max=function(a,b,c){void 0===c&&(c=new d);c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);return c};d.min=function(a,b,c){void 0===c&&(c=new d);c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);return c};
d.minus=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]-b[0];c[1]=a[1]-b[0];return c};d.minusScalar=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]-b;c[1]=a[1]-b;return c};d.multiply=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c};d.multiplyScalar=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]*b;c[1]=a[1]*b;return c};d.negate=function(a,b){void 0===b&&(b=new d);b[0]=-a[0];b[1]=-a[1];return b};d.normalize=function(a,b){void 0===b&&(b=new d);return d.divideScalar(a,d.norm(a)||
1,b)};d.random=function(a,b){void 0===a&&(a=1);void 0===b&&(b=new d);Ma=Math.random()*Fc;b[0]=Math.cos(Ma)*a;b[1]=Math.sin(Ma)*a;return b};d.rotate=function(a,b,c,e){void 0===c&&(c=d.VECTOR2_ZERO);void 0===e&&(e=new d(2));sc=Math.cos(b);tc=Math.sin(b);Ma=a[0]-c[0];Xa=a[1]-c[1];e[0]=Ma*sc-Xa*tc+c[0];e[1]=Ma*tc+Xa*sc+c[1];return e};d.round=function(a,b){void 0===b&&(b=new d);b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);return b};d.set=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=
new d);c[0]=a;c[1]=b;return c};d.setLength=function(a,b,c){void 0===c&&(c=new d(2));d.normalize(a,c);d.multiplyScalar(c,b,c);return c};d.toArray=function(a,b){void 0===b&&(b=[]);b[0]=a[0];b[1]=a[1];return b};d.toPalorJson=function(a,b){void 0===b&&(b={a:0,r:0});b.r=d.norm(a);b.a=d.angle(a);return b};d.toString=function(a){return"(".concat(a[0],", ").concat(a[1],")")};d.transformMatrix3=function(a,b,c){Ma=a[0];Xa=a[1];c[0]=b[0]*Ma+b[3]*Xa+b[6];c[1]=b[1]*Ma+b[4]*Xa+b[7];return c};return d}(Float32Array),
cd=function(){function f(d,a){void 0===d&&(d=ca.create());void 0===a&&(a=ca.create(1,1));this.min=ca.create();this.max=ca.create();ca.min(d,a,this.min);ca.max(d,a,this.max)}f.area=function(d){return(d.max[0]-d.min[0])*(d.max[1]-d.min[1])};f.containsPoint=function(d,a){return a[0]>=d.min[0]&&a[0]<=d.max[0]&&a[1]>=d.min[1]&&a[1]<=d.max[1]};f.containsRectangle=function(d,a){return d.min[0]<=a.min[0]&&a.max[0]<=d.max[0]&&d.min[1]<=a.min[1]&&a.max[1]<=d.max[1]};f.create=function(d,a){void 0===d&&(d=ca.create());
void 0===a&&(a=ca.create(1,1));return{max:ca.max(d,a),min:ca.min(d,a)}};f.equals=function(d,a){return ca.equals(d.min,a.min)&&ca.equals(d.max,a.max)};f.getCenter=function(d,a){void 0===a&&(a=ca.create());ca.add(d.min,d.max,a);return ca.multiplyScalar(a,.5,a)};f.getSize=function(d,a){void 0===a&&(a=ca.create());return ca.minus(d.max,d.min,a)};f.height=function(d){return d.max[1]-d.min[1]};f.intersect=function(d,a,b){void 0===b&&(b=new f);ca.max(d.min,a.min,b.min);ca.min(d.max,a.max,b.max);return b};
f.stretch=function(d,a,b,c){void 0===c&&(c=new f);ca.add(d.min,a,c.min);ca.add(d.max,b,c.max);return c};f.translate=function(d,a,b){void 0===b&&(b=new f);ca.add(d.min,a,b.min);ca.add(d.max,a,b.max);return b};f.union=function(d,a,b){void 0===b&&(b=new f);ca.min(d.min,a.min,b.min);ca.max(d.max,a.max,b.max);return b};f.width=function(d){return d.max[0]-d.min[0]};return f}(),uc=0,dd=function(){function f(d,a){void 0===d&&(d=new h);void 0===a&&(a=1);this.position=d;this.radius=a}f.boundingBox=function(d,
a){void 0===a&&(a=new Lc);h.minusScalar(d.position,d.radius,a.min);h.addScalar(d.position,d.radius,a.max);return a};f.containsPoint=function(d,a){return h.distanceToSquared(d.position,a)<=d.radius*d.radius};f.distanceToPoint=function(d,a){return h.distanceTo(d.position,a)-d.radius};f.equals=function(d,a){return h.equals(d.position,a.position)&&d.radius===a.radius};f.intersectsSphere=function(d,a){uc=d.radius+a.radius;return h.distanceToSquared(d.position,a.position)<=uc*uc};return f}(),Mc=[-1,-1,
0],Nc=[1,-1,0],Oc=[0,1,0],Pc=new h,Qc=new h,ed=function(){function f(d,a,b){void 0===d&&(d=new Float32Array(Mc));void 0===a&&(a=new Float32Array(Nc));void 0===b&&(b=new Float32Array(Oc));this.a=d;this.b=a;this.c=b}f.area=function(d){var a=f.getABLength(d),b=f.getBCLength(d);d=f.getCALength(d);var c=(a+b+d)/2;return Math.sqrt(c*(c-b)*(c-d)*(c-a))};f.create=function(d,a,b){void 0===d&&(d=new Float32Array(Mc));void 0===a&&(a=new Float32Array(Nc));void 0===b&&(b=new Float32Array(Oc));return{a:d,b:a,c:b}};
f.getABLength=function(d){return h.distanceTo(d.a,d.b)};f.getBCLength=function(d){return h.distanceTo(d.b,d.c)};f.getCALength=function(d){return h.distanceTo(d.c,d.a)};f.normal=function(d,a){void 0===a&&(a=h.create());h.minus(d.c,d.b,Qc);h.minus(d.b,d.a,Pc);h.cross(Pc,Qc,a);return h.normalize(a)};f.toFloat32Array=function(d,a){void 0===a&&(a=new Float32Array(3));a.set(d.a,0);a.set(d.b,3);a.set(d.c,6);return h.normalize(a)};return f}(),ib,vc,wc,Za=new h,fd=function(){function f(d,a){void 0===d&&(d=
new h);void 0===a&&(a=new h(0,0,-1));this.position=d;this.direction=h.normalize(a)}f.at=function(d,a,b){void 0===b&&(b=new h);return h.multiplyScalar(d.direction,a,b)};f.distanceToPoint=function(d,a){return Math.sqrt(f.distanceSqToPoint(d,a))};f.distanceSqToPoint=function(d,a){h.minus(a,d.position,Za);ib=h.dot(Za,d.direction);if(0>ib)return h.distanceToSquared(d.position,a);h.multiplyScalar(d.direction,ib,Za);h.add(Za,d.position,Za);return h.distanceToSquared(Za,a)};f.lookAt=function(d,a,b){void 0===
b&&(b=new f);d!==b&&h.fromArray(d.position,0,b.position);h.normalize(h.minus(a,d.position,b.direction));return b};f.intersectSphere=function(d,a,b){h.minus(a.position,d.position,Za);ib=h.dot(Za,d.direction);wc=h.dot(Za,Za)-ib*ib;vc=a.radius*a.radius;if(wc>vc)return null;var c=Math.sqrt(vc-wc);a=ib-c;c=ib+c;return 0>a&&0>c?null:0>a?f.at(d,c,b):f.at(d,a,b)};f.intersectsSphere=function(d,a){return f.distanceSqToPoint(d,a.position)<=a.radius*a.radius};return f}(),Y,Z,aa,ba,Jb,Kb,Lb,jb,Yb,Zb,$b,ac,xc,
yc,zc,Ac,Bc,Cc,bc,cc,dc,ec,gd=function(f){function d(a,b,c,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=0);var g=f.call(this,4)||this;g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g}Ba(d,f);Object.defineProperty(d.prototype,"x",{get:function(){return this[0]},set:function(a){this[0]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"y",{get:function(){return this[1]},set:function(a){this[1]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"z",
{get:function(){return this[2]},set:function(a){this[2]=a},enumerable:!1,configurable:!0});Object.defineProperty(d.prototype,"w",{get:function(){return this[3]},set:function(a){this[3]=a},enumerable:!1,configurable:!0});d.add=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};d.ceil=function(a,b){void 0===b&&(b=new d);b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);b[2]=Math.ceil(a[2]);b[3]=Math.ceil(a[3]);return b};d.closeTo=function(a,b){return ta(a[0],
b[0])&&ta(a[1],b[1])&&ta(a[2],b[2])&&ta(a[3],b[3])};d.create=function(a,b,c,e,g){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===e&&(e=0);void 0===g&&(g=new d);g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g};d.cross=function(a,b,c,e){void 0===e&&(e=new Float32Array(4));xc=b[0]*c[1]-b[1]*c[0];yc=b[0]*c[2]-b[2]*c[0];zc=b[0]*c[3]-b[3]*c[0];Ac=b[1]*c[2]-b[2]*c[1];Bc=b[1]*c[3]-b[3]*c[1];Cc=b[2]*c[3]-b[3]*c[2];bc=a[0];cc=a[1];dc=a[2];ec=a[3];e[0]=cc*Cc-dc*Bc+ec*Ac;e[1]=-(bc*Cc)+dc*zc-ec*yc;e[2]=bc*
Bc-cc*zc+ec*xc;e[3]=-(bc*Ac)+cc*yc-dc*xc;return e};d.distanceTo=function(a,b){Y=b[0]-a[0];Z=b[1]-a[1];aa=b[2]-a[2];ba=b[3]-a[3];return Math.hypot(Y,Z,aa,ba)};d.distanceToSquared=function(a,b){Y=b[0]-a[0];Z=b[1]-a[1];aa=b[2]-a[2];ba=b[3]-a[3];return Y*Y+Z*Z+aa*aa+ba*ba};d.divide=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c};d.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};d.equals=function(a,b){return a[0]===b[0]&&a[1]===
b[1]&&a[2]===b[2]&&a[3]===b[3]};d.floor=function(a,b){void 0===b&&(b=new d);b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);b[2]=Math.floor(a[2]);b[3]=Math.floor(a[3]);return b};d.fromValues=function(a,b,c,e,g){void 0===g&&(g=new d);g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g};d.inverse=function(a,b){void 0===b&&(b=new d);b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];b[3]=1/a[3];return b};d.norm=function(a){return Math.hypot(a[0],a[1],a[2],a[3])};d.lengthSquared=function(a){Y=a[0];Z=a[1];aa=a[2];ba=a[3];return Y*Y+Z*
Z+aa*aa+ba*ba};d.lerp=function(a,b,c,e){void 0===e&&(e=new d);Y=a[0];Z=a[1];aa=a[2];ba=a[3];e[0]=Y+c*(b[0]-Y);e[1]=Z+c*(b[1]-Z);e[2]=aa+c*(b[2]-aa);e[3]=ba+c*(b[3]-ba);return e};d.max=function(a,b,c){void 0===c&&(c=new d);c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);c[3]=Math.max(a[3],b[3]);return c};d.min=function(a,b,c){void 0===c&&(c=new d);c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);c[3]=Math.min(a[3],b[3]);return c};d.minus=function(a,
b,c){void 0===c&&(c=new d);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c};d.multiply=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c};d.multiplyScalar=function(a,b,c){void 0===c&&(c=new d);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};d.negate=function(a,b){void 0===b&&(b=new d);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b};d.normalize=function(a,b){void 0===b&&(b=new d);Y=a[0];Z=a[1];aa=a[2];ba=
a[3];jb=Y*Y+Z*Z+aa*aa+ba*ba;0<jb&&(jb=1/Math.sqrt(jb));b[0]=Y*jb;b[1]=Z*jb;b[2]=aa*jb;b[3]=ba*jb;return b};d.round=function(a,b){void 0===b&&(b=new d);b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);b[3]=Math.round(a[3]);return b};d.toString=function(a){return"(".concat(a[0],", ").concat(a[1],", ").concat(a[2],", ").concat(a[3],")")};d.transformMatrix4=function(a,b,c){void 0===c&&(c=new d);Y=a[0];Z=a[1];aa=a[2];ba=a[3];c[0]=b[0]*Y+b[4]*Z+b[8]*aa+b[12]*ba;c[1]=b[1]*Y+b[5]*Z+b[9]*
aa+b[13]*ba;c[2]=b[2]*Y+b[6]*Z+b[10]*aa+b[14]*ba;c[3]=b[3]*Y+b[7]*Z+b[11]*aa+b[15]*ba;return c};d.transformQuat=function(a,b,c){void 0===c&&(c=new d);Jb=a[0];Kb=a[1];Lb=a[2];Y=b[0];Z=b[1];aa=b[2];ba=b[3];Yb=ba*Jb+Z*Lb-aa*Kb;Zb=ba*Kb+aa*Jb-Y*Lb;$b=ba*Lb+Y*Kb-Z*Jb;ac=-Y*Jb-Z*Kb-aa*Lb;c[0]=Yb*ba+ac*-Y+Zb*-aa-$b*-Z;c[1]=Zb*ba+ac*-Z+$b*-Y-Yb*-aa;c[2]=$b*ba+ac*-aa+Yb*-Z-Zb*-Y;c[3]=a[3];return c};return d}(Float32Array);m.COLOR_HEX_MAP=lb;m.ColorGPU=Uc;m.ColorRGB=Tc;m.ColorRGBA=Sc;m.Constants=Rc;m.Cube=
Lc;m.Easing=Vc;m.EulerAngle=Wc;m.Matrix2=Xc;m.Matrix3=Yc;m.Matrix4=Zc;m.Polar=$c;m.Quaternion=ad;m.Ray3=fd;m.Rectangle2=cd;m.Sphere=dd;m.Triangle3=ed;m.Vector2=ca;m.Vector3=h;m.Vector4=gd;m.ceilPowerOfTwo=function(f){return Math.pow(2,Math.ceil(Math.log(f)/Math.LN2))};m.clamp=na;m.clampCircle=function(f,d,a){rb=a-d;sb=Nb(d/rb)*rb+f%rb;return sb<d?sb+rb:sb>a?sb-rb:sb};m.clampSafe=bb;m.closeTo=ta;m.floorPowerOfTwo=function(f){return Math.pow(2,Math.floor(Math.log(f)/Math.LN2))};m.floorToZero=Nb;m.isPowerOfTwo=
function(f){return 0===(f&f-1)&&0!==f};m.lerp=function(f,d,a){return(d-f)*a+f};m.mapRange=function(f,d,a){kc=d[1]-d[0];Gc=a[1]-a[0];return(f-.5*kc)/Gc/kc};m.randFloat=function(f,d){void 0===f&&(f=0);void 0===d&&(d=1);return f+Math.random()*(d-f)};m.randInt=function(f,d){void 0===f&&(f=0);void 0===d&&(d=1);return f+Math.floor(Math.random()*(d-f+1))};m.rndFloat=function(f,d){return f+Math.random()*(d-f)};m.rndFloatRange=function(f){return f*(.5-Math.random())};m.rndInt=function(f,d){return f+Math.floor(Math.random()*
(d-f+1))};m.sum=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return Ic(f)};m.sumArray=Ic;Object.defineProperty(m,"__esModule",{value:!0})});

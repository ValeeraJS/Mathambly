'use strict';(function(p,ib){"object"===typeof exports&&"undefined"!==typeof module?ib(exports):"function"===typeof define&&define.amd?define(["exports"],ib):(p="undefined"!==typeof globalThis?globalThis:p||self,ib(p.Mathx={}))})(this,function(p){const ib=2*Math.PI,La=Math.pow(2,-52);var Rc=Object.freeze({__proto__:null,DEG_TO_RAD:Math.PI/180,DEG_360_RAD:ib,DEG_90_RAD:Math.PI/2,DEG_60_RAD:Math.PI/3,DEG_45_RAD:Math.PI/4,DEG_30_RAD:Math.PI/6,EPSILON:La,RAD_TO_DEG:180/Math.PI});class Sc extends Uint8Array{constructor(a=
0,b=0,c=0,d=255){super(4);this[0]=a;this[1]=b;this[2]=c;this[3]=d}get r(){return this[0]}set r(a){this[0]=a}get g(){return this[1]}set g(a){this[1]=a}get b(){return this[2]}set b(a){this[2]=a}get a(){return this[3]}set a(a){this[3]=a}}class Tc extends Uint8Array{constructor(a=0,b=0,c=0){super(3);this[0]=a;this[1]=b;this[2]=c}get r(){return this[0]}set r(a){this[0]=a}get g(){return this[1]}set g(a){this[1]=a}get b(){return this[2]}set b(a){this[2]=a}}var Uc=Object.freeze({__proto__:null,create:(a=
0,b=0,c=0,d=1,e=new Float32Array(4))=>{e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},createJson:(a=0,b=0,c=0,d=1)=>({r:a,g:b,b:c,a:d}),fromScalar:(a,b=1,c)=>{c[0]=a;c[1]=a;c[2]=a;c[3]=b;return c}}),ia=(a,b,c)=>Math.max(b,Math.min(c,a)),Fb=a=>0>a?Math.ceil(a):Math.floor(a);let jb,kb;var Za=(a,b,c)=>b>c?Math.max(c,Math.min(b,a)):c>b?Math.max(b,Math.min(c,a)):b,Ba=(a,b,c=La)=>Math.abs(a-b)<=c;let Zb=0,oc=0,pc=0,$b=0;var qc=a=>{$b=0;pc=a.length;for(let b=0;b<pc;b++)$b+=a[b];return $b},Gb=a=>a<1/2.75?7.5625*a*
a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,Vc=Object.freeze({__proto__:null,BackIn:a=>1===a?1:a*a*(2.70158*a-1.70158),BackOut:a=>0===a?0:--a*a*(2.70158*a+1.70158)+1,BackInOut:a=>{if(1>(a*=2))return.5*a*a*(3.5949095*a-2.5949095);a-=2;return.5*(a*a*(3.5949095*a+2.5949095)+2)},BounceIn:a=>1-Gb(1-a),BounceInOut:a=>.5>a?.5*(1-Gb(1-2*a)):.5*Gb(2*a-1)+.5,BounceOut:Gb,CircularIn:a=>1-Math.sqrt(1-a*a),CircularInOut:a=>{if(1>(a*=2))return-.5*
(Math.sqrt(1-a*a)-1);a-=2;return.5*(Math.sqrt(1-a*a)+1)},CircularOut:a=>Math.sqrt(1- --a*a),CubicIn:a=>a*a*a,CubicInOut:a=>{if(1>(a*=2))return.5*a*a*a;a-=2;return.5*(a*a*a+2)},CubicOut:a=>--a*a*a+1,ElasticIn:a=>0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*Math.PI),ElasticInOut:a=>{if(0===a||1===a)return a;a*=2;return 1>a?-.5*Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*Math.PI):.5*Math.pow(2,-10*(a-1))*Math.sin(5*(a-1.1)*Math.PI)+1},ElasticOut:a=>0===a||1===a?a:Math.pow(2,-10*a)*Math.sin(5*
(a-.1)*Math.PI)+1,ExponentialIn:a=>0===a?0:Math.pow(1024,a-1),ExponentialInOut:a=>0===a||1===a?a:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2),ExponentialOut:a=>1===a?1:1-Math.pow(2,-10*a),Linear:a=>a,QuadraticIn:a=>a*a,QuadraticInOut:a=>1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1),QuadraticOut:a=>a*(2-a),QuarticIn:a=>a*a*a*a,QuarticInOut:a=>{if(1>(a*=2))return.5*a*a*a*a;a-=2;return-.5*(a*a*a*a-2)},QuarticOut:a=>1- --a*a*a*a,QuinticIn:a=>a*a*a*a*a,QuinticInOut:a=>{if(1>(a*=2))return.5*a*a*a*a*
a;a-=2;return.5*(a*a*a*a*a+2)},QuinticOut:a=>--a*a*a*a*a+1,SinusoidalIn:a=>1-Math.sin((1-a)*Math.PI/2),SinusoidalInOut:a=>.5*(1-Math.sin(Math.PI*(.5-a))),SinusoidalOut:a=>Math.sin(a*Math.PI/2)}),ja;(function(a){a.XYZ="xyz";a.ZXY="zxy";a.YZX="yzx";a.XZY="xzy";a.ZYX="zyx";a.YXZ="yxz"})(ja||(ja={}));var Wc=Object.freeze({__proto__:null,create:(a=0,b=0,c=0,d=ja.XYZ,e={order:ja.XYZ,x:0,y:0,z:0})=>{e.x=a;e.y=b;e.z=c;e.order=d;return e},from:(a,b={order:ja.XYZ,x:0,y:0,z:0})=>{b.x=a.x;b.y=a.y;b.z=a.z;b.order=
a.order;return b},fromMatrix4:(a,b={order:ja.XYZ,x:0,y:0,z:0})=>{const c=a[0],d=a[4],e=a[8],k=a[1],g=a[5],L=a[9],q=a[2],r=a[6];a=a[10];switch(b.order){case ja.XYZ:b.y=Math.asin(ia(e,-1,1));.9999999>Math.abs(e)?(b.x=Math.atan2(-L,a),b.z=Math.atan2(-d,c)):(b.x=Math.atan2(r,g),b.z=0);break;case ja.YXZ:b.x=Math.asin(-ia(L,-1,1));.9999999>Math.abs(L)?(b.y=Math.atan2(e,a),b.z=Math.atan2(k,g)):(b.y=Math.atan2(-q,c),b.z=0);break;case ja.ZXY:b.x=Math.asin(ia(r,-1,1));.9999999>Math.abs(r)?(b.y=Math.atan2(-q,
a),b.z=Math.atan2(-d,g)):(b.y=0,b.z=Math.atan2(k,c));break;case ja.ZYX:b.y=Math.asin(-ia(q,-1,1));.9999999>Math.abs(q)?(b.x=Math.atan2(r,a),b.z=Math.atan2(k,c)):(b.x=0,b.z=Math.atan2(-d,g));break;case ja.YZX:b.z=Math.asin(ia(k,-1,1));.9999999>Math.abs(k)?(b.x=Math.atan2(-L,g),b.y=Math.atan2(-q,c)):(b.x=0,b.y=Math.atan2(e,a));break;case ja.XZY:b.z=Math.asin(-ia(d,-1,1)),.9999999>Math.abs(d)?(b.x=Math.atan2(r,g),b.y=Math.atan2(e,c)):(b.x=Math.atan2(-L,a),b.y=0)}return b}});let Ca=0,Da=0,Ma=0,Na=0,tb=
0,ub=0,vb=0,wb=0,$a=0,Qa=0,Ra=0;const rc=[1,0,0,1],Xc=new Float32Array(rc),sc=a=>a[0]*a[3]-a[1]*a[2];var Yc=Object.freeze({__proto__:null,UNIT_MATRIX2:Xc,add:(a,b,c)=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},adjoint:(a,b)=>{Ca=a[0];b[0]=a[3];b[1]=-a[1];b[2]=-a[2];b[3]=Ca;return b},closeTo:(a,b)=>{Ca=a[0];Ma=a[1];Da=a[2];Na=a[3];tb=b[0];vb=b[1];ub=b[2];wb=b[3];return Ba(Ca,tb)&&Ba(Da,ub)&&Ba(Ma,vb)&&Ba(Na,wb)},create:(a=rc)=>new Float32Array(a),determinant:sc,equals:(a,
b)=>a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3],frobNorm:a=>Math.hypot(a[0],a[1],a[2],a[3]),from:(a,b=new Float32Array(4))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},fromRotation:(a,b=new Float32Array(4))=>{Ra=Math.sin(a);Qa=Math.cos(a);b[0]=Qa;b[1]=Ra;b[2]=-Ra;b[3]=Qa;return b},fromScaling:(a,b=new Float32Array(4))=>{b[0]=a[0];b[1]=0;b[2]=0;b[3]=a[1];return b},identity:(a=new Float32Array(4))=>{a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},invert:function(a,b=new Float32Array(4)){Ca=a[0];
Ma=a[1];Da=a[2];Na=a[3];$a=sc(a);if(!$a)return null;$a=1/$a;b[0]=Na*$a;b[1]=-Ma*$a;b[2]=-Da*$a;b[3]=Ca*$a;return b},minus:function(a,b,c=new Float32Array(4)){c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:(a,b,c=new Float32Array(4))=>{Ca=a[0];Ma=a[1];Da=a[2];Na=a[3];tb=b[0];vb=b[1];ub=b[2];wb=b[3];c[0]=Ca*tb+Da*vb;c[1]=Ma*tb+Na*vb;c[2]=Ca*ub+Da*wb;c[3]=Ma*ub+Na*wb;return c},multiplyScalar:(a,b,c=new Float32Array(4))=>{c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;
return c},rotate:(a,b,c=new Float32Array(4))=>{Ca=a[0];Ma=a[1];Da=a[2];Na=a[3];Ra=Math.sin(b);Qa=Math.cos(b);c[0]=Ca*Qa+Da*Ra;c[1]=Ma*Qa+Na*Ra;c[2]=Ca*-Ra+Da*Qa;c[3]=Ma*-Ra+Na*Qa;return c},scale:(a,b,c=new Float32Array(4))=>{Ca=a[0];Ma=a[1];Da=a[2];Na=a[3];Qa=b[0];Ra=b[1];c[0]=Ca*Qa;c[1]=Ma*Qa;c[2]=Da*Ra;c[3]=Na*Ra;return c},toString:a=>`mat2(${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`,transpose:(a,b=new Float32Array(4))=>{b===a?(Da=a[1],b[1]=a[2],b[2]=Da):(b[0]=a[0],b[1]=a[2],b[2]=a[1],b[3]=a[3]);return b}});
let ka=0,ca=0,da=0,la=0,ma=0,ea=0,qa=0,ra=0,sa=0,Hb=0,db=0,Ib=0,eb=0,Jb=0,Kb=0,Lb=0,fb=0,Mb=0,na=0,oa=0;const tc=[1,0,0,0,1,0,0,0,1],Zc=new Float32Array(tc);var $c=Object.freeze({__proto__:null,UNIT_MATRIX3:Zc,cofactor00:a=>a[4]*a[8]-a[5]*a[7],cofactor01:a=>a[1]*a[8]-a[7]*a[2],cofactor02:a=>a[1]*a[5]-a[4]*a[2],cofactor10:a=>a[3]*a[8]-a[6]*a[5],cofactor11:a=>a[0]*a[8]-a[6]*a[2],cofactor12:a=>a[0]*a[5]-a[3]*a[2],cofactor20:a=>a[3]*a[7]-a[6]*a[4],cofactor21:a=>a[0]*a[7]-a[6]*a[1],cofactor22:a=>a[0]*
a[4]-a[3]*a[1],create:()=>new Float32Array(tc),determinant:a=>{ka=a[0];ca=a[1];da=a[2];ma=a[3];la=a[4];ea=a[5];qa=a[6];ra=a[7];sa=a[8];return ka*(sa*la-ea*ra)+ca*(-sa*ma+ea*qa)+da*(ra*ma-la*qa)},from:(a,b=new Float32Array(9))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},fromMatrix4:(a,b=new Float32Array(9))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b},fromRotation:(a,b=new Float32Array(9))=>
{oa=Math.sin(a);na=Math.cos(a);b[0]=na;b[1]=oa;b[2]=0;b[3]=-oa;b[4]=na;b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},fromScaling:(a,b)=>{b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=a[1];b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},fromTranslation:function(a,b=new Float32Array(9)){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=1;b[5]=0;b[6]=a[0];b[7]=a[1];b[8]=1;return b},identity:(a=new Float32Array(9))=>{a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},invert:(a,b)=>{ka=a[0];ca=a[1];da=a[2];ma=a[3];la=a[4];ea=
a[5];qa=a[6];ra=a[7];sa=a[8];db=sa*la-ea*ra;eb=-sa*ma+ea*qa;fb=ra*ma-la*qa;a=ka*db+ca*eb+da*fb;if(!a)return null;a=1/a;b[0]=db*a;b[1]=(-sa*ca+da*ra)*a;b[2]=(ea*ca-da*la)*a;b[3]=eb*a;b[4]=(sa*ka-da*qa)*a;b[5]=(-ea*ka+da*ma)*a;b[6]=fb*a;b[7]=(-ra*ka+ca*qa)*a;b[8]=(la*ka-ca*ma)*a;return b},multiply:()=>(a,b,c=new Float32Array(9))=>{ka=a[0];ca=a[1];da=a[2];ma=a[3];la=a[4];ea=a[5];qa=a[6];ra=a[7];sa=a[8];Hb=b[0];db=b[1];Ib=b[2];Jb=b[3];eb=b[4];Kb=b[5];Lb=b[6];fb=b[7];Mb=b[8];c[0]=Hb*ka+db*ma+Ib*qa;c[1]=
Hb*ca+db*la+Ib*ra;c[2]=Hb*da+db*ea+Ib*sa;c[3]=Jb*ka+eb*ma+Kb*qa;c[4]=Jb*ca+eb*la+Kb*ra;c[5]=Jb*da+eb*ea+Kb*sa;c[6]=Lb*ka+fb*ma+Mb*qa;c[7]=Lb*ca+fb*la+Mb*ra;c[8]=Lb*da+fb*ea+Mb*sa;return c},rotate:(a,b,c=new Float32Array(9))=>{ka=a[0];ca=a[1];da=a[2];ma=a[3];la=a[4];ea=a[5];qa=a[6];ra=a[7];sa=a[8];oa=Math.sin(b);na=Math.cos(b);c[0]=na*ka+oa*ma;c[1]=na*ca+oa*la;c[2]=na*da+oa*ea;c[3]=oa*ma-na*ka;c[4]=oa*la-na*ca;c[5]=oa*ea-na*da;c[6]=qa;c[7]=ra;c[8]=sa;return c},scale:(a,b,c=new Float32Array(9))=>{na=
b[0];oa=b[1];c[0]=na*a[0];c[1]=na*a[1];c[2]=na*a[2];c[3]=oa*a[3];c[4]=oa*a[4];c[5]=oa*a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c},translate:(a,b,c=new Float32Array(9))=>{ka=a[0];ca=a[1];da=a[2];ma=a[3];la=a[4];ea=a[5];qa=a[6];ra=a[7];sa=a[8];na=b[0];oa=b[1];c[0]=ka;c[1]=ca;c[2]=da;c[3]=ma;c[4]=la;c[5]=ea;c[6]=na*ka+oa*ma+qa;c[7]=na*ca+oa*la+ra;c[8]=na*da+oa*ea+sa;return c},transpose:(a,b=new Float32Array(9))=>{b===a?(ca=a[1],da=a[2],ea=a[5],b[1]=a[3],b[2]=a[6],b[3]=ca,b[5]=a[7],b[6]=da,b[7]=ea):
(b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8]);return b}});let A=0,x=0,y=0,B=0,C=0,D=0,z=0,E=0,F=0,G=0,H=0,I=0,ta=0,ua=0,va=0,Ea=0,t=0,u=0,v=0,J=0,ab=0,bb=0,gb=0,uc=0,Ja=0,Ka=0,Sa=0,lb=0,mb=0,nb=0,ob=0,pb=0,l=0,m=0,n=0,fa=0,Fa=0,h=0,ha=0,U=0,Y=0,f=0,Z=0,aa=0,S=0;const vc=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),ad=new Float32Array(vc),wc=(a=new Float32Array(16))=>{a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=
0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};var bd=Object.freeze({__proto__:null,UNIT_MATRIX4:ad,create:()=>new Float32Array(vc),determinant:a=>{A=a[0];x=a[1];y=a[2];B=a[3];D=a[4];C=a[5];z=a[6];E=a[7];F=a[8];G=a[9];H=a[10];I=a[11];ua=a[12];ta=a[13];va=a[14];Ea=a[15];t=A*C-x*D;u=A*z-y*D;v=x*z-y*C;J=F*ta-G*ua;bb=F*va-H*ua;ab=G*va-H*ta;gb=A*ab-x*bb+y*J;uc=D*ab-C*bb+z*J;Ja=F*v-G*u+H*t;Ka=ua*v-ta*u+va*t;return E*gb-B*uc+Ea*Ja-I*Ka},from:(a,b=new Float32Array(16))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];
b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},fromEuler:(a,b=new Float32Array(16))=>{l=a.x;m=a.y;n=a.z;U=Math.cos(l);Y=Math.sin(l);f=Math.cos(m);Z=Math.sin(m);aa=Math.cos(n);S=Math.sin(n);if(a.order===ja.XYZ){a=U*aa;var c=U*S,d=Y*aa,e=Y*S;b[0]=f*aa;b[4]=-f*S;b[8]=Z;b[1]=c+d*Z;b[5]=a-e*Z;b[9]=-Y*f;b[2]=e-a*Z;b[6]=d+c*Z;b[10]=U*f}else a.order===ja.YXZ?(a=f*aa,c=f*S,d=Z*aa,e=Z*S,b[0]=a+e*Y,b[4]=d*Y-c,b[8]=
U*Z,b[1]=U*S,b[5]=U*aa,b[9]=-Y,b[2]=c*Y-d,b[6]=e+a*Y,b[10]=U*f):a.order===ja.ZXY?(a=f*aa,c=f*S,d=Z*aa,e=Z*S,b[0]=a-e*Y,b[4]=-U*S,b[8]=d+c*Y,b[1]=c+d*Y,b[5]=U*aa,b[9]=e-a*Y,b[2]=-U*Z,b[6]=Y,b[10]=U*f):a.order===ja.ZYX?(a=U*aa,c=U*S,d=Y*aa,e=Y*S,b[0]=f*aa,b[4]=d*Z-c,b[8]=a*Z+e,b[1]=f*S,b[5]=e*Z+a,b[9]=c*Z-d,b[2]=-Z,b[6]=Y*f,b[10]=U*f):a.order===ja.YZX?(a=U*f,c=U*Z,d=Y*f,e=Y*Z,b[0]=f*aa,b[4]=e-a*S,b[8]=d*S+c,b[1]=S,b[5]=U*aa,b[9]=-Y*aa,b[2]=-Z*aa,b[6]=c*S+d,b[10]=a-e*S):a.order===ja.XZY&&(a=U*f,c=U*
Z,d=Y*f,e=Y*Z,b[0]=f*aa,b[4]=-S,b[8]=Z*aa,b[1]=a*S+e,b[5]=U*aa,b[9]=c*S-d,b[2]=d*S-c,b[6]=Y*aa,b[10]=e*S+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromQuaternion:(a,b)=>{var c=a[0],d=a[1],e=a[2];a=a[3];var k=c+c,g=d+d;const L=e+e;c*=k;const q=d*k;d*=g;const r=e*k,K=e*g;e*=L;k*=a;g*=a;a*=L;b[0]=1-d-e;b[1]=q+a;b[2]=r-g;b[3]=0;b[4]=q-a;b[5]=1-c-e;b[6]=K+k;b[7]=0;b[8]=r+g;b[9]=K-k;b[10]=1-c-d;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromRotation:(a,b,c)=>{l=b[0];m=b[1];
n=b[2];Fa=Math.hypot(l,m,n);if(Fa<La)return null;Fa=1/Fa;l*=Fa;m*=Fa;n*=Fa;h=Math.sin(a);f=Math.cos(a);ha=1-f;c[0]=l*l*ha+f;c[1]=m*l*ha+n*h;c[2]=n*l*ha-m*h;c[3]=0;c[4]=l*m*ha-n*h;c[5]=m*m*ha+f;c[6]=n*m*ha+l*h;c[7]=0;c[8]=l*n*ha+m*h;c[9]=m*n*ha-l*h;c[10]=n*n*ha+f;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c},fromRotationX:(a,b)=>{h=Math.sin(a);f=Math.cos(a);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=f;b[6]=h;b[7]=0;b[8]=0;b[9]=-h;b[10]=f;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromRotationY:(a,
b)=>{h=Math.sin(a);f=Math.cos(a);b[0]=f;b[1]=0;b[2]=-h;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=h;b[9]=0;b[10]=f;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromRotationZ:(a,b)=>{h=Math.sin(a);f=Math.cos(a);b[0]=f;b[1]=h;b[2]=0;b[3]=0;b[4]=-h;b[5]=f;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromScaling:(a,b=new Float32Array(16))=>{b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=a[1];b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=a[2];b[11]=0;b[12]=0;b[13]=0;b[14]=0;
b[15]=1;return b},fromTranslation:(a,b=new Float32Array(16))=>{b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=a[0];b[13]=a[1];b[14]=a[2];b[15]=1;return b},identity:wc,invert:function(a,b=new Float32Array(16)){A=a[0];x=a[1];y=a[2];B=a[3];D=a[4];C=a[5];z=a[6];E=a[7];F=a[8];G=a[9];H=a[10];I=a[11];ua=a[12];ta=a[13];va=a[14];Ea=a[15];t=A*C-x*D;u=A*z-y*D;v=A*E-B*D;J=x*z-y*C;Ja=x*E-B*C;Ka=y*E-B*z;Sa=F*ta-G*ua;lb=F*va-H*ua;nb=F*Ea-I*ua;mb=G*va-H*ta;ob=G*Ea-I*ta;
pb=H*Ea-I*va;fa=t*pb-u*ob+v*mb+J*nb-Ja*lb+Ka*Sa;if(!fa)return null;fa=1/fa;b[0]=(C*pb-z*ob+E*mb)*fa;b[1]=(y*ob-x*pb-B*mb)*fa;b[2]=(ta*Ka-va*Ja+Ea*J)*fa;b[3]=(H*Ja-G*Ka-I*J)*fa;b[4]=(z*nb-D*pb-E*lb)*fa;b[5]=(A*pb-y*nb+B*lb)*fa;b[6]=(va*v-ua*Ka-Ea*u)*fa;b[7]=(F*Ka-H*v+I*u)*fa;b[8]=(D*ob-C*nb+E*Sa)*fa;b[9]=(x*nb-A*ob-B*Sa)*fa;b[10]=(ua*Ja-ta*v+Ea*t)*fa;b[11]=(G*v-F*Ja-I*t)*fa;b[12]=(C*lb-D*mb-z*Sa)*fa;b[13]=(A*mb-x*lb+y*Sa)*fa;b[14]=(ta*u-ua*J-va*t)*fa;b[15]=(F*J-G*u+H*t)*fa;return b},lookAt:(a,b,c,
d)=>{let e,k;let g;const L=a[0],q=a[1];a=a[2];var r=c[0];var K=c[1];var pa=c[2];var Ta=b[0];c=b[1];var Va=b[2];if(Math.abs(L-Ta)<La&&Math.abs(q-c)<La&&Math.abs(a-Va)<La)return wc(d);b=L-Ta;c=q-c;Ta=a-Va;g=1/Math.hypot(b,c,Ta);b*=g;c*=g;Ta*=g;Va=K*Ta-pa*c;pa=pa*b-r*Ta;r=r*c-K*b;(g=Math.hypot(Va,pa,r))?(g=1/g,Va*=g,pa*=g,r*=g):r=pa=Va=0;K=c*r-Ta*pa;e=Ta*Va-b*r;k=b*pa-c*Va;(g=Math.hypot(K,e,k))?(g=1/g,K*=g,e*=g,k*=g):k=e=K=0;d[0]=Va;d[1]=K;d[2]=b;d[3]=0;d[4]=pa;d[5]=e;d[6]=c;d[7]=0;d[8]=r;d[9]=k;d[10]=
Ta;d[11]=0;d[12]=-(Va*L+pa*q+r*a);d[13]=-(K*L+e*q+k*a);d[14]=-(b*L+c*q+Ta*a);d[15]=1;return d},multiply:(a,b,c=new Float32Array(16))=>{A=a[0];x=a[1];y=a[2];B=a[3];D=a[4];C=a[5];z=a[6];E=a[7];F=a[8];G=a[9];H=a[10];I=a[11];ua=a[12];ta=a[13];va=a[14];Ea=a[15];t=b[0];u=b[1];v=b[2];J=b[3];c[0]=t*A+u*D+v*F+J*ua;c[1]=t*x+u*C+v*G+J*ta;c[2]=t*y+u*z+v*H+J*va;c[3]=t*B+u*E+v*I+J*Ea;t=b[4];u=b[5];v=b[6];J=b[7];c[4]=t*A+u*D+v*F+J*ua;c[5]=t*x+u*C+v*G+J*ta;c[6]=t*y+u*z+v*H+J*va;c[7]=t*B+u*E+v*I+J*Ea;t=b[8];u=b[9];
v=b[10];J=b[11];c[8]=t*A+u*D+v*F+J*ua;c[9]=t*x+u*C+v*G+J*ta;c[10]=t*y+u*z+v*H+J*va;c[11]=t*B+u*E+v*I+J*Ea;t=b[12];u=b[13];v=b[14];J=b[15];c[12]=t*A+u*D+v*F+J*ua;c[13]=t*x+u*C+v*G+J*ta;c[14]=t*y+u*z+v*H+J*va;c[15]=t*B+u*E+v*I+J*Ea;return c},orthogonal:(a,b,c,d,e,k,g)=>{const L=1/(a-b),q=1/(c-d),r=1/(e-k);g[0]=-2*L;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=-2*q;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=2*r;g[11]=0;g[12]=(a+b)*L;g[13]=(d+c)*q;g[14]=(k+e)*r;g[15]=1;return g},perspective:(a,b,c,d,e)=>{S=1/Math.tan(a/2);
e[0]=S/b;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=S;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[11]=-1;e[12]=0;e[13]=0;e[15]=0;null!==d&&Infinity!==d?(U=1/(c-d),e[10]=(d+c)*U,e[14]=2*d*c*U):(e[10]=-1,e[14]=-2*c);return e},rotate:(a,b,c,d)=>{l=c[0];m=c[1];n=c[2];Fa=Math.hypot(l,m,n);if(Fa<La)return null;Fa=1/Fa;l*=Fa;m*=Fa;n*=Fa;h=Math.sin(b);f=Math.cos(b);ha=1-f;A=a[0];x=a[1];y=a[2];B=a[3];D=a[4];C=a[5];z=a[6];E=a[7];F=a[8];G=a[9];H=a[10];I=a[11];t=l*l*ha+f;u=m*l*ha+n*h;v=n*l*ha-m*h;bb=l*m*ha-n*h;ab=m*m*ha+f;gb=n*m*ha+
l*h;Ja=l*n*ha+m*h;Ka=m*n*ha-l*h;Sa=n*n*ha+f;d[0]=A*t+D*u+F*v;d[1]=x*t+C*u+G*v;d[2]=y*t+z*u+H*v;d[3]=B*t+E*u+I*v;d[4]=A*bb+D*ab+F*gb;d[5]=x*bb+C*ab+G*gb;d[6]=y*bb+z*ab+H*gb;d[7]=B*bb+E*ab+I*gb;d[8]=A*Ja+D*Ka+F*Sa;d[9]=x*Ja+C*Ka+G*Sa;d[10]=y*Ja+z*Ka+H*Sa;d[11]=B*Ja+E*Ka+I*Sa;a!==d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]);return d},rotateX:(a,b,c)=>{h=Math.sin(b);f=Math.cos(b);D=a[4];C=a[5];z=a[6];E=a[7];F=a[8];G=a[9];H=a[10];I=a[11];a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],
c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[4]=D*f+F*h;c[5]=C*f+G*h;c[6]=z*f+H*h;c[7]=E*f+I*h;c[8]=F*f-D*h;c[9]=G*f-C*h;c[10]=H*f-z*h;c[11]=I*f-E*h;return c},rotateY:(a,b,c)=>{h=Math.sin(b);f=Math.cos(b);A=a[0];x=a[1];y=a[2];B=a[3];F=a[8];G=a[9];H=a[10];I=a[11];a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=A*f-F*h;c[1]=x*f-G*h;c[2]=y*f-H*h;c[3]=B*f-I*h;c[8]=A*h+F*f;c[9]=x*h+G*f;c[10]=y*h+H*f;c[11]=B*h+I*f;return c},rotateZ:(a,b,c)=>{h=Math.sin(b);
f=Math.cos(b);A=a[0];x=a[1];y=a[2];B=a[3];D=a[4];C=a[5];z=a[6];E=a[7];a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=A*f+D*h;c[1]=x*f+C*h;c[2]=y*f+z*h;c[3]=B*f+E*h;c[4]=D*f-A*h;c[5]=C*f-x*h;c[6]=z*f-y*h;c[7]=E*f-B*h;return c},scale:(a,b,c=new Float32Array(16))=>{l=b[0];m=b[1];n=b[2];c[0]=a[0]*l;c[1]=a[1]*l;c[2]=a[2]*l;c[3]=a[3]*l;c[4]=a[4]*m;c[5]=a[5]*m;c[6]=a[6]*m;c[7]=a[7]*m;c[8]=a[8]*n;c[9]=a[9]*n;c[10]=a[10]*n;c[11]=a[11]*n;c!==a&&(c[12]=
a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c},targetTo:(a,b,c,d=new Float32Array(16))=>{const e=a[0],k=a[1];a=a[2];var g=c[0];const L=c[1];var q=c[2];c=e-b[0];let r=k-b[1];b=a-b[2];let K=c*c+r*r+b*b;0<K&&(K=1/Math.sqrt(K),c*=K,r*=K,b*=K);let pa=L*b-q*r;q=q*c-g*b;g=g*r-L*c;K=pa*pa+q*q+g*g;0<K&&(K=1/Math.sqrt(K),pa*=K,q*=K,g*=K);d[0]=pa;d[1]=q;d[2]=g;d[3]=0;d[4]=r*g-b*q;d[5]=b*pa-c*g;d[6]=c*q-r*pa;d[7]=0;d[8]=c;d[9]=r;d[10]=b;d[11]=0;d[12]=e;d[13]=k;d[14]=a;d[15]=1;return d},translate:(a,b,c=
new Float32Array(16))=>{l=b[0];m=b[1];n=b[2];a===c?(c[12]=a[0]*l+a[4]*m+a[8]*n+a[12],c[13]=a[1]*l+a[5]*m+a[9]*n+a[13],c[14]=a[2]*l+a[6]*m+a[10]*n+a[14],c[15]=a[3]*l+a[7]*m+a[11]*n+a[15]):(A=a[0],x=a[1],y=a[2],B=a[3],D=a[4],C=a[5],z=a[6],E=a[7],F=a[8],G=a[9],H=a[10],I=a[11],c[0]=A,c[1]=x,c[2]=y,c[3]=B,c[4]=D,c[5]=C,c[6]=z,c[7]=E,c[8]=F,c[9]=G,c[10]=H,c[11]=I,c[12]=A*l+D*m+F*n+a[12],c[13]=x*l+C*m+G*n+a[13],c[14]=y*l+z*m+H*n+a[14],c[15]=B*l+E*m+I*n+a[15]);return c},transpose:(a,b=new Float32Array(16))=>
{b===a?(x=a[1],y=a[2],B=a[3],z=a[6],E=a[7],I=a[11],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=x,b[6]=a[9],b[7]=a[13],b[8]=y,b[9]=z,b[11]=a[14],b[12]=B,b[13]=E,b[14]=I):(b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15]);return b}});let w,M,N,wa,Oa,Pa,Ga,ac;const xc=(a=0,b=0,c=0,d=new Float32Array(3))=>{d[0]=a;d[1]=b;d[2]=c;return d},xb=(a,b,c=new Float32Array(3))=>{w=a[0];M=a[1];N=a[2];
wa=b[0];Oa=b[1];Pa=b[2];c[0]=M*Pa-N*Oa;c[1]=N*wa-w*Pa;c[2]=w*Oa-M*wa;return c},hb=(a,b)=>{w=b[0]-a[0];M=b[1]-a[1];N=b[2]-a[2];return Math.hypot(w,M,N)},yc=(a,b,c=new Float32Array(3))=>{c[0]=a[0]/b;c[1]=a[1]/b;c[2]=a[2]/b;return c},Nb=(a,b)=>a[0]*b[0]+a[1]*b[1]+a[2]*b[2],Ob=a=>a[0]*a[0]+a[1]*a[1]+a[2]*a[2],bc=(a,b,c=new Float32Array(3))=>{c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},zc=(a,b,c=new Float32Array(3))=>{c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},yb=(a,b=new Float32Array(3))=>
yc(a,Math.sqrt(Ob(a))||1,b),cd=new Float32Array([0,0,0]),dd=new Float32Array([1,1,1]),Ac=new Float32Array([0,1,0]),ed=new Float32Array([0,-1,0]),Bc=new Float32Array([-1,0,0]),fd=new Float32Array([1,0,0]),gd=new Float32Array([0,0,-1]),hd=new Float32Array([0,0,1]);var id=Object.freeze({__proto__:null,add:(a,b,c=new Float32Array(3))=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},addScalar:(a,b,c=new Float32Array(3))=>{c[0]=a[0]+b;c[1]=a[1]+b;c[2]=a[2]+b;return c},angle:(a,b)=>{w=a[0];M=a[1];
N=a[2];wa=b[0];Oa=b[1];Pa=b[2];const c=Math.sqrt(w*w+M*M+N*N)*Math.sqrt(wa*wa+Oa*Oa+Pa*Pa);a=c&&Nb(a,b)/c;return Math.acos(ia(a,-1,1))},clamp:(a,b,c,d=new Float32Array(3))=>{d[0]=ia(a[0],b[0],c[0]);d[1]=ia(a[1],b[1],c[1]);d[2]=ia(a[2],b[2],c[2]);return d},clampSafe:(a,b,c,d=new Float32Array(3))=>{d[0]=Za(a[0],b[0],c[0]);d[1]=Za(a[1],b[1],c[1]);d[1]=Za(a[2],b[2],c[2]);return d},clampScalar:(a,b,c,d=new Float32Array(3))=>{d[0]=ia(a[0],b,c);d[1]=ia(a[1],b,c);d[2]=ia(a[2],b,c);return d},clone:(a,b=new Float32Array(3))=>
{b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},closeTo:(a,b)=>Ba(a[0],b[0])&&Ba(a[1],b[1])&&Ba(a[2],b[2]),create:xc,cross:xb,distanceTo:hb,distanceToManhattan:(a,b)=>Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2]),distanceToSquared:(a,b)=>{w=a[0]-b[0];M=a[1]-b[1];N=a[2]-b[2];return w*w+M*M+N*N},divide:(a,b,c=new Float32Array(3))=>{c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];return c},divideScalar:yc,dot:Nb,equals:(a,b)=>a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2],from:(a,b=new Float32Array(3))=>
{b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},fromArray:(a,b=0,c=new Float32Array(3))=>{c[0]=a[b];c[1]=a[b+1];c[2]=a[b+2];return c},fromScalar:(a,b=new Float32Array(3))=>{b[0]=b[1]=b[2]=a;return b},fromValues:(a,b,c,d=new Float32Array(3))=>{d[0]=a;d[1]=b;d[2]=c;return d},hermite:(a,b,c,d,e,k=new Float32Array(3))=>{Ga=e*e;const g=Ga*(2*e-3)+1,L=Ga*(e-2)+e,q=Ga*(e-1);e=Ga*(3-2*e);k[0]=a[0]*g+b[0]*L+c[0]*q+d[0]*e;k[1]=a[1]*g+b[1]*L+c[1]*q+d[1]*e;k[2]=a[2]*g+b[2]*L+c[2]*q+d[2]*e;return k},inverse:(a,b=new Float32Array(3))=>
{b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];return b},length:a=>Math.sqrt(Ob(a)),lengthManhattan:a=>Math.abs(a[0])+Math.abs(a[1])+Math.abs(a[2]),lengthSquared:Ob,lerp:(a,b,c,d=new Float32Array(3))=>{d[0]+=(b[0]-a[0])*c;d[1]+=(b[1]-a[1])*c;d[2]+=(b[2]-a[2])*c;return d},max:(a,b,c=new Float32Array(3))=>{c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);return c},min:(a,b,c=new Float32Array(3))=>{c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c},minus:bc,
minusScalar:(a,b,c=new Float32Array(3))=>{c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]-b;return c},multiply:(a,b,c=new Float32Array(3))=>{c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c},multiplyScalar:zc,negate:(a,b=new Float32Array(3))=>{b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},normalize:yb,rotateX:(a,b,c,d)=>{w=a[0]-b[0];M=a[1]-b[1];N=a[2]-b[2];wa=w;Oa=M*Math.cos(c)-N*Math.sin(c);Pa=M*Math.sin(c)+N*Math.cos(c);d[0]=wa+b[0];d[1]=Oa+b[1];d[2]=Pa+b[2];return d},rotateY:(a,b,c,d)=>{w=a[0]-b[0];M=a[1]-
b[1];N=a[2]-b[2];wa=N*Math.sin(c)+w*Math.cos(c);Oa=M;Pa=N*Math.cos(c)-w*Math.sin(c);d[0]=wa+b[0];d[1]=Oa+b[1];d[2]=Pa+b[2];return d},rotateZ:(a,b,c,d)=>{w=a[0]-b[0];M=a[1]-b[1];N=a[2]-b[2];wa=w*Math.cos(c)-M*Math.sin(c);Oa=w*Math.sin(c)+M*Math.cos(c);Pa=N;d[0]=wa+b[0];d[1]=Oa+b[1];d[2]=Pa+b[2];return d},round:(a,b=new Float32Array(3))=>{b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);return b},set:(a=0,b=0,c=0,d=new Float32Array(3))=>{d[0]=a;d[1]=b;d[2]=c;return d},setLength:(a,
b,c=new Float32Array(3))=>zc(yb(a,c),b,c),slerp:(a,b,c,d=new Float32Array(3))=>{Ga=Math.acos(Math.min(Math.max(Nb(a,b),-1),1));ac=Math.sin(Ga);w=Math.sin((1-c)*Ga)/ac;wa=Math.sin(c*Ga)/ac;d[0]=w*a[0]+wa*b[0];d[1]=w*a[1]+wa*b[1];d[2]=w*a[2]+wa*b[2];return d},toString:a=>`vec3(${a[0]}, ${a[1]}, ${a[2]})`,transformMatrix3:(a,b,c)=>{w=a[0];M=a[1];N=a[2];c[0]=w*b[0]+M*b[3]+N*b[6];c[1]=w*b[1]+M*b[4]+N*b[7];c[2]=w*b[2]+M*b[5]+N*b[8];return c},transformMatrix4:(a,b,c=new Float32Array(3))=>{w=a[0];M=a[1];
N=a[2];Ga=(Ga=b[3]*w+b[7]*M+b[11]*N+b[15])||1;c[0]=(b[0]*w+b[4]*M+b[8]*N+b[12])/Ga;c[1]=(b[1]*w+b[5]*M+b[9]*N+b[13])/Ga;c[2]=(b[2]*w+b[6]*M+b[10]*N+b[14])/Ga;return c},transformQuat:(a,b,c=new Float32Array(3))=>{const d=b[0],e=b[1],k=b[2],g=a[0],L=a[1];a=a[2];let q=e*a-k*L,r=k*g-d*a,K=d*L-e*g;b=2*b[3];c[0]=g+q*b+2*(e*K-k*r);c[1]=L+r*b+2*(k*q-d*K);c[2]=a+K*b+2*(d*r-e*q);return c},VECTOR3_ZERO:cd,VECTOR3_ONE:dd,VECTOR3_TOP:Ac,VECTOR3_BOTTOM:ed,VECTOR3_LEFT:Bc,VECTOR3_RIGHT:fd,VECTOR3_FRONT:gd,VECTOR3_BACK:hd});
let O,P,Q,R,zb,Ab,Bb,cb,Pb,Qb,Rb,Sb,cc,dc,ec,fc,gc,hc,Tb,Ub,Vb,Wb;const ic=(a,b)=>a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],Cc=(a,b,c,d=new Float32Array(4))=>{O=a[0];P=a[1];Q=a[2];R=a[3];d[0]=O+c*(b[0]-O);d[1]=P+c*(b[1]-P);d[2]=Q+c*(b[2]-Q);d[3]=R+c*(b[3]-R);return d},Dc=(a,b=new Float32Array(4))=>{O=a[0];P=a[1];Q=a[2];R=a[3];cb=O*O+P*P+Q*Q+R*R;0<cb&&(cb=1/Math.sqrt(cb));b[0]=O*cb;b[1]=P*cb;b[2]=Q*cb;b[3]=R*cb;return b};var jd=Object.freeze({__proto__:null,add:(a,b,c=new Float32Array(4))=>{c[0]=a[0]+
b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},ceil:(a,b=new Float32Array(4))=>{b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);b[2]=Math.ceil(a[2]);b[3]=Math.ceil(a[3]);return b},closeTo:(a,b)=>Ba(a[0],b[0])&&Ba(a[1],b[1])&&Ba(a[2],b[2])&&Ba(a[3],b[3]),create:(a=0,b=0,c=0,d=0,e=new Float32Array(4))=>{e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},cross:(a,b,c,d=new Float32Array(4))=>{cc=b[0]*c[1]-b[1]*c[0];dc=b[0]*c[2]-b[2]*c[0];ec=b[0]*c[3]-b[3]*c[0];fc=b[1]*c[2]-b[2]*c[1];gc=b[1]*c[3]-b[3]*c[1];
hc=b[2]*c[3]-b[3]*c[2];Tb=a[0];Ub=a[1];Vb=a[2];Wb=a[3];d[0]=Ub*hc-Vb*gc+Wb*fc;d[1]=-(Tb*hc)+Vb*ec-Wb*dc;d[2]=Tb*gc-Ub*ec+Wb*cc;d[3]=-(Tb*fc)+Ub*dc-Vb*cc;return d},distanceTo:(a,b)=>{O=b[0]-a[0];P=b[1]-a[1];Q=b[2]-a[2];R=b[3]-a[3];return Math.hypot(O,P,Q,R)},distanceToSquared:(a,b)=>{O=b[0]-a[0];P=b[1]-a[1];Q=b[2]-a[2];R=b[3]-a[3];return O*O+P*P+Q*Q+R*R},divide:(a,b,c=new Float32Array(4))=>{c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c},dot:ic,equals:(a,b)=>a[0]===b[0]&&a[1]===
b[1]&&a[2]===b[2]&&a[3]===b[3],floor:function(a,b){b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);b[2]=Math.floor(a[2]);b[3]=Math.floor(a[3]);return b},from:(a,b=new Float32Array(4))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},fromValues:(a,b,c,d,e=new Float32Array(4))=>{e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},inverse:(a,b=new Float32Array(4))=>{b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];b[3]=1/a[3];return b},length:a=>Math.hypot(a[0],a[1],a[2],a[3]),lengthSquared:a=>{O=a[0];P=a[1];Q=a[2];R=a[3];return O*
O+P*P+Q*Q+R*R},lerp:Cc,max:(a,b,c=new Float32Array(4))=>{c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);c[3]=Math.max(a[3],b[3]);return c},min:(a,b,c=new Float32Array(4))=>{c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);c[3]=Math.min(a[3],b[3]);return c},minus:(a,b,c=new Float32Array(4))=>{c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:(a,b,c=new Float32Array(4))=>{c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];
c[3]=a[3]*b[3];return c},multiplyScalar:(a,b,c=new Float32Array(4))=>{c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},negate:(a,b=new Float32Array(4))=>{b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},normalize:Dc,round:(a,b=new Float32Array(4))=>{b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);b[3]=Math.round(a[3]);return b},toString:a=>`vec4(${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`,transformMatrix4:(a,b,c=new Float32Array(4))=>{O=a[0];P=a[1];Q=a[2];R=a[3];c[0]=b[0]*
O+b[4]*P+b[8]*Q+b[12]*R;c[1]=b[1]*O+b[5]*P+b[9]*Q+b[13]*R;c[2]=b[2]*O+b[6]*P+b[10]*Q+b[14]*R;c[3]=b[3]*O+b[7]*P+b[11]*Q+b[15]*R;return c},transformQuat:(a,b,c=new Float32Array(4))=>{zb=a[0];Ab=a[1];Bb=a[2];O=b[0];P=b[1];Q=b[2];R=b[3];Pb=R*zb+P*Bb-Q*Ab;Qb=R*Ab+Q*zb-O*Bb;Rb=R*Bb+O*Ab-P*zb;Sb=-O*zb-P*Ab-Q*Bb;c[0]=Pb*R+Sb*-O+Qb*-Q-Rb*-P;c[1]=Qb*R+Sb*-P+Rb*-O-Pb*-Q;c[2]=Rb*R+Sb*-Q+Pb*-P-Qb*-O;c[3]=a[3];return c}});let V,W,X,ba,xa,ya,za,T,Aa=0,Ha=0,jc=0,Xa=0,Xb=0,qb=0,rb=0,Wa=new Float32Array(3);const Ec=
(a,b,c=new Float32Array(4))=>{b*=.5;Aa=Math.sin(b);c[0]=Aa*a[0];c[1]=Aa*a[1];c[2]=Aa*a[2];c[3]=Math.cos(b);return c};var kd=Object.freeze({__proto__:null,angleTo:(a,b)=>{Xa=ic(a,b);return Math.acos(2*Xa*Xa-1)},conjugate:(a,b=new Float32Array(4))=>{b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b},create:(a=0,b=0,c=0,d=1,e=new Float32Array(4))=>{e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},dot:ic,fromAxisAngle:Ec,fromMatrix3:function(a,b){var c=a[0]+a[4]+a[8];if(0<c)c=Math.sqrt(c+1),b[3]=.5*c,c=.5/c,b[0]=
(a[5]-a[7])*c,b[1]=(a[6]-a[2])*c,b[2]=(a[1]-a[3])*c;else{let d=0;a[4]>a[0]&&(d=1);a[8]>a[3*d+d]&&(d=2);let e=(d+1)%3,k=(d+2)%3;c=Math.sqrt(a[3*d+d]-a[3*e+e]-a[3*k+k]+1);b[d]=.5*c;c=.5/c;b[3]=(a[3*e+k]-a[3*k+e])*c;b[e]=(a[3*e+d]+a[3*d+e])*c;b[k]=(a[3*k+d]+a[3*d+k])*c}return b},identity:(a=new Float32Array(4))=>{a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a},invert:(a,b=new Float32Array(4))=>{V=a[0];W=a[1];X=a[2];ba=a[3];(Xa=V*V+W*W+X*X+ba*ba)?(Ha=1/Xa,b[0]=-V*Ha,b[1]=-W*Ha,b[2]=-X*Ha,b[3]=ba*Ha):(b[0]=0,b[1]=
0,b[2]=0,b[3]=0);return b},lerp:Cc,multiply:(a,b,c)=>{V=a[0];W=a[1];X=a[2];ba=a[3];xa=b[0];ya=b[1];za=b[2];T=b[3];c[0]=V*T+ba*xa+W*za-X*ya;c[1]=W*T+ba*ya+X*xa-V*za;c[2]=X*T+ba*za+V*ya-W*xa;c[3]=ba*T-V*xa-W*ya-X*za;return c},random:a=>{V=Math.random();W=Math.random();X=Math.random();Ha=Math.sqrt(1-V);Aa=Math.sqrt(V);a[0]=Ha*Math.sin(2*Math.PI*W);a[1]=Ha*Math.cos(2*Math.PI*W);a[2]=Aa*Math.sin(2*Math.PI*X);a[3]=Aa*Math.cos(2*Math.PI*X);return a},rotationTo:(a,b,c)=>{Xa=Nb(a,b);if(-.999999>Xa)return xb(Bc,
a,Wa),1E-6>Math.sqrt(Ob(Wa))&&xb(Ac,a,Wa),yb(Wa,Wa),Ec(Wa,Math.PI,c),c;if(.999999<Xa)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;xb(Wa,a,b);c[0]=Wa[0];c[1]=Wa[1];c[2]=Wa[2];c[3]=1+Xa;return Dc(c,c)},rotateX:(a,b,c)=>{b*=.5;V=a[0];W=a[1];X=a[2];ba=a[3];xa=Math.sin(b);T=Math.cos(b);c[0]=V*T+ba*xa;c[1]=W*T+X*xa;c[2]=X*T-W*xa;c[3]=ba*T-V*xa;return c},rotateY:(a,b,c)=>{b*=.5;V=a[0];W=a[1];X=a[2];ba=a[3];ya=Math.sin(b);T=Math.cos(b);c[0]=V*T-X*ya;c[1]=W*T+ba*ya;c[2]=X*T+V*ya;c[3]=ba*T-W*ya;return c},rotateZ:(a,
b,c)=>{b*=.5;V=a[0];W=a[1];X=a[2];ba=a[3];za=Math.sin(b);T=Math.cos(b);c[0]=V*T+W*za;c[1]=W*T-V*za;c[2]=X*T+ba*za;c[3]=ba*T-X*za;return c},slerp:(a,b,c,d)=>{V=a[0];W=a[1];X=a[2];ba=a[3];xa=b[0];ya=b[1];za=b[2];T=b[3];Ha=V*xa+W*ya+X*za+ba*T;0>Ha&&(Ha=-Ha,xa=-xa,ya=-ya,za=-za,T=-T);1-Ha>La?(Xb=Math.acos(Ha),Aa=Math.sin(Xb),qb=Math.sin((1-c)*Xb)/Aa,rb=Math.sin(c*Xb)/Aa):(qb=1-c,rb=c);d[0]=qb*V+rb*xa;d[1]=qb*W+rb*ya;d[2]=qb*X+rb*za;d[3]=qb*ba+rb*T;return d},toAxisAngle:(a,b=new Float32Array(3))=>{jc=
2*Math.acos(a[3]);Aa=Math.sin(jc/2);Aa>La?(b[0]=a[0]/Aa,b[1]=a[1]/Aa,b[2]=a[2]/Aa):(b[0]=1,b[1]=0,b[2]=0);return jc},toString:a=>`quat("${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`});let Ia=0,Ua=0,kc=0,lc=0;const sb=(a,b,c=new Float32Array(2))=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},Fc=a=>Math.atan2(a[1],a[0]),Ya=(a=0,b=0,c=new Float32Array(2))=>{c[0]=a;c[1]=b;return c},Gc=(a,b)=>{Ia=b[0]-a[0];Ua=b[1]-a[1];return Math.hypot(Ia,Ua)},Hc=(a,b)=>Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1]),Ic=(a,b,c=new Float32Array(2))=>
Yb(a,1/b,c),mc=(a,b)=>a[0]===b[0]&&a[1]===b[1],nc=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),Cb=(a,b,c=new Float32Array(2))=>{c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);return c},Db=(a,b,c=new Float32Array(2))=>{c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);return c},Jc=(a,b,c=new Float32Array(2))=>{c[0]=a[0]-b[0];c[1]=a[1]-b[0];return c},Yb=(a,b,c=new Float32Array(2))=>{c[0]=a[0]*b;c[1]=a[1]*b;return c},Kc=(a,b=new Float32Array(2))=>Ic(a,nc(a)||1,b),Lc=new Float32Array([0,0]),ld=new Float32Array([0,
1]),md=new Float32Array([0,-1]),nd=new Float32Array([-1,0]),od=new Float32Array([1,0]);var pd=Object.freeze({__proto__:null,add:sb,addScalar:(a,b,c=new Float32Array(2))=>{c[0]=a[0]+b;c[1]=a[1]+b;return c},angle:Fc,ceil:(a,b=new Float32Array(2))=>{b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);return b},clamp:(a,b,c,d=new Float32Array(2))=>{d[0]=ia(a[0],b[0],c[0]);d[1]=ia(a[1],b[1],c[1]);return d},clampSafe:(a,b,c,d=new Float32Array(2))=>{d[0]=Za(a[0],b[0],c[0]);d[1]=Za(a[1],b[1],c[1]);return d},clampLength:(a,
b,c,d=new Float32Array(2))=>{d[0]=Za(a[0],b[0],c[0]);d[1]=Za(a[1],b[1],c[1]);return d},clampScalar:(a,b,c,d=new Float32Array(2))=>{d[0]=ia(a[0],b,c);d[1]=ia(a[1],b,c);return d},closeTo:(a,b,c=La)=>Gc(a,b)<=c,closeToRect:(a,b,c=La)=>Ba(a[0],b[0],c)&&Ba(a[1],b[1],c),closeToManhattan:(a,b,c=La)=>Hc(a,b)<=c,clone:(a,b=new Float32Array(2))=>{b[0]=a[0];b[1]=a[1];return b},cross:(a,b)=>a[0]*b[1]-a[1]*b[0],create:Ya,distanceTo:Gc,distanceToManhattan:Hc,distanceToSquared:(a,b)=>{Ia=a[0]-b[0];Ua=a[1]-b[1];
return Ia*Ia+Ua*Ua},divide:(a,b,c=new Float32Array(2))=>{c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c},divideScalar:Ic,dot:(a,b)=>a[0]*b[0]+a[1]*b[1],equals:mc,floor:(a,b=new Float32Array(2))=>{b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);return b},floorToZero:(a,b=new Float32Array(2))=>{b[0]=Fb(a[0]);b[1]=Fb(a[1]);return b},from:(a,b=new Float32Array(2))=>{b[0]=a[0];b[1]=a[1];return b},fromArray:(a,b=0,c=new Float32Array(2))=>{c[0]=a[b];c[1]=a[b+1];return c},fromJson:(a,b=new Float32Array(2))=>{b[0]=a.x;
b[1]=a.y;return b},fromPolar:(a,b=new Float32Array(2))=>{b[0]=Math.cos(a.a)*a.r;b[1]=Math.sin(a.a)*a.r;return b},fromScalar:(a=0,b=new Float32Array(2))=>{b[0]=b[1]=a;return b},inverse:(a,b=new Float32Array(2))=>{b[0]=1/a[0]||0;b[1]=1/a[1]||0;return b},length:nc,lengthManhattan:a=>Math.abs(a[0])+Math.abs(a[1]),lengthSquared:a=>a[0]*a[0]+a[1]*a[1],lerp:(a,b,c,d=new Float32Array(2))=>{d[0]=(b[0]-a[0])*c+a[0];d[1]=(b[1]-a[1])*c+a[1];return d},max:Cb,min:Db,minus:Jc,minusScalar:(a,b,c=new Float32Array(2))=>
{c[0]=a[0]-b;c[1]=a[1]-b;return c},multiply:(a,b,c=new Float32Array(2))=>{c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c},multiplyScalar:Yb,negate:(a,b=new Float32Array(2))=>{b[0]=-a[0];b[1]=-a[1];return b},normalize:Kc,random:(a=1,b=new Float32Array(2))=>{Ia=Math.random()*ib;b[0]=Math.cos(Ia)*a;b[1]=Math.sin(Ia)*a;return b},rotate:(a,b,c=Lc,d=new Float32Array(2))=>{kc=Math.cos(b);lc=Math.sin(b);Ia=a[0]-c[0];Ua=a[1]-c[1];d[0]=Ia*kc-Ua*lc+c[0];d[1]=Ia*lc+Ua*kc+c[1];return d},round:(a,b=new Float32Array(2))=>
{b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);return b},set:(a=0,b=0,c=new Float32Array(2))=>{c[0]=a;c[1]=b;return c},setLength:(a,b,c=new Float32Array(2))=>{Kc(a,c);Yb(c,b,c);return c},toArray:(a,b=[])=>{b[0]=a[0];b[1]=a[1];return b},toPalorJson:(a,b={a:0,r:0})=>{b.r=nc(a);b.a=Fc(a);return b},toString:a=>`vec2(${a[0]}, ${a[1]})`,transformMatrix3:(a,b,c)=>{Ia=a[0];Ua=a[1];c[0]=b[0]*Ia+b[3]*Ua+b[6];c[1]=b[1]*Ia+b[4]*Ua+b[7];return c},VECTOR2_ZERO:Lc,VECTOR2_TOP:ld,VECTOR2_BOTTOM:md,VECTOR2_LEFT:nd,
VECTOR2_RIGHT:od});class Eb{constructor(a=Ya(),b=Ya(1,1)){this.min=Ya();this.max=Ya();Db(a,b,this.min);Cb(a,b,this.max)}}var qd=Object.freeze({__proto__:null,"default":Eb,area:a=>(a.max[0]-a.min[0])*(a.max[1]-a.min[1]),containsPoint:(a,b)=>b[0]>=a.min[0]&&b[0]<=a.max[0]&&b[1]>=a.min[1]&&b[1]<=a.max[1],containsRectangle:(a,b)=>a.min[0]<=b.min[0]&&b.max[0]<=a.max[0]&&a.min[1]<=b.min[1]&&b.max[1]<=a.max[1],create:(a=Ya(),b=Ya(1,1))=>({max:Cb(a,b),min:Db(a,b)}),equals:(a,b)=>mc(a.min,b.min)&&mc(a.max,
b.max),getCenter:(a,b=Ya())=>{sb(a.min,a.max,b);return Yb(b,.5,b)},getSize:(a,b=Ya())=>Jc(a.max,a.min,b),height:a=>a.max[1]-a.min[1],intersect:(a,b,c=new Eb)=>{Cb(a.min,b.min,c.min);Db(a.max,b.max,c.max);return c},stretch:(a,b,c,d=new Eb)=>{sb(a.min,b,d.min);sb(a.max,c,d.max);return d},translate:(a,b,c=new Eb)=>{sb(a.min,b,c.min);sb(a.max,b,c.max);return c},union:(a,b,c=new Eb)=>{Db(a.min,b.min,c.min);Cb(a.max,b.max,c.max);return c},width:a=>a.max[0]-a.min[0]});const Mc=[-1,-1,0],Nc=[1,-1,0],Oc=[0,
1,0],Pc=new Float32Array(3),Qc=new Float32Array(3);class rd{constructor(a=new Float32Array(Mc),b=new Float32Array(Nc),c=new Float32Array(Oc)){this.a=a;this.b=b;this.c=c}}var sd=Object.freeze({__proto__:null,"default":rd,area:a=>{const b=hb(a.a,a.b),c=hb(a.b,a.c);a=hb(a.c,a.a);const d=(b+c+a)/2;return Math.sqrt(d*(d-c)*(d-a)*(d-b))},create:(a=new Float32Array(Mc),b=new Float32Array(Nc),c=new Float32Array(Oc))=>({a,b,c}),getABLength:a=>hb(a.a,a.b),getBCLength:a=>hb(a.b,a.c),getCALength:a=>hb(a.c,a.a),
normal:(a,b=xc())=>{bc(a.c,a.b,Qc);bc(a.b,a.a,Pc);xb(Pc,Qc,b);return yb(b)},toFloat32Array:(a,b=new Float32Array(3))=>{b.set(a.a,0);b.set(a.b,3);b.set(a.c,6);return yb(b)}});p.COLOR_HEX_MAP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p.ColorGPU=Uc;p.ColorRGB=Tc;p.ColorRGBA=Sc;p.Constants=Rc;p.Easing=Vc;p.Euler=Wc;p.Matrix2=Yc;p.Matrix3=$c;p.Matrix4=bd;p.Quaternion=kd;p.Rectangle2=qd;p.Triangle3=sd;p.Vector2=
pd;p.Vector3=id;p.Vector4=jd;p.ceilPowerOfTwo=a=>Math.pow(2,Math.ceil(Math.log(a)/Math.LN2));p.clamp=ia;p.clampCircle=(a,b,c)=>{jb=c-b;kb=Fb(b/jb)*jb+a%jb;return kb<b?kb+jb:kb>c?kb-jb:kb};p.clampSafe=Za;p.closeTo=Ba;p.floorPowerOfTwo=a=>Math.pow(2,Math.floor(Math.log(a)/Math.LN2));p.floorToZero=Fb;p.isPowerOfTwo=a=>0===(a&a-1)&&0!==a;p.lerp=(a,b,c)=>(b-a)*c+a;p.mapRange=(a,b,c)=>{Zb=b[1]-b[0];oc=c[1]-c[0];return(a-.5*Zb)/oc/Zb};p.randFloat=(a=0,b=1)=>a+Math.random()*(b-a);p.randInt=(a=0,b=1)=>a+Math.floor(Math.random()*
(b-a+1));p.rndFloat=(a,b)=>a+Math.random()*(b-a);p.rndFloatRange=a=>a*(.5-Math.random());p.rndInt=(a,b)=>a+Math.floor(Math.random()*(b-a+1));p.sum=(...a)=>qc(a);p.sumArray=qc;Object.defineProperty(p,"__esModule",{value:!0})});

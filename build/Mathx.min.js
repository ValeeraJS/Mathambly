(function(l,sb){"object"===typeof exports&&"undefined"!==typeof module?sb(exports):"function"===typeof define&&define.amd?define(["exports"],sb):(l="undefined"!==typeof globalThis?globalThis:l||self,sb(l.Mathx={}))})(this,function(l){function sb(a,b,c,d,g){Vb=0;for(Gc=a.length-3;Vb<=Gc;Vb+=3)if(e.fromArray(a,Vb,tb),Hc=g[0]*Math.abs(tb[0])+g[1]*Math.abs(tb[1])+g[2]*Math.abs(tb[2]),nc=e.dot(b,tb),oc=e.dot(c,tb),pc=e.dot(d,tb),Math.max(-Math.max(nc,oc,pc),Math.min(nc,oc,pc))>Hc)return!1;return!0}const Ic=
2*Math.PI,Wa=Math.pow(2,-52);var Sc=Object.freeze({__proto__:null,DEG_TO_RAD:Math.PI/180,DEG_360_RAD:Ic,DEG_90_RAD:Math.PI/2,DEG_60_RAD:Math.PI/3,DEG_45_RAD:Math.PI/4,DEG_30_RAD:Math.PI/6,EPSILON:Wa,RAD_TO_DEG:180/Math.PI});const ub={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,
coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,
dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,
lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,
midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,
salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};class ia extends Uint8Array{constructor(a=0,b=0,c=0,d=1){super(4);this[0]=a;this[1]=b;this[2]=c;this[3]=
d}get r(){return this[0]}set r(a){this[0]=a}get g(){return this[1]}set g(a){this[1]=a}get b(){return this[2]}set b(a){this[2]=a}get a(){return this[4]}set a(a){this[4]=a}}ia.average=a=>(a[0]+a[1]+a[2])/3;ia.averageWeighted=(a,b=.299,c=.587,d=.114)=>a[0]*b+a[1]*c+a[2]*d;ia.clone=a=>new ia(a[0],a[1],a[2],a[3]);ia.create=(a=0,b=0,c=0,d=1)=>new ia(a,b,c,d);ia.equals=(a,b)=>(a.r??a[0])===(b.r??b[0])&&(a.g??a[1])===(b.g??b[1])&&(a.b??a[2])===(b.b??b[2])&&(a.a??a[3])===(b.a??b[3]);ia.fromArray=(a,b=new ia)=>
{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};ia.fromHex=(a,b=255,c=new ia)=>{c[0]=a>>16;c[1]=a>>8&255;c[2]=a&255;c[3]=b;return c};ia.fromJson=(a,b=new ia)=>{b[0]=a.r;b[1]=a.g;b[2]=a.b;b[3]=a.a;return b};ia.fromScalar=(a,b=255,c=new ia)=>{c[0]=a;c[1]=a;c[2]=a;c[3]=b;return c};ia.fromString=(a,b=new ia)=>{if(a in ub)return ia.fromHex(ub[a],255,b);if(a.startsWith("#"))return a=a.substr(1),ia.fromScalar(parseInt(a,16),255,b);a.startsWith("rgba(")&&(a=a.substring(4,a.length-1),a=a.split(","),b[0]=
parseInt(a[0],10),b[1]=parseInt(a[1],10),b[2]=parseInt(a[2],10),b[3]=parseInt(a[3],10));return b};ia.grayscale=(a,b=.299,c=.587,d=.114,g=new ia)=>{b=ia.averageWeighted(a,b,c,d);ia.fromScalar(b,a[3],g);return g};class ja extends Uint8Array{constructor(a=0,b=0,c=0){super(3);this[0]=a;this[1]=b;this[2]=c}get r(){return this[0]}set r(a){this[0]=a}get g(){return this[1]}set g(a){this[1]=a}get b(){return this[2]}set b(a){this[2]=a}}ja.average=a=>(a[0]+a[1]+a[2])/3;ja.averageWeighted=(a,b=.299,c=.587,d=
.114)=>a[0]*b+a[1]*c+a[2]*d;ja.clone=a=>new ja(a[0],a[1],a[2]);ja.create=(a=0,b=0,c=0)=>new ja(a,b,c);ja.equals=(a,b)=>(a.r??a[0])===(b.r??b[0])&&(a.g??a[1])===(b.g??b[1])&&(a.b??a[2])===(b.b??b[2]);ja.fromArray=(a,b=new ja)=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};ja.fromHex=(a,b=new ja)=>{b[0]=a>>16;b[1]=a>>8&255;b[2]=a&255;return b};ja.fromJson=(a,b=new ja)=>{b[0]=a.r;b[1]=a.g;b[2]=a.b;return b};ja.fromScalar=(a,b=new ja)=>{b[0]=a;b[1]=a;b[2]=a;return b};ja.fromString=(a,b=new ja)=>{if(a in ub)return ja.fromHex(ub[a],
b);if(a.startsWith("#"))return a=a.substr(1),ja.fromScalar(parseInt(a,16),b);a.startsWith("rgb(")&&(a=a.substring(4,a.length-1),a=a.split(","),b[0]=parseInt(a[0],10),b[1]=parseInt(a[1],10),b[2]=parseInt(a[2],10));return b};ja.grayscale=(a,b=.299,c=.587,d=.114,g=new ja)=>{a=ja.averageWeighted(a,b,c,d);ja.fromScalar(a,g);return g};class ea extends Float32Array{constructor(a=0,b=0,c=0,d=0){super(4);this[0]=a;this[1]=b;this[2]=c;this[3]=d}static fromColorRGB(a,b=new ea){b[0]=a[0]/255;b[1]=a[1]/255;b[2]=
a[2]/255;b[3]=1;return b}static fromColorRGBA(a,b=new ea){b[0]=a[0]/255;b[1]=a[1]/255;b[2]=a[2]/255;b[3]=a[3]/255;return b}get r(){return this[0]}set r(a){this[0]=a}get g(){return this[1]}set g(a){this[1]=a}get b(){return this[2]}set b(a){this[2]=a}get a(){return this[3]}set a(a){this[3]=a}}ea.average=a=>(a[0]+a[1]+a[2])/3;ea.averageWeighted=(a,b=.299,c=.587,d=.114)=>a[0]*b+a[1]*c+a[2]*d;ea.clone=a=>new ea(a[0],a[1],a[2],a[3]);ea.create=(a=0,b=0,c=0,d=0)=>new ea(a,b,c,d);ea.equals=(a,b)=>(a.r??a[0])===
(b.r??b[0])&&(a.g??a[1])===(b.g??b[1])&&(a.b??a[2])===(b.b??b[2])&&(a.a??a[3])===(b.a??b[3]);ea.fromArray=(a,b=new ea)=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};ea.fromHex=(a,b=1,c=new ea)=>{c[0]=(a>>16)/255;c[1]=(a>>8&255)/255;c[2]=(a&255)/255;c[3]=b;return c};ea.fromJson=(a,b=new ea)=>{b[0]=a.r;b[1]=a.g;b[2]=a.b;b[3]=a.a;return b};ea.fromScalar=(a,b=new ea)=>{b[0]=a;b[1]=a;b[2]=a;return b};ea.fromString=(a,b=new ea)=>{if(a in ub)return ea.fromHex(ub[a],1,b);if(a.startsWith("#"))return a=
a.substr(1),ea.fromHex(parseInt(a,16),1,b);a.startsWith("rgb(")&&(a=a.substring(4,a.length-1),a=a.split(","),b[0]=parseInt(a[0],10)/255,b[1]=parseInt(a[1],10)/255,b[2]=parseInt(a[2],10)/255);return b};ea.grayscale=(a,b=.299,c=.587,d=.114,g=new ea)=>{a=ea.averageWeighted(a,b,c,d);ea.fromScalar(a,g);return g};var ta=(a,b,c)=>Math.max(b,Math.min(c,a)),Wb=a=>0>a?Math.ceil(a):Math.floor(a);let Ab,Bb;var kb=(a,b,c)=>b>c?Math.max(c,Math.min(b,a)):c>b?Math.max(b,Math.min(c,a)):b,Aa=(a,b,c=Wa)=>Math.abs(a-
b)<=c;let qc=0,Jc=0,Kc=0,rc=0;var Lc=a=>{rc=0;Kc=a.length;for(let b=0;b<Kc;b++)rc+=a[b];return rc},Xb=a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,Tc=Object.freeze({__proto__:null,BackIn:a=>1===a?1:a*a*(2.70158*a-1.70158),BackOut:a=>0===a?0:--a*a*(2.70158*a+1.70158)+1,BackInOut:a=>{if(1>(a*=2))return.5*a*a*(3.5949095*a-2.5949095);a-=2;return.5*(a*a*(3.5949095*a+2.5949095)+2)},BounceIn:a=>1-Xb(1-a),BounceInOut:a=>
.5>a?.5*(1-Xb(1-2*a)):.5*Xb(2*a-1)+.5,BounceOut:Xb,CircularIn:a=>1-Math.sqrt(1-a*a),CircularInOut:a=>{if(1>(a*=2))return-.5*(Math.sqrt(1-a*a)-1);a-=2;return.5*(Math.sqrt(1-a*a)+1)},CircularOut:a=>Math.sqrt(1- --a*a),CubicIn:a=>a*a*a,CubicInOut:a=>{if(1>(a*=2))return.5*a*a*a;a-=2;return.5*(a*a*a+2)},CubicOut:a=>--a*a*a+1,ElasticIn:a=>0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*Math.PI),ElasticInOut:a=>{if(0===a||1===a)return a;a*=2;return 1>a?-.5*Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*
Math.PI):.5*Math.pow(2,-10*(a-1))*Math.sin(5*(a-1.1)*Math.PI)+1},ElasticOut:a=>0===a||1===a?a:Math.pow(2,-10*a)*Math.sin(5*(a-.1)*Math.PI)+1,ExponentialIn:a=>0===a?0:Math.pow(1024,a-1),ExponentialInOut:a=>0===a||1===a?a:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2),ExponentialOut:a=>1===a?1:1-Math.pow(2,-10*a),Linear:a=>a,QuadraticIn:a=>a*a,QuadraticInOut:a=>1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1),QuadraticOut:a=>a*(2-a),QuarticIn:a=>a*a*a*a,QuarticInOut:a=>{if(1>(a*=2))return.5*a*a*a*a;
a-=2;return-.5*(a*a*a*a-2)},QuarticOut:a=>1- --a*a*a*a,QuinticIn:a=>a*a*a*a*a,QuinticInOut:a=>{if(1>(a*=2))return.5*a*a*a*a*a;a-=2;return.5*(a*a*a*a*a+2)},QuinticOut:a=>--a*a*a*a*a+1,SinusoidalIn:a=>1-Math.sin((1-a)*Math.PI/2),SinusoidalInOut:a=>.5*(1-Math.sin(Math.PI*(.5-a))),SinusoidalOut:a=>Math.sin(a*Math.PI/2)});l.EulerRotationOrders=void 0;(function(a){a.XYZ="xyz";a.ZXY="zxy";a.YZX="yzx";a.XZY="xzy";a.ZYX="zyx";a.YXZ="yxz"})(l.EulerRotationOrders||(l.EulerRotationOrders={}));class Nb extends Float32Array{constructor(a=
0,b=0,c=0,d=l.EulerRotationOrders.XYZ){super(3);this[0]=a;this[1]=b;this[2]=c;this.order=d}static clone(a){return new Nb(a.x,a.y,a.z,a.order)}static create(a=0,b=0,c=0,d=l.EulerRotationOrders.XYZ){return new Nb(a,b,c,d)}static fromMatrix4(a,b=new Nb){const c=a[0],d=a[4],g=a[8],q=a[1],k=a[5],W=a[9],y=a[2],z=a[6];a=a[10];switch(b.order){case l.EulerRotationOrders.XYZ:b.y=Math.asin(ta(g,-1,1));.9999999>Math.abs(g)?(b.x=Math.atan2(-W,a),b.z=Math.atan2(-d,c)):(b.x=Math.atan2(z,k),b.z=0);break;case l.EulerRotationOrders.YXZ:b.x=
Math.asin(-ta(W,-1,1));.9999999>Math.abs(W)?(b.y=Math.atan2(g,a),b.z=Math.atan2(q,k)):(b.y=Math.atan2(-y,c),b.z=0);break;case l.EulerRotationOrders.ZXY:b.x=Math.asin(ta(z,-1,1));.9999999>Math.abs(z)?(b.y=Math.atan2(-y,a),b.z=Math.atan2(-d,k)):(b.y=0,b.z=Math.atan2(q,c));break;case l.EulerRotationOrders.ZYX:b.y=Math.asin(-ta(y,-1,1));.9999999>Math.abs(y)?(b.x=Math.atan2(z,a),b.z=Math.atan2(q,c)):(b.x=0,b.z=Math.atan2(-d,k));break;case l.EulerRotationOrders.YZX:b.z=Math.asin(ta(q,-1,1));.9999999>Math.abs(q)?
(b.x=Math.atan2(-W,k),b.y=Math.atan2(-y,c)):(b.x=0,b.y=Math.atan2(g,a));break;case l.EulerRotationOrders.XZY:b.z=Math.asin(-ta(d,-1,1)),.9999999>Math.abs(d)?(b.x=Math.atan2(z,k),b.y=Math.atan2(g,c)):(b.x=Math.atan2(-W,a),b.y=0)}return b}get x(){return this[0]}set x(a){this[0]=a}get y(){return this[1]}set y(a){this[1]=a}get z(){return this[2]}set z(a){this[2]=a}}Nb.ORDERS=l.EulerRotationOrders;let Na=0,Oa=0,Xa=0,Ya=0,Ob=0,Pb=0,Qb=0,Rb=0,lb=0,ab=0,bb=0;const sc=[1,0,0,1];class x extends Float32Array{constructor(a=
sc){super(a)}}x.UNIT_MATRIX2=new x(sc);x.add=(a,b,c)=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};x.adjoint=(a,b)=>{Na=a[0];b[0]=a[3];b[1]=-a[1];b[2]=-a[2];b[3]=Na;return b};x.clone=a=>new x(a);x.closeTo=(a,b)=>{Na=a[0];Xa=a[1];Oa=a[2];Ya=a[3];Ob=b[0];Qb=b[1];Pb=b[2];Rb=b[3];return Aa(Na,Ob)&&Aa(Oa,Pb)&&Aa(Xa,Qb)&&Aa(Ya,Rb)};x.create=(a=sc)=>new x(a);x.determinant=a=>a[0]*a[3]-a[1]*a[2];x.equals=(a,b)=>a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3];x.frobNorm=a=>Math.hypot(a[0],
a[1],a[2],a[3]);x.fromArray=(a,b=new x)=>{b.set(a);return b};x.fromRotation=(a,b=new x)=>{bb=Math.sin(a);ab=Math.cos(a);b[0]=ab;b[1]=bb;b[2]=-bb;b[3]=ab;return b};x.fromScaling=(a,b=new x)=>{b[0]=a[0];b[1]=0;b[2]=0;b[3]=a[1];return b};x.identity=(a=new x)=>{a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a};x.invert=(a,b=new x)=>{Na=a[0];Xa=a[1];Oa=a[2];Ya=a[3];lb=x.determinant(a);if(!lb)return null;lb=1/lb;b[0]=Ya*lb;b[1]=-Xa*lb;b[2]=-Oa*lb;b[3]=Na*lb;return b};x.minus=(a,b,c=new x)=>{c[0]=a[0]-b[0];c[1]=a[1]-
b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c};x.multiply=(a,b,c=new x)=>{Na=a[0];Xa=a[1];Oa=a[2];Ya=a[3];Ob=b[0];Qb=b[1];Pb=b[2];Rb=b[3];c[0]=Na*Ob+Oa*Qb;c[1]=Xa*Ob+Ya*Qb;c[2]=Na*Pb+Oa*Rb;c[3]=Xa*Pb+Ya*Rb;return c};x.multiplyScalar=(a,b,c=new x)=>{c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};x.rotate=(a,b,c=new x)=>{Na=a[0];Xa=a[1];Oa=a[2];Ya=a[3];bb=Math.sin(b);ab=Math.cos(b);c[0]=Na*ab+Oa*bb;c[1]=Xa*ab+Ya*bb;c[2]=Na*-bb+Oa*ab;c[3]=Xa*-bb+Ya*ab;return c};x.scale=(a,b,c=new x)=>{Na=a[0];
Xa=a[1];Oa=a[2];Ya=a[3];ab=b[0];bb=b[1];c[0]=Na*ab;c[1]=Xa*ab;c[2]=Oa*bb;c[3]=Ya*bb;return c};x.toString=a=>`mat2(${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`;x.transpose=(a,b=new x)=>{b===a?(Oa=a[1],b[1]=a[2],b[2]=Oa):(b[0]=a[0],b[1]=a[2],b[2]=a[1],b[3]=a[3]);return b};let ua=0,oa=0,pa=0,va=0,wa=0,qa=0,Ca=0,Da=0,Ea=0,Yb=0,vb=0,Zb=0,wb=0,$b=0,ac=0,bc=0,xb=0,cc=0,xa=0,ya=0;const tc=[1,0,0,0,1,0,0,0,1];class r extends Float32Array{constructor(a=tc){super(a)}}r.UNIT_MATRIX3=new r(tc);r.clone=a=>new r(a);r.cofactor00=
a=>a[4]*a[8]-a[5]*a[7];r.cofactor01=a=>a[1]*a[8]-a[7]*a[2];r.cofactor02=a=>a[1]*a[5]-a[4]*a[2];r.cofactor10=a=>a[3]*a[8]-a[6]*a[5];r.cofactor11=a=>a[0]*a[8]-a[6]*a[2];r.cofactor12=a=>a[0]*a[5]-a[3]*a[2];r.cofactor20=a=>a[3]*a[7]-a[6]*a[4];r.cofactor21=a=>a[0]*a[7]-a[6]*a[1];r.cofactor22=a=>a[0]*a[4]-a[3]*a[1];r.create=()=>new r(tc);r.determinant=a=>{ua=a[0];oa=a[1];pa=a[2];wa=a[3];va=a[4];qa=a[5];Ca=a[6];Da=a[7];Ea=a[8];return ua*(Ea*va-qa*Da)+oa*(-Ea*wa+qa*Ca)+pa*(Da*wa-va*Ca)};r.fromArray=(a,b=
new r)=>{b.set(a);return b};r.fromMatrix4=(a,b=new r)=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b};r.fromRotation=(a,b=new r)=>{ya=Math.sin(a);xa=Math.cos(a);b[0]=xa;b[1]=ya;b[2]=0;b[3]=-ya;b[4]=xa;b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b};r.fromScaling=(a,b=new r)=>{b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=a[1];b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b};r.fromTranslation=(a,b=new r)=>{b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=1;b[5]=0;b[6]=a[0];b[7]=a[1];b[8]=1;
return b};r.identity=(a=new r)=>{a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};r.invert=(a,b=new r)=>{ua=a[0];oa=a[1];pa=a[2];wa=a[3];va=a[4];qa=a[5];Ca=a[6];Da=a[7];Ea=a[8];vb=Ea*va-qa*Da;wb=-Ea*wa+qa*Ca;xb=Da*wa-va*Ca;a=ua*vb+oa*wb+pa*xb;if(!a)return null;a=1/a;b[0]=vb*a;b[1]=(-Ea*oa+pa*Da)*a;b[2]=(qa*oa-pa*va)*a;b[3]=wb*a;b[4]=(Ea*ua-pa*Ca)*a;b[5]=(-qa*ua+pa*wa)*a;b[6]=xb*a;b[7]=(-Da*ua+oa*Ca)*a;b[8]=(va*ua-oa*wa)*a;return b};r.multiply=()=>(a,b,c=new r)=>{ua=a[0];oa=
a[1];pa=a[2];wa=a[3];va=a[4];qa=a[5];Ca=a[6];Da=a[7];Ea=a[8];Yb=b[0];vb=b[1];Zb=b[2];$b=b[3];wb=b[4];ac=b[5];bc=b[6];xb=b[7];cc=b[8];c[0]=Yb*ua+vb*wa+Zb*Ca;c[1]=Yb*oa+vb*va+Zb*Da;c[2]=Yb*pa+vb*qa+Zb*Ea;c[3]=$b*ua+wb*wa+ac*Ca;c[4]=$b*oa+wb*va+ac*Da;c[5]=$b*pa+wb*qa+ac*Ea;c[6]=bc*ua+xb*wa+cc*Ca;c[7]=bc*oa+xb*va+cc*Da;c[8]=bc*pa+xb*qa+cc*Ea;return c};r.rotate=(a,b,c=new r)=>{ua=a[0];oa=a[1];pa=a[2];wa=a[3];va=a[4];qa=a[5];Ca=a[6];Da=a[7];Ea=a[8];ya=Math.sin(b);xa=Math.cos(b);c[0]=xa*ua+ya*wa;c[1]=xa*
oa+ya*va;c[2]=xa*pa+ya*qa;c[3]=ya*wa-xa*ua;c[4]=ya*va-xa*oa;c[5]=ya*qa-xa*pa;c[6]=Ca;c[7]=Da;c[8]=Ea;return c};r.scale=(a,b,c=new r)=>{xa=b[0];ya=b[1];c[0]=xa*a[0];c[1]=xa*a[1];c[2]=xa*a[2];c[3]=ya*a[3];c[4]=ya*a[4];c[5]=ya*a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c};r.translate=(a,b,c=new r)=>{ua=a[0];oa=a[1];pa=a[2];wa=a[3];va=a[4];qa=a[5];Ca=a[6];Da=a[7];Ea=a[8];xa=b[0];ya=b[1];c[0]=ua;c[1]=oa;c[2]=pa;c[3]=wa;c[4]=va;c[5]=qa;c[6]=xa*ua+ya*wa+Ca;c[7]=xa*oa+ya*va+Da;c[8]=xa*pa+ya*qa+Ea;return c};
r.transpose=(a,b=new r)=>{b===a?(oa=a[1],pa=a[2],qa=a[5],b[1]=a[3],b[2]=a[6],b[3]=oa,b[5]=a[7],b[6]=pa,b[7]=qa):(b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8]);return b};let D,X,Y,Fa,Za,$a,Pa,uc;class e extends Float32Array{constructor(a=0,b=0,c=0){super(3);this[0]=a;this[1]=b;this[2]=c}get x(){return this[0]}set x(a){this[0]=a}get y(){return this[1]}set y(a){this[1]=a}get z(){return this[2]}set z(a){this[2]=a}}e.VECTOR3_ZERO=new Float32Array([0,0,0]);e.VECTOR3_ONE=
new Float32Array([1,1,1]);e.VECTOR3_TOP=new Float32Array([0,1,0]);e.VECTOR3_BOTTOM=new Float32Array([0,-1,0]);e.VECTOR3_LEFT=new Float32Array([-1,0,0]);e.VECTOR3_RIGHT=new Float32Array([1,0,0]);e.VECTOR3_FRONT=new Float32Array([0,0,-1]);e.VECTOR3_BACK=new Float32Array([0,0,1]);e.add=(a,b,c=new e)=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c};e.addScalar=(a,b,c=new e)=>{c[0]=a[0]+b;c[1]=a[1]+b;c[2]=a[2]+b;return c};e.angle=(a,b)=>{D=a[0];X=a[1];Y=a[2];Fa=b[0];Za=b[1];$a=b[2];const c=Math.sqrt(D*
D+X*X+Y*Y)*Math.sqrt(Fa*Fa+Za*Za+$a*$a);a=c&&e.dot(a,b)/c;return Math.acos(ta(a,-1,1))};e.clamp=(a,b,c,d=new e)=>{d[0]=ta(a[0],b[0],c[0]);d[1]=ta(a[1],b[1],c[1]);d[2]=ta(a[2],b[2],c[2]);return d};e.clampSafe=(a,b,c,d=new e)=>{d[0]=kb(a[0],b[0],c[0]);d[1]=kb(a[1],b[1],c[1]);d[1]=kb(a[2],b[2],c[2]);return d};e.clampScalar=(a,b,c,d=new e)=>{d[0]=ta(a[0],b,c);d[1]=ta(a[1],b,c);d[2]=ta(a[2],b,c);return d};e.clone=(a,b=new e)=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};e.closeTo=(a,b)=>Aa(a[0],b[0])&&Aa(a[1],
b[1])&&Aa(a[2],b[2]);e.create=(a=0,b=0,c=0,d=new e)=>{d[0]=a;d[1]=b;d[2]=c;return d};e.cross=(a,b,c=new e)=>{D=a[0];X=a[1];Y=a[2];Fa=b[0];Za=b[1];$a=b[2];c[0]=X*$a-Y*Za;c[1]=Y*Fa-D*$a;c[2]=D*Za-X*Fa;return c};e.distanceTo=(a,b)=>{D=b[0]-a[0];X=b[1]-a[1];Y=b[2]-a[2];return Math.hypot(D,X,Y)};e.distanceToManhattan=(a,b)=>Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2]);e.distanceToSquared=(a,b)=>{D=a[0]-b[0];X=a[1]-b[1];Y=a[2]-b[2];return D*D+X*X+Y*Y};e.divide=(a,b,c=new e)=>{c[0]=a[0]/b[0];
c[1]=a[1]/b[1];c[2]=a[2]/b[2];return c};e.divideScalar=(a,b,c=new e)=>{c[0]=a[0]/b;c[1]=a[1]/b;c[2]=a[2]/b;return c};e.dot=(a,b)=>a[0]*b[0]+a[1]*b[1]+a[2]*b[2];e.equals=(a,b)=>a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2];e.fromArray=(a,b=0,c=new e)=>{c[0]=a[b];c[1]=a[b+1];c[2]=a[b+2];return c};e.fromScalar=(a,b=new e(3))=>{b[0]=b[1]=b[2]=a;return b};e.fromValues=(a,b,c,d=new e(3))=>{d[0]=a;d[1]=b;d[2]=c;return d};e.hermite=(a,b,c,d,g,q=new e)=>{Pa=g*g;const k=Pa*(2*g-3)+1,W=Pa*(g-2)+g,y=Pa*(g-1);g=Pa*(3-
2*g);q[0]=a[0]*k+b[0]*W+c[0]*y+d[0]*g;q[1]=a[1]*k+b[1]*W+c[1]*y+d[1]*g;q[2]=a[2]*k+b[2]*W+c[2]*y+d[2]*g;return q};e.inverse=(a,b=new e)=>{b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];return b};e.norm=a=>Math.sqrt(e.lengthSquared(a));e.lengthManhattan=a=>Math.abs(a[0])+Math.abs(a[1])+Math.abs(a[2]);e.lengthSquared=a=>a[0]*a[0]+a[1]*a[1]+a[2]*a[2];e.lerp=(a,b,c,d=new e)=>{d[0]+=(b[0]-a[0])*c;d[1]+=(b[1]-a[1])*c;d[2]+=(b[2]-a[2])*c;return d};e.max=(a,b,c=new e)=>{c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);
c[2]=Math.max(a[2],b[2]);return c};e.min=(a,b,c=new e)=>{c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c};e.minus=(a,b,c=new e)=>{c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c};e.minusScalar=(a,b,c=new e)=>{c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]-b;return c};e.multiply=(a,b,c=new e)=>{c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c};e.multiplyScalar=(a,b,c=new e)=>{c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c};e.negate=(a,b=new e)=>{b[0]=-a[0];b[1]=-a[1];
b[2]=-a[2];return b};e.normalize=(a,b=new e)=>e.divideScalar(a,e.norm(a)||1,b);e.rotateX=(a,b,c,d=new e)=>{D=a[0]-b[0];X=a[1]-b[1];Y=a[2]-b[2];Fa=D;Za=X*Math.cos(c)-Y*Math.sin(c);$a=X*Math.sin(c)+Y*Math.cos(c);d[0]=Fa+b[0];d[1]=Za+b[1];d[2]=$a+b[2];return d};e.rotateY=(a,b,c,d=new e)=>{D=a[0]-b[0];X=a[1]-b[1];Y=a[2]-b[2];Fa=Y*Math.sin(c)+D*Math.cos(c);Za=X;$a=Y*Math.cos(c)-D*Math.sin(c);d[0]=Fa+b[0];d[1]=Za+b[1];d[2]=$a+b[2];return d};e.rotateZ=(a,b,c,d=new e)=>{D=a[0]-b[0];X=a[1]-b[1];Y=a[2]-b[2];
Fa=D*Math.cos(c)-X*Math.sin(c);Za=D*Math.sin(c)+X*Math.cos(c);$a=Y;d[0]=Fa+b[0];d[1]=Za+b[1];d[2]=$a+b[2];return d};e.round=(a,b=new e)=>{b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);return b};e.set=(a=0,b=0,c=0,d=new e)=>{d[0]=a;d[1]=b;d[2]=c;return d};e.setNorm=(a,b,c=new e)=>e.multiplyScalar(e.normalize(a,c),b,c);e.slerp=(a,b,c,d=new e)=>{Pa=Math.acos(Math.min(Math.max(e.dot(a,b),-1),1));uc=Math.sin(Pa);D=Math.sin((1-c)*Pa)/uc;Fa=Math.sin(c*Pa)/uc;d[0]=D*a[0]+Fa*b[0];d[1]=
D*a[1]+Fa*b[1];d[2]=D*a[2]+Fa*b[2];return d};e.toString=a=>`(${a[0]}, ${a[1]}, ${a[2]})`;e.transformMatrix3=(a,b,c=new e)=>{D=a[0];X=a[1];Y=a[2];c[0]=D*b[0]+X*b[3]+Y*b[6];c[1]=D*b[1]+X*b[4]+Y*b[7];c[2]=D*b[2]+X*b[5]+Y*b[8];return c};e.transformMatrix4=(a,b,c=new e)=>{D=a[0];X=a[1];Y=a[2];Pa=(Pa=b[3]*D+b[7]*X+b[11]*Y+b[15])||1;c[0]=(b[0]*D+b[4]*X+b[8]*Y+b[12])/Pa;c[1]=(b[1]*D+b[5]*X+b[9]*Y+b[13])/Pa;c[2]=(b[2]*D+b[6]*X+b[10]*Y+b[14])/Pa;return c};e.transformQuat=(a,b,c=new e)=>{const d=b[0],g=b[1],
q=b[2],k=a[0],W=a[1];a=a[2];let y=g*a-q*W,z=q*k-d*a,L=d*W-g*k;b=2*b[3];c[0]=k+y*b+2*(g*L-q*z);c[1]=W+z*b+2*(q*y-d*L);c[2]=a+L*b+2*(d*z-g*y);return c};let M=0,E=0,F=0,N=0,O=0,P=0,G=0,Q=0,R=0,S=0,T=0,U=0,Ga=0,Ha=0,Ia=0,Qa=0,A=0,B=0,C=0,V=0,mb=0,nb=0,yb=0,Mc=0,Ua=0,Va=0,cb=0,Cb=0,Db=0,Eb=0,Fb=0,Gb=0,t=0,u=0,v=0,ra=0,Ra=0,n=0,sa=0,ka=0,la=0,h=0,ma=0,na=0,fa=0;const vc=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];class m extends Float32Array{constructor(a=vc){super(a)}}m.UNIT_MATRIX4=new m(vc);m.clone=a=>new m(a);
m.create=()=>new m(vc);m.determinant=a=>{M=a[0];E=a[1];F=a[2];N=a[3];P=a[4];O=a[5];G=a[6];Q=a[7];R=a[8];S=a[9];T=a[10];U=a[11];Ha=a[12];Ga=a[13];Ia=a[14];Qa=a[15];A=M*O-E*P;B=M*G-F*P;C=E*G-F*O;V=R*Ga-S*Ha;nb=R*Ia-T*Ha;mb=S*Ia-T*Ga;yb=M*mb-E*nb+F*V;Mc=P*mb-O*nb+G*V;Ua=R*C-S*B+T*A;Va=Ha*C-Ga*B+Ia*A;return Q*yb-N*Mc+Qa*Ua-U*Va};m.fromArray=(a,b=new m)=>{b.set(a);return b};m.fromEuler=(a,b=new m)=>{t=a.x;u=a.y;v=a.z;ka=Math.cos(t);la=Math.sin(t);h=Math.cos(u);ma=Math.sin(u);na=Math.cos(v);fa=Math.sin(v);
if(a.order===l.EulerRotationOrders.XYZ){a=ka*na;var c=ka*fa,d=la*na,g=la*fa;b[0]=h*na;b[4]=-h*fa;b[8]=ma;b[1]=c+d*ma;b[5]=a-g*ma;b[9]=-la*h;b[2]=g-a*ma;b[6]=d+c*ma;b[10]=ka*h}else a.order===l.EulerRotationOrders.YXZ?(a=h*na,c=h*fa,d=ma*na,g=ma*fa,b[0]=a+g*la,b[4]=d*la-c,b[8]=ka*ma,b[1]=ka*fa,b[5]=ka*na,b[9]=-la,b[2]=c*la-d,b[6]=g+a*la,b[10]=ka*h):a.order===l.EulerRotationOrders.ZXY?(a=h*na,c=h*fa,d=ma*na,g=ma*fa,b[0]=a-g*la,b[4]=-ka*fa,b[8]=d+c*la,b[1]=c+d*la,b[5]=ka*na,b[9]=g-a*la,b[2]=-ka*ma,b[6]=
la,b[10]=ka*h):a.order===l.EulerRotationOrders.ZYX?(a=ka*na,c=ka*fa,d=la*na,g=la*fa,b[0]=h*na,b[4]=d*ma-c,b[8]=a*ma+g,b[1]=h*fa,b[5]=g*ma+a,b[9]=c*ma-d,b[2]=-ma,b[6]=la*h,b[10]=ka*h):a.order===l.EulerRotationOrders.YZX?(a=ka*h,c=ka*ma,d=la*h,g=la*ma,b[0]=h*na,b[4]=g-a*fa,b[8]=d*fa+c,b[1]=fa,b[5]=ka*na,b[9]=-la*na,b[2]=-ma*na,b[6]=c*fa+d,b[10]=a-g*fa):a.order===l.EulerRotationOrders.XZY&&(a=ka*h,c=ka*ma,d=la*h,g=la*ma,b[0]=h*na,b[4]=-fa,b[8]=ma*na,b[1]=a*fa+g,b[5]=ka*na,b[9]=c*fa-d,b[2]=d*fa-c,b[6]=
la*na,b[10]=g*fa+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};m.fromQuaternion=(a,b=new m)=>{var c=a[0],d=a[1],g=a[2];a=a[3];var q=c+c,k=d+d;const W=g+g;c*=q;const y=d*q;d*=k;const z=g*q,L=g*k;g*=W;q*=a;k*=a;a*=W;b[0]=1-d-g;b[1]=y+a;b[2]=z-k;b[3]=0;b[4]=y-a;b[5]=1-c-g;b[6]=L+q;b[7]=0;b[8]=z+k;b[9]=L-q;b[10]=1-c-d;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};m.fromRotation=(a,b,c=new m)=>{t=b[0];u=b[1];v=b[2];Ra=Math.hypot(t,u,v);if(Ra<Wa)return null;Ra=1/Ra;t*=Ra;u*=Ra;
v*=Ra;n=Math.sin(a);h=Math.cos(a);sa=1-h;c[0]=t*t*sa+h;c[1]=u*t*sa+v*n;c[2]=v*t*sa-u*n;c[3]=0;c[4]=t*u*sa-v*n;c[5]=u*u*sa+h;c[6]=v*u*sa+t*n;c[7]=0;c[8]=t*v*sa+u*n;c[9]=u*v*sa-t*n;c[10]=v*v*sa+h;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c};m.fromRotationX=(a,b=new m)=>{n=Math.sin(a);h=Math.cos(a);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=h;b[6]=n;b[7]=0;b[8]=0;b[9]=-n;b[10]=h;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};m.fromRotationY=(a,b=new m)=>{n=Math.sin(a);h=Math.cos(a);b[0]=h;b[1]=
0;b[2]=-n;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=n;b[9]=0;b[10]=h;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};m.fromRotationZ=(a,b=new m)=>{n=Math.sin(a);h=Math.cos(a);b[0]=h;b[1]=n;b[2]=0;b[3]=0;b[4]=-n;b[5]=h;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};m.fromScaling=(a,b=new m)=>{b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=a[1];b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=a[2];b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};m.fromTranslation=(a,b=new m)=>{b[0]=
1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=a[0];b[13]=a[1];b[14]=a[2];b[15]=1;return b};m.identity=(a=new m)=>{a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};m.invert=(a,b=new m)=>{M=a[0];E=a[1];F=a[2];N=a[3];P=a[4];O=a[5];G=a[6];Q=a[7];R=a[8];S=a[9];T=a[10];U=a[11];Ha=a[12];Ga=a[13];Ia=a[14];Qa=a[15];A=M*O-E*P;B=M*G-F*P;C=M*Q-N*P;V=E*G-F*O;Ua=E*Q-N*O;Va=F*Q-N*G;cb=R*Ga-S*Ha;
Cb=R*Ia-T*Ha;Eb=R*Qa-U*Ha;Db=S*Ia-T*Ga;Fb=S*Qa-U*Ga;Gb=T*Qa-U*Ia;ra=A*Gb-B*Fb+C*Db+V*Eb-Ua*Cb+Va*cb;if(!ra)return null;ra=1/ra;b[0]=(O*Gb-G*Fb+Q*Db)*ra;b[1]=(F*Fb-E*Gb-N*Db)*ra;b[2]=(Ga*Va-Ia*Ua+Qa*V)*ra;b[3]=(T*Ua-S*Va-U*V)*ra;b[4]=(G*Eb-P*Gb-Q*Cb)*ra;b[5]=(M*Gb-F*Eb+N*Cb)*ra;b[6]=(Ia*C-Ha*Va-Qa*B)*ra;b[7]=(R*Va-T*C+U*B)*ra;b[8]=(P*Fb-O*Eb+Q*cb)*ra;b[9]=(E*Eb-M*Fb-N*cb)*ra;b[10]=(Ha*Ua-Ga*C+Qa*A)*ra;b[11]=(S*C-R*Ua-U*A)*ra;b[12]=(O*Cb-P*Db-G*cb)*ra;b[13]=(M*Db-E*Cb+F*cb)*ra;b[14]=(Ga*B-Ha*V-Ia*A)*
ra;b[15]=(R*V-S*B+T*A)*ra;return b};m.lookAt=(a,b,c=e.VECTOR3_TOP,d=new m)=>{let g,q;let k;const W=a[0],y=a[1];a=a[2];var z=c[0];var L=c[1];var Ba=c[2];var db=b[0];c=b[1];var gb=b[2];if(Aa(W,db)&&Aa(y,c)&&Aa(a,gb))return m.identity(d);b=W-db;c=y-c;db=a-gb;k=1/Math.hypot(b,c,db);b*=k;c*=k;db*=k;gb=L*db-Ba*c;Ba=Ba*b-z*db;z=z*c-L*b;(k=Math.hypot(gb,Ba,z))?(k=1/k,gb*=k,Ba*=k,z*=k):z=Ba=gb=0;L=c*z-db*Ba;g=db*gb-b*z;q=b*Ba-c*gb;(k=Math.hypot(L,g,q))?(k=1/k,L*=k,g*=k,q*=k):q=g=L=0;d[0]=gb;d[1]=L;d[2]=b;
d[3]=0;d[4]=Ba;d[5]=g;d[6]=c;d[7]=0;d[8]=z;d[9]=q;d[10]=db;d[11]=0;d[12]=-(gb*W+Ba*y+z*a);d[13]=-(L*W+g*y+q*a);d[14]=-(b*W+c*y+db*a);d[15]=1;return d};m.multiply=(a,b,c=new m)=>{M=a[0];E=a[1];F=a[2];N=a[3];P=a[4];O=a[5];G=a[6];Q=a[7];R=a[8];S=a[9];T=a[10];U=a[11];Ha=a[12];Ga=a[13];Ia=a[14];Qa=a[15];A=b[0];B=b[1];C=b[2];V=b[3];c[0]=A*M+B*P+C*R+V*Ha;c[1]=A*E+B*O+C*S+V*Ga;c[2]=A*F+B*G+C*T+V*Ia;c[3]=A*N+B*Q+C*U+V*Qa;A=b[4];B=b[5];C=b[6];V=b[7];c[4]=A*M+B*P+C*R+V*Ha;c[5]=A*E+B*O+C*S+V*Ga;c[6]=A*F+B*G+
C*T+V*Ia;c[7]=A*N+B*Q+C*U+V*Qa;A=b[8];B=b[9];C=b[10];V=b[11];c[8]=A*M+B*P+C*R+V*Ha;c[9]=A*E+B*O+C*S+V*Ga;c[10]=A*F+B*G+C*T+V*Ia;c[11]=A*N+B*Q+C*U+V*Qa;A=b[12];B=b[13];C=b[14];V=b[15];c[12]=A*M+B*P+C*R+V*Ha;c[13]=A*E+B*O+C*S+V*Ga;c[14]=A*F+B*G+C*T+V*Ia;c[15]=A*N+B*Q+C*U+V*Qa;return c};m.orthogonal=(a,b,c,d,g,q,k=new m)=>{const W=1/(a-b),y=1/(c-d),z=1/(g-q);k[0]=-2*W;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=-2*y;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=2*z;k[11]=0;k[12]=(a+b)*W;k[13]=(d+c)*y;k[14]=(q+g)*z;k[15]=1;
return k};m.perspective=(a,b,c,d,g=new m)=>{fa=1/Math.tan(a/2);g[0]=fa/b;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=fa;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[11]=-1;g[12]=0;g[13]=0;g[15]=0;null!==d&&Infinity!==d?(ka=1/(c-d),g[10]=(d+c)*ka,g[14]=2*d*c*ka):(g[10]=-1,g[14]=-2*c);return g};m.rotate=(a,b,c,d=new m)=>{t=c[0];u=c[1];v=c[2];Ra=Math.hypot(t,u,v);if(Ra<Wa)return null;Ra=1/Ra;t*=Ra;u*=Ra;v*=Ra;n=Math.sin(b);h=Math.cos(b);sa=1-h;M=a[0];E=a[1];F=a[2];N=a[3];P=a[4];O=a[5];G=a[6];Q=a[7];R=a[8];S=a[9];T=a[10];U=a[11];
A=t*t*sa+h;B=u*t*sa+v*n;C=v*t*sa-u*n;nb=t*u*sa-v*n;mb=u*u*sa+h;yb=v*u*sa+t*n;Ua=t*v*sa+u*n;Va=u*v*sa-t*n;cb=v*v*sa+h;d[0]=M*A+P*B+R*C;d[1]=E*A+O*B+S*C;d[2]=F*A+G*B+T*C;d[3]=N*A+Q*B+U*C;d[4]=M*nb+P*mb+R*yb;d[5]=E*nb+O*mb+S*yb;d[6]=F*nb+G*mb+T*yb;d[7]=N*nb+Q*mb+U*yb;d[8]=M*Ua+P*Va+R*cb;d[9]=E*Ua+O*Va+S*cb;d[10]=F*Ua+G*Va+T*cb;d[11]=N*Ua+Q*Va+U*cb;a!==d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]);return d};m.rotateX=(a,b,c=new m)=>{n=Math.sin(b);h=Math.cos(b);P=a[4];O=a[5];G=a[6];Q=a[7];R=a[8];
S=a[9];T=a[10];U=a[11];a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[4]=P*h+R*n;c[5]=O*h+S*n;c[6]=G*h+T*n;c[7]=Q*h+U*n;c[8]=R*h-P*n;c[9]=S*h-O*n;c[10]=T*h-G*n;c[11]=U*h-Q*n;return c};m.rotateY=(a,b,c=new m)=>{n=Math.sin(b);h=Math.cos(b);M=a[0];E=a[1];F=a[2];N=a[3];R=a[8];S=a[9];T=a[10];U=a[11];a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=M*h-R*n;c[1]=E*h-S*n;c[2]=F*h-T*n;c[3]=N*h-U*n;c[8]=
M*n+R*h;c[9]=E*n+S*h;c[10]=F*n+T*h;c[11]=N*n+U*h;return c};m.rotateZ=(a,b,c=new m)=>{n=Math.sin(b);h=Math.cos(b);M=a[0];E=a[1];F=a[2];N=a[3];P=a[4];O=a[5];G=a[6];Q=a[7];a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=M*h+P*n;c[1]=E*h+O*n;c[2]=F*h+G*n;c[3]=N*h+Q*n;c[4]=P*h-M*n;c[5]=O*h-E*n;c[6]=G*h-F*n;c[7]=Q*h-N*n;return c};m.scale=(a,b,c=new m)=>{t=b[0];u=b[1];v=b[2];c[0]=a[0]*t;c[1]=a[1]*t;c[2]=a[2]*t;c[3]=a[3]*t;c[4]=a[4]*u;c[5]=a[5]*u;
c[6]=a[6]*u;c[7]=a[7]*u;c[8]=a[8]*v;c[9]=a[9]*v;c[10]=a[10]*v;c[11]=a[11]*v;c!==a&&(c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c};m.targetTo=(a,b,c=e.VECTOR3_TOP,d=new m)=>{const g=a[0],q=a[1];a=a[2];var k=c[0];const W=c[1];var y=c[2];c=g-b[0];let z=q-b[1];b=a-b[2];let L=c*c+z*z+b*b;0<L&&(L=1/Math.sqrt(L),c*=L,z*=L,b*=L);let Ba=W*b-y*z;y=y*c-k*b;k=k*z-W*c;L=Ba*Ba+y*y+k*k;0<L&&(L=1/Math.sqrt(L),Ba*=L,y*=L,k*=L);d[0]=Ba;d[1]=y;d[2]=k;d[3]=0;d[4]=z*k-b*y;d[5]=b*Ba-c*k;d[6]=c*y-z*Ba;d[7]=
0;d[8]=c;d[9]=z;d[10]=b;d[11]=0;d[12]=g;d[13]=q;d[14]=a;d[15]=1;return d};m.translate=(a,b,c=new m)=>{t=b[0];u=b[1];v=b[2];a===c?(c[12]=a[0]*t+a[4]*u+a[8]*v+a[12],c[13]=a[1]*t+a[5]*u+a[9]*v+a[13],c[14]=a[2]*t+a[6]*u+a[10]*v+a[14],c[15]=a[3]*t+a[7]*u+a[11]*v+a[15]):(M=a[0],E=a[1],F=a[2],N=a[3],P=a[4],O=a[5],G=a[6],Q=a[7],R=a[8],S=a[9],T=a[10],U=a[11],c[0]=M,c[1]=E,c[2]=F,c[3]=N,c[4]=P,c[5]=O,c[6]=G,c[7]=Q,c[8]=R,c[9]=S,c[10]=T,c[11]=U,c[12]=M*t+P*u+R*v+a[12],c[13]=E*t+O*u+S*v+a[13],c[14]=F*t+G*u+T*
v+a[14],c[15]=N*t+Q*u+U*v+a[15]);return c};m.transpose=(a,b=new m)=>{b===a?(E=a[1],F=a[2],N=a[3],G=a[6],Q=a[7],U=a[11],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=E,b[6]=a[9],b[7]=a[13],b[8]=F,b[9]=G,b[11]=a[14],b[12]=N,b[13]=Q,b[14]=U):(b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15]);return b};let H,I,J,Z,Ja,Ka,La,ha,Ma=0,Sa=0,wc=0,ib=0,dc=0,ob=0,Hb=0,Ib=0;const hb=new Float32Array(3);
class w extends Float32Array{constructor(a=0,b=0,c=0,d=0){super(4);this[0]=a;this[1]=b;this[2]=c;this[3]=d}get x(){return this[0]}set x(a){this[0]=a}get y(){return this[1]}set y(a){this[1]=a}get z(){return this[2]}set z(a){this[2]=a}get w(){return this[3]}set w(a){this[3]=a}}w.angleTo=(a,b)=>{ib=w.dot(a,b);return Math.acos(2*ib*ib-1)};w.conjugate=(a,b=new w)=>{b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};w.create=(a=0,b=0,c=0,d=1,g=new w)=>{g[0]=a;g[1]=b;g[2]=c;g[3]=d;return g};w.dot=(a,b)=>
a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];w.fromAxisAngle=(a,b,c=new w)=>{b*=.5;Ma=Math.sin(b);c[0]=Ma*a[0];c[1]=Ma*a[1];c[2]=Ma*a[2];c[3]=Math.cos(b);return c};w.fromMatrix3=(a,b=new w)=>{var c=a[0]+a[4]+a[8];if(0<c)c=Math.sqrt(c+1),b[3]=.5*c,c=.5/c,b[0]=(a[5]-a[7])*c,b[1]=(a[6]-a[2])*c,b[2]=(a[1]-a[3])*c;else{let d=0;a[4]>a[0]&&(d=1);a[8]>a[3*d+d]&&(d=2);const g=(d+1)%3,q=(d+2)%3;c=Math.sqrt(a[3*d+d]-a[3*g+g]-a[3*q+q]+1);b[d]=.5*c;c=.5/c;b[3]=(a[3*g+q]-a[3*q+g])*c;b[g]=(a[3*g+d]+a[3*d+g])*c;b[q]=
(a[3*q+d]+a[3*d+q])*c}return b};w.identity=(a=new w)=>{a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};w.invert=(a,b=new w)=>{H=a[0];I=a[1];J=a[2];Z=a[3];(ib=H*H+I*I+J*J+Z*Z)?(Sa=1/ib,b[0]=-H*Sa,b[1]=-I*Sa,b[2]=-J*Sa,b[3]=Z*Sa):(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b};w.lerp=(a,b,c,d=new w)=>{H=a[0];I=a[1];J=a[2];Z=a[3];d[0]=H+c*(b[0]-H);d[1]=I+c*(b[1]-I);d[2]=J+c*(b[2]-J);d[3]=Z+c*(b[3]-Z);return d};w.multiply=(a,b,c=new w)=>{H=a[0];I=a[1];J=a[2];Z=a[3];Ja=b[0];Ka=b[1];La=b[2];ha=b[3];c[0]=H*ha+Z*Ja+I*La-J*
Ka;c[1]=I*ha+Z*Ka+J*Ja-H*La;c[2]=J*ha+Z*La+H*Ka-I*Ja;c[3]=Z*ha-H*Ja-I*Ka-J*La;return c};w.normalize=(a,b=new w)=>{H=a[0];I=a[1];J=a[2];Z=a[3];ob=H*H+I*I+J*J+Z*Z;0<ob&&(ob=1/Math.sqrt(ob));b[0]=H*ob;b[1]=I*ob;b[2]=J*ob;b[3]=Z*ob;return b};w.random=(a=new w)=>{H=Math.random();I=Math.random();J=Math.random();Sa=Math.sqrt(1-H);Ma=Math.sqrt(H);a[0]=Sa*Math.sin(2*Math.PI*I);a[1]=Sa*Math.cos(2*Math.PI*I);a[2]=Ma*Math.sin(2*Math.PI*J);a[3]=Ma*Math.cos(2*Math.PI*J);return a};w.rotationTo=(a,b,c=new w)=>{ib=
e.dot(a,b);if(ib<-1+Wa)return e.cross(e.VECTOR3_LEFT,a,hb),e.norm(hb)<Wa&&e.cross(e.VECTOR3_TOP,a,hb),e.normalize(hb,hb),w.fromAxisAngle(hb,Math.PI,c),c;if(ib>1-Wa)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;e.cross(hb,a,b);c[0]=hb[0];c[1]=hb[1];c[2]=hb[2];c[3]=1+ib;return w.normalize(c,c)};w.rotateX=(a,b,c=new w)=>{b*=.5;H=a[0];I=a[1];J=a[2];Z=a[3];Ja=Math.sin(b);ha=Math.cos(b);c[0]=H*ha+Z*Ja;c[1]=I*ha+J*Ja;c[2]=J*ha-I*Ja;c[3]=Z*ha-H*Ja;return c};w.rotateY=(a,b,c=new w)=>{b*=.5;H=a[0];I=a[1];J=a[2];Z=a[3];
Ka=Math.sin(b);ha=Math.cos(b);c[0]=H*ha-J*Ka;c[1]=I*ha+Z*Ka;c[2]=J*ha+H*Ka;c[3]=Z*ha-I*Ka;return c};w.rotateZ=(a,b,c=new w)=>{b*=.5;H=a[0];I=a[1];J=a[2];Z=a[3];La=Math.sin(b);ha=Math.cos(b);c[0]=H*ha+I*La;c[1]=I*ha-H*La;c[2]=J*ha+Z*La;c[3]=Z*ha-J*La;return c};w.slerp=(a,b,c,d=new w)=>{H=a[0];I=a[1];J=a[2];Z=a[3];Ja=b[0];Ka=b[1];La=b[2];ha=b[3];Sa=H*Ja+I*Ka+J*La+Z*ha;0>Sa&&(Sa=-Sa,Ja=-Ja,Ka=-Ka,La=-La,ha=-ha);1-Sa>Wa?(dc=Math.acos(Sa),Ma=Math.sin(dc),Hb=Math.sin((1-c)*dc)/Ma,Ib=Math.sin(c*dc)/Ma):
(Hb=1-c,Ib=c);d[0]=Hb*H+Ib*Ja;d[1]=Hb*I+Ib*Ka;d[2]=Hb*J+Ib*La;d[3]=Hb*Z+Ib*ha;return d};w.toAxisAngle=(a,b)=>{wc=2*Math.acos(a[3]);Ma=Math.sin(wc/2);Ma>Wa?(b[0]=a[0]/Ma,b[1]=a[1]/Ma,b[2]=a[2]/Ma):(b[0]=1,b[1]=0,b[2]=0);return wc};w.toString=a=>`quat("${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`;const Jb=new e,Kb=new e,Lb=new e,pb=new e,zb=new e,qb=new e,jb=new e,ec=new e,tb=new e,Uc=[1,1,1];class K{constructor(a=new e,b=e.fromArray(Uc)){this.min=new e;this.max=new e;e.min(a,b,this.min);e.max(a,b,this.max)}}
K.clampPoint=(a,b,c=new e)=>e.clamp(b,a.min,a.max,c);K.containsPoint=(a,b)=>b[0]>=a.min[0]&&b[0]<=a.max[0]&&b[1]>=a.min[1]&&b[1]<=a.max[1]&&b[2]>=a.min[2]&&b[2]<=a.max[2];K.containsCube=(a,b)=>a.min[0]<=b.min[0]&&b.max[0]<=a.max[0]&&a.min[1]<=b.min[1]&&b.max[1]<=a.max[1]&&a.min[2]<=b.min[2]&&b.max[2]<=a.max[2];K.depth=a=>a.max[2]-a.min[2];K.equals=(a,b)=>e.equals(a.min,b.min)&&e.equals(a.max,b.max);K.getCenter=(a,b=new e)=>{e.add(a.min,a.max,b);return e.multiplyScalar(b,.5,b)};K.getSize=(a,b=new e)=>
e.minus(a.max,a.min,b);K.height=a=>a.max[1]-a.min[1];K.intersect=(a,b,c=new K)=>{e.max(a.min,b.min,c.min);e.min(a.max,b.max,c.max);return c};K.intersectsBox=(a,b)=>!(b.max[0]<a.min[0]||b.min[0]>a.max[0]||b.max[1]<a.min[1]||b.min[1]>a.max[1]||b.max[2]<a.min[2]||b.min[2]>a.max[2]);K.intersectsSphere=(a,b)=>{K.clampPoint(a,b.position,jb);return e.distanceToSquared(jb,b.position)<=b.radius*b.radius};K.intersectsTriangle=(a,b)=>{if(K.isEmpty(a))return!1;K.getCenter(a,jb);e.minus(a.max,jb,ec);e.minus(b.a,
jb,Lb);e.minus(b.b,jb,Jb);e.minus(b.c,jb,Kb);e.minus(Jb,Lb,qb);e.minus(Kb,Jb,pb);e.minus(Lb,Kb,zb);a=[0,-qb[2],qb[1],0,-pb[2],pb[1],0,-zb[2],zb[1],qb[2],0,-qb[0],pb[2],0,-pb[0],zb[2],0,-zb[0],-qb[1],qb[0],0,-pb[1],pb[0],0,-zb[1],zb[0],0];if(!sb(a,Lb,Jb,Kb,ec)||!sb(a,Lb,Jb,Kb,ec))return!1;e.cross(qb,pb,jb);return sb(jb,Lb,Jb,Kb,ec)};K.isEmpty=a=>a.max[0]<a.min[0]||a.max[0]<a.min[0]||a.max[0]<a.min[0];K.round=(a,b=new K)=>{e.round(a.min,b.min);e.round(a.max,b.max);return b};K.size=(a,b=new e)=>e.minus(a.max,
a.min,b);K.stretch=(a,b,c,d=new K)=>{e.add(a.min,b,d.min);e.add(a.max,c,d.max);return d};K.translate=(a,b,c=new K)=>{e.add(a.min,b,c.min);e.add(a.max,b,c.max);return c};K.union=(a,b,c=new K)=>{e.min(a.min,b.min,c.min);e.max(a.max,b.max,c.max);return c};K.volume=a=>(a.max[0]-a.min[0])*(a.max[1]-a.min[1])*(a.max[2]-a.min[2]);K.width=a=>a.max[0]-a.min[0];let Vb,Gc,nc,oc,pc,Hc,Ta=0,eb=0,xc=0,yc=0;class f extends Float32Array{constructor(a=0,b=0){super(2);this[0]=a;this[1]=b}get x(){return this[0]}set x(a){this[0]=
a}get y(){return this[1]}set y(a){this[1]=a}}f.VECTOR2_ZERO=new Float32Array([0,0]);f.VECTOR2_TOP=new Float32Array([0,1]);f.VECTOR2_BOTTOM=new Float32Array([0,-1]);f.VECTOR2_LEFT=new Float32Array([-1,0]);f.VECTOR2_RIGHT=new Float32Array([1,0]);f.add=(a,b,c=new f)=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c};f.addScalar=(a,b,c=new f(2))=>{c[0]=a[0]+b;c[1]=a[1]+b;return c};f.angle=a=>Math.atan2(a[1],a[0]);f.ceil=(a,b=new f)=>{b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);return b};f.clamp=(a,b,c,d=new f)=>
{d[0]=ta(a[0],b[0],c[0]);d[1]=ta(a[1],b[1],c[1]);return d};f.clampSafe=(a,b,c,d=new f)=>{d[0]=kb(a[0],b[0],c[0]);d[1]=kb(a[1],b[1],c[1]);return d};f.clampLength=(a,b,c,d=new f)=>{d[0]=kb(a[0],b[0],c[0]);d[1]=kb(a[1],b[1],c[1]);return d};f.clampScalar=(a,b,c,d=new f)=>{d[0]=ta(a[0],b,c);d[1]=ta(a[1],b,c);return d};f.closeTo=(a,b,c=Wa)=>f.distanceTo(a,b)<=c;f.closeToRect=(a,b,c=Wa)=>Aa(a[0],b[0],c)&&Aa(a[1],b[1],c);f.closeToManhattan=(a,b,c=Wa)=>f.distanceToManhattan(a,b)<=c;f.clone=(a,b=new f)=>{b[0]=
a[0];b[1]=a[1];return b};f.cross=(a,b)=>a[0]*b[1]-a[1]*b[0];f.create=(a=0,b=0,c=new f)=>{c[0]=a;c[1]=b;return c};f.distanceTo=(a,b)=>{Ta=b[0]-a[0];eb=b[1]-a[1];return Math.hypot(Ta,eb)};f.distanceToManhattan=(a,b)=>Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1]);f.distanceToSquared=(a,b)=>{Ta=a[0]-b[0];eb=a[1]-b[1];return Ta*Ta+eb*eb};f.divide=(a,b,c=new f)=>{c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c};f.divideScalar=(a,b,c=new f)=>f.multiplyScalar(a,1/b,c);f.dot=(a,b)=>a[0]*b[0]+a[1]*b[1];f.equals=(a,b)=>a[0]===
b[0]&&a[1]===b[1];f.floor=(a,b=new f)=>{b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);return b};f.floorToZero=(a,b=new f)=>{b[0]=Wb(a[0]);b[1]=Wb(a[1]);return b};f.fromArray=(a,b=0,c=new f)=>{c[0]=a[b];c[1]=a[b+1];return c};f.fromJson=(a,b=new f)=>{b[0]=a.x;b[1]=a.y;return b};f.fromPolar=(a,b=new f)=>{b[0]=Math.cos(a.a)*a.r;b[1]=Math.sin(a.a)*a.r;return b};f.fromScalar=(a=0,b=new f)=>{b[0]=b[1]=a;return b};f.inverse=(a,b=new f)=>{b[0]=1/a[0]||0;b[1]=1/a[1]||0;return b};f.norm=a=>Math.sqrt(a[0]*a[0]+
a[1]*a[1]);f.lengthManhattan=a=>Math.abs(a[0])+Math.abs(a[1]);f.lengthSquared=a=>a[0]*a[0]+a[1]*a[1];f.lerp=(a,b,c,d=new f)=>{d[0]=(b[0]-a[0])*c+a[0];d[1]=(b[1]-a[1])*c+a[1];return d};f.max=(a,b,c=new f)=>{c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);return c};f.min=(a,b,c=new f)=>{c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);return c};f.minus=(a,b,c=new f)=>{c[0]=a[0]-b[0];c[1]=a[1]-b[0];return c};f.minusScalar=(a,b,c=new f)=>{c[0]=a[0]-b;c[1]=a[1]-b;return c};f.multiply=(a,b,c=new f)=>
{c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c};f.multiplyScalar=(a,b,c=new f)=>{c[0]=a[0]*b;c[1]=a[1]*b;return c};f.negate=(a,b=new f)=>{b[0]=-a[0];b[1]=-a[1];return b};f.normalize=(a,b=new f)=>f.divideScalar(a,f.norm(a)||1,b);f.random=(a=1,b=new f)=>{Ta=Math.random()*Ic;b[0]=Math.cos(Ta)*a;b[1]=Math.sin(Ta)*a;return b};f.rotate=(a,b,c=f.VECTOR2_ZERO,d=new f(2))=>{xc=Math.cos(b);yc=Math.sin(b);Ta=a[0]-c[0];eb=a[1]-c[1];d[0]=Ta*xc-eb*yc+c[0];d[1]=Ta*yc+eb*xc+c[1];return d};f.round=(a,b=new f)=>{b[0]=Math.round(a[0]);
b[1]=Math.round(a[1]);return b};f.set=(a=0,b=0,c=new f)=>{c[0]=a;c[1]=b;return c};f.setLength=(a,b,c=new f(2))=>{f.normalize(a,c);f.multiplyScalar(c,b,c);return c};f.toArray=(a,b=[])=>{b[0]=a[0];b[1]=a[1];return b};f.toPalorJson=(a,b={a:0,r:0})=>{b.r=f.norm(a);b.a=f.angle(a);return b};f.toString=a=>`(${a[0]}, ${a[1]})`;f.transformMatrix3=(a,b,c)=>{Ta=a[0];eb=a[1];c[0]=b[0]*Ta+b[3]*eb+b[6];c[1]=b[1]*Ta+b[4]*eb+b[7];return c};class za{constructor(a=f.create(),b=f.create(1,1)){this.min=f.create();this.max=
f.create();f.min(a,b,this.min);f.max(a,b,this.max)}}za.area=a=>(a.max[0]-a.min[0])*(a.max[1]-a.min[1]);za.containsPoint=(a,b)=>b[0]>=a.min[0]&&b[0]<=a.max[0]&&b[1]>=a.min[1]&&b[1]<=a.max[1];za.containsRectangle=(a,b)=>a.min[0]<=b.min[0]&&b.max[0]<=a.max[0]&&a.min[1]<=b.min[1]&&b.max[1]<=a.max[1];za.create=(a=f.create(),b=f.create(1,1))=>({max:f.max(a,b),min:f.min(a,b)});za.equals=(a,b)=>f.equals(a.min,b.min)&&f.equals(a.max,b.max);za.getCenter=(a,b=f.create())=>{f.add(a.min,a.max,b);return f.multiplyScalar(b,
.5,b)};za.getSize=(a,b=f.create())=>f.minus(a.max,a.min,b);za.height=a=>a.max[1]-a.min[1];za.intersect=(a,b,c=new za)=>{f.max(a.min,b.min,c.min);f.min(a.max,b.max,c.max);return c};za.stretch=(a,b,c,d=new za)=>{f.add(a.min,b,d.min);f.add(a.max,c,d.max);return d};za.translate=(a,b,c=new za)=>{f.add(a.min,b,c.min);f.add(a.max,b,c.max);return c};za.union=(a,b,c=new za)=>{f.min(a.min,b.min,c.min);f.max(a.max,b.max,c.max);return c};za.width=a=>a.max[0]-a.min[0];let zc=0;class Mb{constructor(a=new e,b=1){this.position=
a;this.radius=b}}Mb.boundingBox=(a,b=new K)=>{e.minusScalar(a.position,a.radius,b.min);e.addScalar(a.position,a.radius,b.max);return b};Mb.containsPoint=(a,b)=>e.distanceToSquared(a.position,b)<=a.radius*a.radius;Mb.distanceToPoint=(a,b)=>e.distanceTo(a.position,b)-a.radius;Mb.equals=(a,b)=>e.equals(a.position,b.position)&&a.radius===b.radius;Mb.intersectsSphere=(a,b)=>{zc=a.radius+b.radius;return e.distanceToSquared(a.position,b.position)<=zc*zc};const Nc=[-1,-1,0],Oc=[1,-1,0],Pc=[0,1,0],Qc=new e,
Rc=new e;class fb{constructor(a=new Float32Array(Nc),b=new Float32Array(Oc),c=new Float32Array(Pc)){this.a=a;this.b=b;this.c=c}}fb.area=a=>{const b=fb.getABLength(a),c=fb.getBCLength(a);a=fb.getCALength(a);const d=(b+c+a)/2;return Math.sqrt(d*(d-c)*(d-a)*(d-b))};fb.create=(a=new Float32Array(Nc),b=new Float32Array(Oc),c=new Float32Array(Pc))=>({a,b,c});fb.getABLength=a=>e.distanceTo(a.a,a.b);fb.getBCLength=a=>e.distanceTo(a.b,a.c);fb.getCALength=a=>e.distanceTo(a.c,a.a);fb.normal=(a,b=e.create())=>
{e.minus(a.c,a.b,Rc);e.minus(a.b,a.a,Qc);e.cross(Qc,Rc,b);return e.normalize(b)};fb.toFloat32Array=(a,b=new Float32Array(3))=>{b.set(a.a,0);b.set(a.b,3);b.set(a.c,6);return e.normalize(b)};let aa,ba,ca,da,Sb,Tb,Ub,rb,fc,gc,hc,ic,Ac,Bc,Cc,Dc,Ec,Fc,jc,kc,lc,mc;class p extends Float32Array{constructor(a=0,b=0,c=0,d=0){super(4);this[0]=a;this[1]=b;this[2]=c;this[3]=d}get x(){return this[0]}set x(a){this[0]=a}get y(){return this[1]}set y(a){this[1]=a}get z(){return this[2]}set z(a){this[2]=a}get w(){return this[3]}set w(a){this[3]=
a}}p.add=(a,b,c=new p)=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};p.ceil=(a,b=new p)=>{b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);b[2]=Math.ceil(a[2]);b[3]=Math.ceil(a[3]);return b};p.closeTo=(a,b)=>Aa(a[0],b[0])&&Aa(a[1],b[1])&&Aa(a[2],b[2])&&Aa(a[3],b[3]);p.create=(a=0,b=0,c=0,d=0,g=new p)=>{g[0]=a;g[1]=b;g[2]=c;g[3]=d;return g};p.cross=(a,b,c,d=new Float32Array(4))=>{Ac=b[0]*c[1]-b[1]*c[0];Bc=b[0]*c[2]-b[2]*c[0];Cc=b[0]*c[3]-b[3]*c[0];Dc=b[1]*c[2]-b[2]*c[1];Ec=b[1]*
c[3]-b[3]*c[1];Fc=b[2]*c[3]-b[3]*c[2];jc=a[0];kc=a[1];lc=a[2];mc=a[3];d[0]=kc*Fc-lc*Ec+mc*Dc;d[1]=-(jc*Fc)+lc*Cc-mc*Bc;d[2]=jc*Ec-kc*Cc+mc*Ac;d[3]=-(jc*Dc)+kc*Bc-lc*Ac;return d};p.distanceTo=(a,b)=>{aa=b[0]-a[0];ba=b[1]-a[1];ca=b[2]-a[2];da=b[3]-a[3];return Math.hypot(aa,ba,ca,da)};p.distanceToSquared=(a,b)=>{aa=b[0]-a[0];ba=b[1]-a[1];ca=b[2]-a[2];da=b[3]-a[3];return aa*aa+ba*ba+ca*ca+da*da};p.divide=(a,b,c=new p)=>{c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c};p.dot=(a,b)=>
a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];p.equals=(a,b)=>a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3];p.floor=(a,b=new p)=>{b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);b[2]=Math.floor(a[2]);b[3]=Math.floor(a[3]);return b};p.fromValues=(a,b,c,d,g=new p)=>{g[0]=a;g[1]=b;g[2]=c;g[3]=d;return g};p.inverse=(a,b=new p)=>{b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];b[3]=1/a[3];return b};p.norm=a=>Math.hypot(a[0],a[1],a[2],a[3]);p.lengthSquared=a=>{aa=a[0];ba=a[1];ca=a[2];da=a[3];return aa*aa+ba*ba+ca*ca+da*
da};p.lerp=(a,b,c,d=new p)=>{aa=a[0];ba=a[1];ca=a[2];da=a[3];d[0]=aa+c*(b[0]-aa);d[1]=ba+c*(b[1]-ba);d[2]=ca+c*(b[2]-ca);d[3]=da+c*(b[3]-da);return d};p.max=(a,b,c=new p)=>{c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);c[3]=Math.max(a[3],b[3]);return c};p.min=(a,b,c=new p)=>{c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);c[3]=Math.min(a[3],b[3]);return c};p.minus=(a,b,c=new p)=>{c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c};
p.multiply=(a,b,c=new p)=>{c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c};p.multiplyScalar=(a,b,c=new p)=>{c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};p.negate=(a,b=new p)=>{b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b};p.normalize=(a,b=new p)=>{aa=a[0];ba=a[1];ca=a[2];da=a[3];rb=aa*aa+ba*ba+ca*ca+da*da;0<rb&&(rb=1/Math.sqrt(rb));b[0]=aa*rb;b[1]=ba*rb;b[2]=ca*rb;b[3]=da*rb;return b};p.round=(a,b=new p)=>{b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=
Math.round(a[2]);b[3]=Math.round(a[3]);return b};p.toString=a=>`(${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`;p.transformMatrix4=(a,b,c=new p)=>{aa=a[0];ba=a[1];ca=a[2];da=a[3];c[0]=b[0]*aa+b[4]*ba+b[8]*ca+b[12]*da;c[1]=b[1]*aa+b[5]*ba+b[9]*ca+b[13]*da;c[2]=b[2]*aa+b[6]*ba+b[10]*ca+b[14]*da;c[3]=b[3]*aa+b[7]*ba+b[11]*ca+b[15]*da;return c};p.transformQuat=(a,b,c=new p)=>{Sb=a[0];Tb=a[1];Ub=a[2];aa=b[0];ba=b[1];ca=b[2];da=b[3];fc=da*Sb+ba*Ub-ca*Tb;gc=da*Tb+ca*Sb-aa*Ub;hc=da*Ub+aa*Tb-ba*Sb;ic=-aa*Sb-ba*Tb-ca*
Ub;c[0]=fc*da+ic*-aa+gc*-ca-hc*-ba;c[1]=gc*da+ic*-ba+hc*-aa-fc*-ca;c[2]=hc*da+ic*-ca+fc*-ba-gc*-aa;c[3]=a[3];return c};l.COLOR_HEX_MAP=ub;l.ColorGPU=ea;l.ColorRGB=ja;l.ColorRGBA=ia;l.Constants=Sc;l.Cube=K;l.Easing=Tc;l.EulerAngle=Nb;l.Matrix2=x;l.Matrix3=r;l.Matrix4=m;l.Quaternion=w;l.Rectangle2=za;l.Sphere=Mb;l.Triangle3=fb;l.Vector2=f;l.Vector3=e;l.Vector4=p;l.ceilPowerOfTwo=a=>Math.pow(2,Math.ceil(Math.log(a)/Math.LN2));l.clamp=ta;l.clampCircle=(a,b,c)=>{Ab=c-b;Bb=Wb(b/Ab)*Ab+a%Ab;return Bb<b?
Bb+Ab:Bb>c?Bb-Ab:Bb};l.clampSafe=kb;l.closeTo=Aa;l.floorPowerOfTwo=a=>Math.pow(2,Math.floor(Math.log(a)/Math.LN2));l.floorToZero=Wb;l.isPowerOfTwo=a=>0===(a&a-1)&&0!==a;l.lerp=(a,b,c)=>(b-a)*c+a;l.mapRange=(a,b,c)=>{qc=b[1]-b[0];Jc=c[1]-c[0];return(a-.5*qc)/Jc/qc};l.randFloat=(a=0,b=1)=>a+Math.random()*(b-a);l.randInt=(a=0,b=1)=>a+Math.floor(Math.random()*(b-a+1));l.rndFloat=(a,b)=>a+Math.random()*(b-a);l.rndFloatRange=a=>a*(.5-Math.random());l.rndInt=(a,b)=>a+Math.floor(Math.random()*(b-a+1));l.sum=
(...a)=>Lc(a);l.sumArray=Lc;Object.defineProperty(l,"__esModule",{value:!0})});

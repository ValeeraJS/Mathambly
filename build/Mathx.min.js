'use strict';(function(r,hb){"object"===typeof exports&&"undefined"!==typeof module?hb(exports):"function"===typeof define&&define.amd?define(["exports"],hb):(r=r||self,hb(r.Mathx={}))})(this,function(r){class hb extends Uint8Array{constructor(a=0,b=0,c=0,d=255){super(4);this[0]=a;this[1]=b;this[2]=c;this[3]=d}get r(){return this[0]}set r(a){this[0]=a}get g(){return this[1]}set g(a){this[1]=a}get b(){return this[2]}set b(a){this[2]=a}get a(){return this[3]}set a(a){this[3]=a}}class rc extends Uint8Array{constructor(a=
0,b=0,c=0){super(3);this[0]=a;this[1]=b;this[2]=c}get r(){return this[0]}set r(a){this[0]=a}get g(){return this[1]}set g(a){this[1]=a}get b(){return this[2]}set b(a){this[2]=a}}var sc=Object.freeze({__proto__:null,create:(a=0,b=0,c=0,d=1,e=new Float32Array(4))=>{e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},createJson:(a=0,b=0,c=0,d=1)=>({r:a,g:b,b:c,a:d}),fromScalar:(a,b=1,c)=>{c[0]=a;c[1]=a;c[2]=a;c[3]=b;return c}}),Da=(a,b,c)=>Math.max(b,Math.min(c,a)),pb=a=>0>a?Math.ceil(a):Math.floor(a);let Za,$a;var Pa=
(a,b,c)=>b>c?Math.max(c,Math.min(b,a)):c>b?Math.max(b,Math.min(c,a)):b;const tc=2*Math.PI,Ia=Math.pow(2,-52);var ta=(a,b,c=Ia)=>Math.abs(a-b)<=c;let Xb=0,Ib=0;var Yb=a=>{Ib=0;Xb=a.length;for(let b=0;b<Xb;b++)Ib+=a[b];return Ib};let ua=0,va=0,Ea=0,Fa=0,ib=0,jb=0,kb=0,lb=0,Qa=0,Ja=0,Ka=0;const Zb=[1,0,0,1],uc=new Float32Array(Zb),$b=a=>a[0]*a[3]-a[1]*a[2];var vc=Object.freeze({__proto__:null,UNIT_MATRIX2:uc,add:(a,b,c)=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},adjoint:(a,
b)=>{ua=a[0];b[0]=a[3];b[1]=-a[1];b[2]=-a[2];b[3]=ua;return b},closeTo:(a,b)=>{ua=a[0];Ea=a[1];va=a[2];Fa=a[3];ib=b[0];kb=b[1];jb=b[2];lb=b[3];return ta(ua,ib)&&ta(va,jb)&&ta(Ea,kb)&&ta(Fa,lb)},create:(a=Zb)=>new Float32Array(a),determinant:$b,equals:(a,b)=>a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3],frobNorm:a=>Math.hypot(a[0],a[1],a[2],a[3]),from:(a,b=new Float32Array(4))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},fromRotation:(a,b=new Float32Array(4))=>{Ka=Math.sin(a);Ja=Math.cos(a);
b[0]=Ja;b[1]=Ka;b[2]=-Ka;b[3]=Ja;return b},fromScaling:(a,b=new Float32Array(4))=>{b[0]=a[0];b[1]=0;b[2]=0;b[3]=a[1];return b},identity:(a=new Float32Array(4))=>{a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},invert:function(a,b=new Float32Array(4)){ua=a[0];Ea=a[1];va=a[2];Fa=a[3];Qa=$b(a);if(!Qa)return null;Qa=1/Qa;b[0]=Fa*Qa;b[1]=-Ea*Qa;b[2]=-va*Qa;b[3]=ua*Qa;return b},minus:function(a,b,c=new Float32Array(4)){c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:(a,b,c=new Float32Array(4))=>
{ua=a[0];Ea=a[1];va=a[2];Fa=a[3];ib=b[0];kb=b[1];jb=b[2];lb=b[3];c[0]=ua*ib+va*kb;c[1]=Ea*ib+Fa*kb;c[2]=ua*jb+va*lb;c[3]=Ea*jb+Fa*lb;return c},multiplyScalar:(a,b,c=new Float32Array(4))=>{c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},rotate:(a,b,c=new Float32Array(4))=>{ua=a[0];Ea=a[1];va=a[2];Fa=a[3];Ka=Math.sin(b);Ja=Math.cos(b);c[0]=ua*Ja+va*Ka;c[1]=Ea*Ja+Fa*Ka;c[2]=ua*-Ka+va*Ja;c[3]=Ea*-Ka+Fa*Ja;return c},scale:(a,b,c=new Float32Array(4))=>{ua=a[0];Ea=a[1];va=a[2];Fa=a[3];Ja=b[0];
Ka=b[1];c[0]=ua*Ja;c[1]=Ea*Ja;c[2]=va*Ka;c[3]=Fa*Ka;return c},toString:function(a){return`mat2(${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`},transpose:(a,b=new Float32Array(4))=>{b===a?(va=a[1],b[1]=a[2],b[2]=va):(b[0]=a[0],b[1]=a[2],b[2]=a[1],b[3]=a[3]);return b}});let ca=0,X=0,Y=0,da=0,ea=0,Z=0,ia=0,ja=0,ka=0,qb=0,Va=0,rb=0,Wa=0,sb=0,tb=0,ub=0,Xa=0,vb=0,fa=0,ha=0;const ac=[1,0,0,0,1,0,0,0,1],wc=new Float32Array(ac);var xc=Object.freeze({__proto__:null,UNIT_MATRIX3:wc,cofactor00:a=>a[4]*a[8]-a[5]*a[7],cofactor01:a=>
a[1]*a[8]-a[7]*a[2],cofactor02:a=>a[1]*a[5]-a[4]*a[2],cofactor10:a=>a[3]*a[8]-a[6]*a[5],cofactor11:a=>a[0]*a[8]-a[6]*a[2],cofactor12:a=>a[0]*a[5]-a[3]*a[2],cofactor20:a=>a[3]*a[7]-a[6]*a[4],cofactor21:a=>a[0]*a[7]-a[6]*a[1],cofactor22:a=>a[0]*a[4]-a[3]*a[1],create:()=>new Float32Array(ac),determinant:a=>{ca=a[0];X=a[1];Y=a[2];ea=a[3];da=a[4];Z=a[5];ia=a[6];ja=a[7];ka=a[8];return ca*(ka*da-Z*ja)+X*(-ka*ea+Z*ia)+Y*(ja*ea-da*ia)},from:(a,b=new Float32Array(9))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];
b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},fromMatrix4:(a,b=new Float32Array(9))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b},fromRotation:(a,b=new Float32Array(9))=>{ha=Math.sin(a);fa=Math.cos(a);b[0]=fa;b[1]=ha;b[2]=0;b[3]=-ha;b[4]=fa;b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},fromScaling:(a,b)=>{b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=a[1];b[5]=0;b[6]=0;b[7]=0;b[8]=1;return b},fromTranslation:function(a,b=new Float32Array(9)){b[0]=
1;b[1]=0;b[2]=0;b[3]=0;b[4]=1;b[5]=0;b[6]=a[0];b[7]=a[1];b[8]=1;return b},identity:(a=new Float32Array(9))=>{a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},invert:(a,b)=>{ca=a[0];X=a[1];Y=a[2];ea=a[3];da=a[4];Z=a[5];ia=a[6];ja=a[7];ka=a[8];Va=ka*da-Z*ja;Wa=-ka*ea+Z*ia;Xa=ja*ea-da*ia;a=ca*Va+X*Wa+Y*Xa;if(!a)return null;a=1/a;b[0]=Va*a;b[1]=(-ka*X+Y*ja)*a;b[2]=(Z*X-Y*da)*a;b[3]=Wa*a;b[4]=(ka*ca-Y*ia)*a;b[5]=(-Z*ca+Y*ea)*a;b[6]=Xa*a;b[7]=(-ja*ca+X*ia)*a;b[8]=(da*ca-X*ea)*a;
return b},multiply:()=>(a,b,c=new Float32Array(9))=>{ca=a[0];X=a[1];Y=a[2];ea=a[3];da=a[4];Z=a[5];ia=a[6];ja=a[7];ka=a[8];qb=b[0];Va=b[1];rb=b[2];sb=b[3];Wa=b[4];tb=b[5];ub=b[6];Xa=b[7];vb=b[8];c[0]=qb*ca+Va*ea+rb*ia;c[1]=qb*X+Va*da+rb*ja;c[2]=qb*Y+Va*Z+rb*ka;c[3]=sb*ca+Wa*ea+tb*ia;c[4]=sb*X+Wa*da+tb*ja;c[5]=sb*Y+Wa*Z+tb*ka;c[6]=ub*ca+Xa*ea+vb*ia;c[7]=ub*X+Xa*da+vb*ja;c[8]=ub*Y+Xa*Z+vb*ka;return c},rotate:(a,b,c=new Float32Array(9))=>{ca=a[0];X=a[1];Y=a[2];ea=a[3];da=a[4];Z=a[5];ia=a[6];ja=a[7];ka=
a[8];ha=Math.sin(b);fa=Math.cos(b);c[0]=fa*ca+ha*ea;c[1]=fa*X+ha*da;c[2]=fa*Y+ha*Z;c[3]=ha*ea-fa*ca;c[4]=ha*da-fa*X;c[5]=ha*Z-fa*Y;c[6]=ia;c[7]=ja;c[8]=ka;return c},scale:function(a,b,c=new Float32Array(9)){fa=b[0];ha=b[1];c[0]=fa*a[0];c[1]=fa*a[1];c[2]=fa*a[2];c[3]=ha*a[3];c[4]=ha*a[4];c[5]=ha*a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c},translate:(a,b,c=new Float32Array(9))=>{ca=a[0];X=a[1];Y=a[2];ea=a[3];da=a[4];Z=a[5];ia=a[6];ja=a[7];ka=a[8];fa=b[0];ha=b[1];c[0]=ca;c[1]=X;c[2]=Y;c[3]=ea;c[4]=
da;c[5]=Z;c[6]=fa*ca+ha*ea+ia;c[7]=fa*X+ha*da+ja;c[8]=fa*Y+ha*Z+ka;return c},transpose:(a,b=new Float32Array(9))=>{b===a?(X=a[1],Y=a[2],Z=a[5],b[1]=a[3],b[2]=a[6],b[3]=X,b[5]=a[7],b[6]=Y,b[7]=Z):(b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8]);return b}}),Ra;(function(a){a.XYZ="xyz";a.ZXY="zxy";a.YZX="yzx";a.XZY="xzy";a.ZYX="zyx";a.YXZ="yxz"})(Ra||(Ra={}));let w=0,t=0,u=0,x=0,y=0,z=0,v=0,A=0,B=0,C=0,D=0,E=0,la=0,ma=0,na=0,wa=0,n=0,k=0,p=0,F=0,Sa=0,Ta=0,Ya=
0,bc=0,Ba=0,Ca=0,La=0,ab=0,bb=0,cb=0,db=0,eb=0,l=0,m=0,h=0,aa=0,xa=0,g=0,ba=0,U=0,Q=0,f=0,R=0,V=0,S=0;const cc=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),yc=new Float32Array(cc),dc=(a=new Float32Array(16))=>{a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};var zc=Object.freeze({__proto__:null,UNIT_MATRIX4:yc,create:()=>new Float32Array(cc),determinant:a=>{w=a[0];t=a[1];u=a[2];x=a[3];z=a[4];y=a[5];v=a[6];A=a[7];B=
a[8];C=a[9];D=a[10];E=a[11];ma=a[12];la=a[13];na=a[14];wa=a[15];n=w*y-t*z;k=w*v-u*z;p=t*v-u*y;F=B*la-C*ma;Ta=B*na-D*ma;Sa=C*na-D*la;Ya=w*Sa-t*Ta+u*F;bc=z*Sa-y*Ta+v*F;Ba=B*p-C*k+D*n;Ca=ma*p-la*k+na*n;return A*Ya-x*bc+wa*Ba-E*Ca},from:(a,b=new Float32Array(16))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},fromEuler:(a,b=new Float32Array(16))=>{l=a.x;m=a.y;h=a.z;
U=Math.cos(l);Q=Math.sin(l);f=Math.cos(m);R=Math.sin(m);V=Math.cos(h);S=Math.sin(h);if(a.order===Ra.XYZ){a=U*V;var c=U*S,d=Q*V,e=Q*S;b[0]=f*V;b[4]=-f*S;b[8]=R;b[1]=c+d*R;b[5]=a-e*R;b[9]=-Q*f;b[2]=e-a*R;b[6]=d+c*R;b[10]=U*f}else a.order===Ra.YXZ?(a=f*V,c=f*S,d=R*V,e=R*S,b[0]=a+e*Q,b[4]=d*Q-c,b[8]=U*R,b[1]=U*S,b[5]=U*V,b[9]=-Q,b[2]=c*Q-d,b[6]=e+a*Q,b[10]=U*f):a.order===Ra.ZXY?(a=f*V,c=f*S,d=R*V,e=R*S,b[0]=a-e*Q,b[4]=-U*S,b[8]=d+c*Q,b[1]=c+d*Q,b[5]=U*V,b[9]=e-a*Q,b[2]=-U*R,b[6]=Q,b[10]=U*f):a.order===
Ra.ZYX?(a=U*V,c=U*S,d=Q*V,e=Q*S,b[0]=f*V,b[4]=d*R-c,b[8]=a*R+e,b[1]=f*S,b[5]=e*R+a,b[9]=c*R-d,b[2]=-R,b[6]=Q*f,b[10]=U*f):a.order===Ra.YZX?(a=U*f,c=U*R,d=Q*f,e=Q*R,b[0]=f*V,b[4]=e-a*S,b[8]=d*S+c,b[1]=S,b[5]=U*V,b[9]=-Q*V,b[2]=-R*V,b[6]=c*S+d,b[10]=a-e*S):a.order===Ra.XZY&&(a=U*f,c=U*R,d=Q*f,e=Q*R,b[0]=f*V,b[4]=-S,b[8]=R*V,b[1]=a*S+e,b[5]=U*V,b[9]=c*S-d,b[2]=d*S-c,b[6]=Q*V,b[10]=e*S+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromQuaternion:function(a,b){var c=a[0],d=a[1],e=
a[2];a=a[3];var f=c+c,T=d+d;let g=e+e;c*=f;let l=d*f;d*=T;let m=e*f,h=e*T;e*=g;f*=a;T*=a;a*=g;b[0]=1-d-e;b[1]=l+a;b[2]=m-T;b[3]=0;b[4]=l-a;b[5]=1-c-e;b[6]=h+f;b[7]=0;b[8]=m+T;b[9]=h-f;b[10]=1-c-d;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromRotation:(a,b,c)=>{l=b[0];m=b[1];h=b[2];xa=Math.hypot(l,m,h);if(xa<Ia)return null;xa=1/xa;l*=xa;m*=xa;h*=xa;g=Math.sin(a);f=Math.cos(a);ba=1-f;c[0]=l*l*ba+f;c[1]=m*l*ba+h*g;c[2]=h*l*ba-m*g;c[3]=0;c[4]=l*m*ba-h*g;c[5]=m*m*ba+f;c[6]=h*m*ba+l*g;c[7]=0;c[8]=
l*h*ba+m*g;c[9]=m*h*ba-l*g;c[10]=h*h*ba+f;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c},fromRotationX:(a,b)=>{g=Math.sin(a);f=Math.cos(a);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=f;b[6]=g;b[7]=0;b[8]=0;b[9]=-g;b[10]=f;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromRotationY:(a,b)=>{g=Math.sin(a);f=Math.cos(a);b[0]=f;b[1]=0;b[2]=-g;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=g;b[9]=0;b[10]=f;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromRotationZ:(a,b)=>{g=Math.sin(a);f=Math.cos(a);b[0]=
f;b[1]=g;b[2]=0;b[3]=0;b[4]=-g;b[5]=f;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromScaling:(a,b=new Float32Array(16))=>{b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=a[1];b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=a[2];b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},fromTranslation:(a,b=new Float32Array(16))=>{b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=a[0];b[13]=a[1];b[14]=a[2];b[15]=1;return b},identity:dc,invert:function(a,
b=new Float32Array(16)){w=a[0];t=a[1];u=a[2];x=a[3];z=a[4];y=a[5];v=a[6];A=a[7];B=a[8];C=a[9];D=a[10];E=a[11];ma=a[12];la=a[13];na=a[14];wa=a[15];n=w*y-t*z;k=w*v-u*z;p=w*A-x*z;F=t*v-u*y;Ba=t*A-x*y;Ca=u*A-x*v;La=B*la-C*ma;ab=B*na-D*ma;cb=B*wa-E*ma;bb=C*na-D*la;db=C*wa-E*la;eb=D*wa-E*na;aa=n*eb-k*db+p*bb+F*cb-Ba*ab+Ca*La;if(!aa)return null;aa=1/aa;b[0]=(y*eb-v*db+A*bb)*aa;b[1]=(u*db-t*eb-x*bb)*aa;b[2]=(la*Ca-na*Ba+wa*F)*aa;b[3]=(D*Ba-C*Ca-E*F)*aa;b[4]=(v*cb-z*eb-A*ab)*aa;b[5]=(w*eb-u*cb+x*ab)*aa;b[6]=
(na*p-ma*Ca-wa*k)*aa;b[7]=(B*Ca-D*p+E*k)*aa;b[8]=(z*db-y*cb+A*La)*aa;b[9]=(t*cb-w*db-x*La)*aa;b[10]=(ma*Ba-la*p+wa*n)*aa;b[11]=(C*p-B*Ba-E*n)*aa;b[12]=(y*ab-z*bb-v*La)*aa;b[13]=(w*bb-t*ab+u*La)*aa;b[14]=(la*k-ma*F-na*n)*aa;b[15]=(B*F-C*k+D*n)*aa;return b},lookAt:(a,b,c,d)=>{let e,f;let T,g=a[0],l=a[1];a=a[2];var m=c[0];var h=c[1];var n=c[2];var k=b[0];c=b[1];var p=b[2];if(Math.abs(g-k)<Ia&&Math.abs(l-c)<Ia&&Math.abs(a-p)<Ia)return dc(d);b=g-k;c=l-c;k=a-p;T=1/Math.hypot(b,c,k);b*=T;c*=T;k*=T;p=h*k-
n*c;n=n*b-m*k;m=m*c-h*b;(T=Math.hypot(p,n,m))?(T=1/T,p*=T,n*=T,m*=T):m=n=p=0;h=c*m-k*n;e=k*p-b*m;f=b*n-c*p;(T=Math.hypot(h,e,f))?(T=1/T,h*=T,e*=T,f*=T):f=e=h=0;d[0]=p;d[1]=h;d[2]=b;d[3]=0;d[4]=n;d[5]=e;d[6]=c;d[7]=0;d[8]=m;d[9]=f;d[10]=k;d[11]=0;d[12]=-(p*g+n*l+m*a);d[13]=-(h*g+e*l+f*a);d[14]=-(b*g+c*l+k*a);d[15]=1;return d},multiply:(a,b,c=new Float32Array(16))=>{w=a[0];t=a[1];u=a[2];x=a[3];z=a[4];y=a[5];v=a[6];A=a[7];B=a[8];C=a[9];D=a[10];E=a[11];ma=a[12];la=a[13];na=a[14];wa=a[15];n=b[0];k=b[1];
p=b[2];F=b[3];c[0]=n*w+k*z+p*B+F*ma;c[1]=n*t+k*y+p*C+F*la;c[2]=n*u+k*v+p*D+F*na;c[3]=n*x+k*A+p*E+F*wa;n=b[4];k=b[5];p=b[6];F=b[7];c[4]=n*w+k*z+p*B+F*ma;c[5]=n*t+k*y+p*C+F*la;c[6]=n*u+k*v+p*D+F*na;c[7]=n*x+k*A+p*E+F*wa;n=b[8];k=b[9];p=b[10];F=b[11];c[8]=n*w+k*z+p*B+F*ma;c[9]=n*t+k*y+p*C+F*la;c[10]=n*u+k*v+p*D+F*na;c[11]=n*x+k*A+p*E+F*wa;n=b[12];k=b[13];p=b[14];F=b[15];c[12]=n*w+k*z+p*B+F*ma;c[13]=n*t+k*y+p*C+F*la;c[14]=n*u+k*v+p*D+F*na;c[15]=n*x+k*A+p*E+F*wa;return c},orthogonal:(a,b,c,d,e,f,g)=>{let m=
1/(a-b),h=1/(c-d),l=1/(e-f);g[0]=-2*m;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=-2*h;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=2*l;g[11]=0;g[12]=(a+b)*m;g[13]=(d+c)*h;g[14]=(f+e)*l;g[15]=1;return g},perspective:(a,b,c,d,e)=>{a=1/Math.tan(a/2);e[0]=a/b;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=a;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[11]=-1;e[12]=0;e[13]=0;e[15]=0;null!=d&&Infinity!==d?(b=1/(c-d),e[10]=(d+c)*b,e[14]=2*d*c*b):(e[10]=-1,e[14]=-2*c);return e},rotate:(a,b,c,d)=>{l=c[0];m=c[1];h=c[2];xa=Math.hypot(l,m,h);if(xa<Ia)return null;
xa=1/xa;l*=xa;m*=xa;h*=xa;g=Math.sin(b);f=Math.cos(b);ba=1-f;w=a[0];t=a[1];u=a[2];x=a[3];z=a[4];y=a[5];v=a[6];A=a[7];B=a[8];C=a[9];D=a[10];E=a[11];n=l*l*ba+f;k=m*l*ba+h*g;p=h*l*ba-m*g;Ta=l*m*ba-h*g;Sa=m*m*ba+f;Ya=h*m*ba+l*g;Ba=l*h*ba+m*g;Ca=m*h*ba-l*g;La=h*h*ba+f;d[0]=w*n+z*k+B*p;d[1]=t*n+y*k+C*p;d[2]=u*n+v*k+D*p;d[3]=x*n+A*k+E*p;d[4]=w*Ta+z*Sa+B*Ya;d[5]=t*Ta+y*Sa+C*Ya;d[6]=u*Ta+v*Sa+D*Ya;d[7]=x*Ta+A*Sa+E*Ya;d[8]=w*Ba+z*Ca+B*La;d[9]=t*Ba+y*Ca+C*La;d[10]=u*Ba+v*Ca+D*La;d[11]=x*Ba+A*Ca+E*La;a!==d&&
(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]);return d},rotateX:(a,b,c)=>{g=Math.sin(b);f=Math.cos(b);z=a[4];y=a[5];v=a[6];A=a[7];B=a[8];C=a[9];D=a[10];E=a[11];a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[4]=z*f+B*g;c[5]=y*f+C*g;c[6]=v*f+D*g;c[7]=A*f+E*g;c[8]=B*f-z*g;c[9]=C*f-y*g;c[10]=D*f-v*g;c[11]=E*f-A*g;return c},rotateY:function(a,b,c){g=Math.sin(b);f=Math.cos(b);w=a[0];t=a[1];u=a[2];x=a[3];B=a[8];C=a[9];D=a[10];E=a[11];a!==c&&(c[4]=a[4],
c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=w*f-B*g;c[1]=t*f-C*g;c[2]=u*f-D*g;c[3]=x*f-E*g;c[8]=w*g+B*f;c[9]=t*g+C*f;c[10]=u*g+D*f;c[11]=x*g+E*f;return c},rotateZ:(a,b,c)=>{g=Math.sin(b);f=Math.cos(b);w=a[0];t=a[1];u=a[2];x=a[3];z=a[4];y=a[5];v=a[6];A=a[7];a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);c[0]=w*f+z*g;c[1]=t*f+y*g;c[2]=u*f+v*g;c[3]=x*f+A*g;c[4]=z*f-w*g;c[5]=y*f-t*g;c[6]=v*f-u*g;c[7]=A*f-x*g;
return c},scale:(a,b,c=new Float32Array(16))=>{l=b[0];m=b[1];h=b[2];c[0]=a[0]*l;c[1]=a[1]*l;c[2]=a[2]*l;c[3]=a[3]*l;c[4]=a[4]*m;c[5]=a[5]*m;c[6]=a[6]*m;c[7]=a[7]*m;c[8]=a[8]*h;c[9]=a[9]*h;c[10]=a[10]*h;c[11]=a[11]*h;c!==a&&(c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c},targetTo:(a,b,c,d=new Float32Array(16))=>{let e=a[0],f=a[1];a=a[2];var g=c[0];let m=c[1];var h=c[2];c=e-b[0];let l=f-b[1];b=a-b[2];let k=c*c+l*l+b*b;0<k&&(k=1/Math.sqrt(k),c*=k,l*=k,b*=k);let n=m*b-h*l;h=h*c-g*b;g=g*l-
m*c;k=n*n+h*h+g*g;0<k&&(k=1/Math.sqrt(k),n*=k,h*=k,g*=k);d[0]=n;d[1]=h;d[2]=g;d[3]=0;d[4]=l*g-b*h;d[5]=b*n-c*g;d[6]=c*h-l*n;d[7]=0;d[8]=c;d[9]=l;d[10]=b;d[11]=0;d[12]=e;d[13]=f;d[14]=a;d[15]=1;return d},translate:(a,b,c=new Float32Array(16))=>{l=b[0];m=b[1];h=b[2];a===c?(c[12]=a[0]*l+a[4]*m+a[8]*h+a[12],c[13]=a[1]*l+a[5]*m+a[9]*h+a[13],c[14]=a[2]*l+a[6]*m+a[10]*h+a[14],c[15]=a[3]*l+a[7]*m+a[11]*h+a[15]):(w=a[0],t=a[1],u=a[2],x=a[3],z=a[4],y=a[5],v=a[6],A=a[7],B=a[8],C=a[9],D=a[10],E=a[11],c[0]=w,
c[1]=t,c[2]=u,c[3]=x,c[4]=z,c[5]=y,c[6]=v,c[7]=A,c[8]=B,c[9]=C,c[10]=D,c[11]=E,c[12]=w*l+z*m+B*h+a[12],c[13]=t*l+y*m+C*h+a[13],c[14]=u*l+v*m+D*h+a[14],c[15]=x*l+A*m+E*h+a[15]);return c},transpose:(a,b=new Float32Array(16))=>{b===a?(t=a[1],u=a[2],x=a[3],v=a[6],A=a[7],E=a[11],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=t,b[6]=a[9],b[7]=a[13],b[8]=u,b[9]=v,b[11]=a[14],b[12]=x,b[13]=A,b[14]=E):(b[0]=a[0],b[1]=a[4],b[2]=a[8],b[3]=a[12],b[4]=a[1],b[5]=a[5],b[6]=a[9],b[7]=a[13],b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=
a[14],b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15]);return b}});let q,G,H,oa,Ga,Ha,ya,Jb;const wb=(a,b,c=new Float32Array(3))=>{q=a[0];G=a[1];H=a[2];oa=b[0];Ga=b[1];Ha=b[2];c[0]=G*Ha-H*Ga;c[1]=H*oa-q*Ha;c[2]=q*Ga-G*oa;return c},ec=(a,b,c=new Float32Array(3))=>{c[0]=a[0]/b;c[1]=a[1]/b;c[2]=a[2]/b;return c},xb=(a,b)=>a[0]*b[0]+a[1]*b[1]+a[2]*b[2],yb=a=>a[0]*a[0]+a[1]*a[1]+a[2]*a[2],fc=(a,b,c=new Float32Array(3))=>{c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},Kb=(a,b=new Float32Array(3))=>ec(a,Math.sqrt(yb(a))||
1,b),Ac=new Float32Array([0,0,0]),Bc=new Float32Array([1,1,1]),gc=new Float32Array([0,1,0]),Cc=new Float32Array([0,-1,0]),hc=new Float32Array([-1,0,0]),Dc=new Float32Array([1,0,0]),Ec=new Float32Array([0,0,-1]),Fc=new Float32Array([0,0,1]);var Gc=Object.freeze({__proto__:null,add:(a,b,c=new Float32Array(3))=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},addScalar:(a,b,c=new Float32Array(3))=>{c[0]=a[0]+b;c[1]=a[1]+b;c[2]=a[2]+b;return c},angle:(a,b)=>{q=a[0];G=a[1];H=a[2];oa=b[0];Ga=b[1];
Ha=b[2];let c=Math.sqrt(q*q+G*G+H*H)*Math.sqrt(oa*oa+Ga*Ga+Ha*Ha);a=c&&xb(a,b)/c;return Math.acos(Da(a,-1,1))},clamp:(a,b,c,d=new Float32Array(3))=>{d[0]=Da(a[0],b[0],c[0]);d[1]=Da(a[1],b[1],c[1]);d[2]=Da(a[2],b[2],c[2]);return d},clampSafe:(a,b,c,d=new Float32Array(3))=>{d[0]=Pa(a[0],b[0],c[0]);d[1]=Pa(a[1],b[1],c[1]);d[1]=Pa(a[2],b[2],c[2]);return d},clampScalar:(a,b,c,d=new Float32Array(3))=>{d[0]=Da(a[0],b,c);d[1]=Da(a[1],b,c);d[2]=Da(a[2],b,c);return d},clone:(a,b=new Float32Array(3))=>{b[0]=
a[0];b[1]=a[1];b[2]=a[2];return b},closeTo:(a,b)=>ta(a[0],b[0])&&ta(a[1],b[1])&&ta(a[2],b[2]),create:(a,b=0,c,d=new Float32Array(3))=>{d[0]=a;d[1]=b;d[2]=c;return d},cross:wb,distanceTo:(a,b)=>{q=b[0]-a[0];G=b[1]-a[1];H=b[2]-a[2];return Math.hypot(q,G,H)},distanceToManhattan:(a,b)=>Math.abs(a[0]-b[0])+Math.abs(a[1]-b[1])+Math.abs(a[2]-b[2]),distanceToSquared:(a,b)=>{q=a[0]-b[0];G=a[1]-b[1];H=a[2]-b[2];return q*q+G*G+H*H},divide:(a,b,c=new Float32Array(3))=>{c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/
b[2];return c},divideScalar:ec,dot:xb,equals:(a,b)=>a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2],from:(a,b=new Float32Array(3))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},fromArray:(a,b=0,c=new Float32Array(3))=>{c[0]=a[b];c[1]=a[b+1];c[2]=a[b+2];return c},fromScalar:(a,b=new Float32Array(3))=>{b[0]=b[1]=b[2]=a;return b},fromValues:(a,b,c,d=new Float32Array(3))=>{d[0]=a;d[1]=b;d[2]=c;return d},hermite:(a,b,c,d,e,f=new Float32Array(3))=>{ya=e*e;let g=ya*(2*e-3)+1,h=ya*(e-2)+e,k=ya*(e-1);e=ya*(3-2*e);f[0]=
a[0]*g+b[0]*h+c[0]*k+d[0]*e;f[1]=a[1]*g+b[1]*h+c[1]*k+d[1]*e;f[2]=a[2]*g+b[2]*h+c[2]*k+d[2]*e;return f},inverse:(a,b=new Float32Array(3))=>{b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];return b},length:a=>Math.sqrt(yb(a)),lengthManhattan:a=>Math.abs(a[0])+Math.abs(a[1])+Math.abs(a[2]),lengthSquared:yb,lerp:(a,b,c,d=new Float32Array(3))=>{d[0]+=(b[0]-a[0])*c;d[1]+=(b[1]-a[1])*c;d[2]+=(b[2]-a[2])*c;return d},max:(a,b,c=new Float32Array(3))=>{c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],
b[2]);return c},min:(a,b,c=new Float32Array(3))=>{c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c},minus:(a,b,c=new Float32Array(3))=>{c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},minusScalar:(a,b,c=new Float32Array(3))=>{c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]-b;return c},multiply:(a,b,c=new Float32Array(3))=>{c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c},multiplyScalar:fc,negate:(a,b=new Float32Array(3))=>{b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},
normalize:Kb,rotateX:(a,b,c,d)=>{q=a[0]-b[0];G=a[1]-b[1];H=a[2]-b[2];oa=q;Ga=G*Math.cos(c)-H*Math.sin(c);Ha=G*Math.sin(c)+H*Math.cos(c);d[0]=oa+b[0];d[1]=Ga+b[1];d[2]=Ha+b[2];return d},rotateY:(a,b,c,d)=>{q=a[0]-b[0];G=a[1]-b[1];H=a[2]-b[2];oa=H*Math.sin(c)+q*Math.cos(c);Ga=G;Ha=H*Math.cos(c)-q*Math.sin(c);d[0]=oa+b[0];d[1]=Ga+b[1];d[2]=Ha+b[2];return d},rotateZ:(a,b,c,d)=>{q=a[0]-b[0];G=a[1]-b[1];H=a[2]-b[2];oa=q*Math.cos(c)-G*Math.sin(c);Ga=q*Math.sin(c)+G*Math.cos(c);Ha=H;d[0]=oa+b[0];d[1]=Ga+
b[1];d[2]=Ha+b[2];return d},round:(a,b=new Float32Array(3))=>{b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);return b},set:(a=0,b=0,c=0,d=new Float32Array(3))=>{d[0]=a;d[1]=b;d[2]=c;return d},setLength:(a,b,c=new Float32Array(3))=>fc(Kb(a,c),b,c),slerp:(a,b,c,d=new Float32Array(3))=>{ya=Math.acos(Math.min(Math.max(xb(a,b),-1),1));Jb=Math.sin(ya);q=Math.sin((1-c)*ya)/Jb;oa=Math.sin(c*ya)/Jb;d[0]=q*a[0]+oa*b[0];d[1]=q*a[1]+oa*b[1];d[2]=q*a[2]+oa*b[2];return d},toString:a=>`vec3(${a[0]}, ${a[1]}, ${a[2]})`,
transformMatrix3:(a,b,c)=>{q=a[0];G=a[1];H=a[2];c[0]=q*b[0]+G*b[3]+H*b[6];c[1]=q*b[1]+G*b[4]+H*b[7];c[2]=q*b[2]+G*b[5]+H*b[8];return c},transformMatrix4:function(a,b,c=new Float32Array(3)){q=a[0];G=a[1];H=a[2];ya=(ya=b[3]*q+b[7]*G+b[11]*H+b[15])||1;c[0]=(b[0]*q+b[4]*G+b[8]*H+b[12])/ya;c[1]=(b[1]*q+b[5]*G+b[9]*H+b[13])/ya;c[2]=(b[2]*q+b[6]*G+b[10]*H+b[14])/ya;return c},transformQuat:(a,b,c=new Float32Array(3))=>{let d=b[0],e=b[1],f=b[2],g=a[0],h=a[1];a=a[2];let k=e*a-f*h,l=f*g-d*a,m=d*h-e*g;b=2*b[3];
c[0]=g+k*b+2*(e*m-f*l);c[1]=h+l*b+2*(f*k-d*m);c[2]=a+m*b+2*(d*l-e*k);return c},VECTOR3_ZERO:Ac,VECTOR3_ONE:Bc,VECTOR3_TOP:gc,VECTOR3_BOTTOM:Cc,VECTOR3_LEFT:hc,VECTOR3_RIGHT:Dc,VECTOR3_FRONT:Ec,VECTOR3_BACK:Fc});let I,J,K,L,mb,nb,ob,Ua,zb,Ab,Bb,Cb,Lb,Mb,Nb,Ob,Pb,Qb,Db,Eb,Fb,Gb;const Rb=(a,b)=>a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],ic=(a,b,c,d=new Float32Array(4))=>{I=a[0];J=a[1];K=a[2];L=a[3];d[0]=I+c*(b[0]-I);d[1]=J+c*(b[1]-J);d[2]=K+c*(b[2]-K);d[3]=L+c*(b[3]-L);return d},jc=(a,b=new Float32Array(4))=>
{I=a[0];J=a[1];K=a[2];L=a[3];Ua=I*I+J*J+K*K+L*L;0<Ua&&(Ua=1/Math.sqrt(Ua));b[0]=I*Ua;b[1]=J*Ua;b[2]=K*Ua;b[3]=L*Ua;return b};var Hc=Object.freeze({__proto__:null,add:(a,b,c=new Float32Array(4))=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},ceil:function(a,b=new Float32Array(4)){b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);b[2]=Math.ceil(a[2]);b[3]=Math.ceil(a[3]);return b},closeTo:(a,b)=>ta(a[0],b[0])&&ta(a[1],b[1])&&ta(a[2],b[2])&&ta(a[3],b[3]),create:(a=0,b=0,c=0,d=0,e=new Float32Array(4))=>
{e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},cross:(a,b,c,d=new Float32Array(4))=>{Lb=b[0]*c[1]-b[1]*c[0];Mb=b[0]*c[2]-b[2]*c[0];Nb=b[0]*c[3]-b[3]*c[0];Ob=b[1]*c[2]-b[2]*c[1];Pb=b[1]*c[3]-b[3]*c[1];Qb=b[2]*c[3]-b[3]*c[2];Db=a[0];Eb=a[1];Fb=a[2];Gb=a[3];d[0]=Eb*Qb-Fb*Pb+Gb*Ob;d[1]=-(Db*Qb)+Fb*Nb-Gb*Mb;d[2]=Db*Pb-Eb*Nb+Gb*Lb;d[3]=-(Db*Ob)+Eb*Mb-Fb*Lb;return d},distanceTo:(a,b)=>{I=b[0]-a[0];J=b[1]-a[1];K=b[2]-a[2];L=b[3]-a[3];return Math.hypot(I,J,K,L)},distanceToSquared:(a,b)=>{I=b[0]-a[0];J=b[1]-a[1];K=
b[2]-a[2];L=b[3]-a[3];return I*I+J*J+K*K+L*L},divide:(a,b,c=new Float32Array(4))=>{c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c},dot:Rb,equals:(a,b)=>a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3],floor:function(a,b){b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);b[2]=Math.floor(a[2]);b[3]=Math.floor(a[3]);return b},from:(a,b=new Float32Array(4))=>{b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},fromValues:(a,b,c,d,e=new Float32Array(4))=>{e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},
inverse:(a,b=new Float32Array(4))=>{b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];b[3]=1/a[3];return b},length:a=>Math.hypot(a[0],a[1],a[2],a[3]),lengthSquared:a=>{I=a[0];J=a[1];K=a[2];L=a[3];return I*I+J*J+K*K+L*L},lerp:ic,max:(a,b,c=new Float32Array(4))=>{c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);c[3]=Math.max(a[3],b[3]);return c},min:(a,b,c=new Float32Array(4))=>{c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);c[3]=Math.min(a[3],b[3]);return c},
minus:(a,b,c=new Float32Array(4))=>{c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:(a,b,c=new Float32Array(4))=>{c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c},multiplyScalar:(a,b,c=new Float32Array(4))=>{c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},negate:(a,b=new Float32Array(4))=>{b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},normalize:jc,round:(a,b=new Float32Array(4))=>{b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=
Math.round(a[2]);b[3]=Math.round(a[3]);return b},toString:function(a){return`vec4(${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`},transformMatrix4:function(a,b,c=new Float32Array(4)){I=a[0];J=a[1];K=a[2];L=a[3];c[0]=b[0]*I+b[4]*J+b[8]*K+b[12]*L;c[1]=b[1]*I+b[5]*J+b[9]*K+b[13]*L;c[2]=b[2]*I+b[6]*J+b[10]*K+b[14]*L;c[3]=b[3]*I+b[7]*J+b[11]*K+b[15]*L;return c},transformQuat:(a,b,c=new Float32Array(4))=>{mb=a[0];nb=a[1];ob=a[2];I=b[0];J=b[1];K=b[2];L=b[3];zb=L*mb+J*ob-K*nb;Ab=L*nb+K*mb-I*ob;Bb=L*ob+I*nb-J*mb;Cb=
-I*mb-J*nb-K*ob;c[0]=zb*L+Cb*-I+Ab*-K-Bb*-J;c[1]=Ab*L+Cb*-J+Bb*-I-zb*-K;c[2]=Bb*L+Cb*-K+zb*-J-Ab*-I;c[3]=a[3];return c}});let N,O,P,W,pa,qa,ra,M,sa=0,za=0,Sb=0,Oa=0,Hb=0,fb=0,gb=0,Na=new Float32Array(3);const kc=(a,b,c=new Float32Array(4))=>{b*=.5;sa=Math.sin(b);c[0]=sa*a[0];c[1]=sa*a[1];c[2]=sa*a[2];c[3]=Math.cos(b);return c};var Ic=Object.freeze({__proto__:null,angleTo:(a,b)=>{Oa=Rb(a,b);return Math.acos(2*Oa*Oa-1)},conjugate:(a,b=new Float32Array(4))=>{b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];
return b},create:(a=0,b=0,c=0,d=1,e=new Float32Array(4))=>{e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},dot:Rb,fromAxisAngle:kc,fromMatrix3:function(a,b){var c=a[0]+a[4]+a[8];if(0<c)c=Math.sqrt(c+1),b[3]=.5*c,c=.5/c,b[0]=(a[5]-a[7])*c,b[1]=(a[6]-a[2])*c,b[2]=(a[1]-a[3])*c;else{let d=0;a[4]>a[0]&&(d=1);a[8]>a[3*d+d]&&(d=2);let e=(d+1)%3,f=(d+2)%3;c=Math.sqrt(a[3*d+d]-a[3*e+e]-a[3*f+f]+1);b[d]=.5*c;c=.5/c;b[3]=(a[3*e+f]-a[3*f+e])*c;b[e]=(a[3*e+d]+a[3*d+e])*c;b[f]=(a[3*f+d]+a[3*d+f])*c}return b},identity:(a=
new Float32Array(4))=>{a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a},invert:(a,b=new Float32Array(4))=>{N=a[0];O=a[1];P=a[2];W=a[3];(Oa=N*N+O*O+P*P+W*W)?(za=1/Oa,b[0]=-N*za,b[1]=-O*za,b[2]=-P*za,b[3]=W*za):(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b},lerp:ic,multiply:(a,b,c)=>{N=a[0];O=a[1];P=a[2];W=a[3];pa=b[0];qa=b[1];ra=b[2];M=b[3];c[0]=N*M+W*pa+O*ra-P*qa;c[1]=O*M+W*qa+P*pa-N*ra;c[2]=P*M+W*ra+N*qa-O*pa;c[3]=W*M-N*pa-O*qa-P*ra;return c},random:a=>{N=Math.random();O=Math.random();P=Math.random();za=Math.sqrt(1-
N);sa=Math.sqrt(N);a[0]=za*Math.sin(2*Math.PI*O);a[1]=za*Math.cos(2*Math.PI*O);a[2]=sa*Math.sin(2*Math.PI*P);a[3]=sa*Math.cos(2*Math.PI*P);return a},rotationTo:(a,b,c)=>{Oa=xb(a,b);if(-.999999>Oa)return wb(hc,a,Na),1E-6>Math.sqrt(yb(Na))&&wb(gc,a,Na),Kb(Na,Na),kc(Na,Math.PI,c),c;if(.999999<Oa)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;wb(Na,a,b);c[0]=Na[0];c[1]=Na[1];c[2]=Na[2];c[3]=1+Oa;return jc(c,c)},rotateX:(a,b,c)=>{b*=.5;N=a[0];O=a[1];P=a[2];W=a[3];pa=Math.sin(b);M=Math.cos(b);c[0]=N*M+W*pa;c[1]=
O*M+P*pa;c[2]=P*M-O*pa;c[3]=W*M-N*pa;return c},rotateY:(a,b,c)=>{b*=.5;N=a[0];O=a[1];P=a[2];W=a[3];qa=Math.sin(b);M=Math.cos(b);c[0]=N*M-P*qa;c[1]=O*M+W*qa;c[2]=P*M+N*qa;c[3]=W*M-O*qa;return c},rotateZ:(a,b,c)=>{b*=.5;N=a[0];O=a[1];P=a[2];W=a[3];ra=Math.sin(b);M=Math.cos(b);c[0]=N*M+O*ra;c[1]=O*M-N*ra;c[2]=P*M+W*ra;c[3]=W*M-P*ra;return c},slerp:(a,b,c,d)=>{N=a[0];O=a[1];P=a[2];W=a[3];pa=b[0];qa=b[1];ra=b[2];M=b[3];za=N*pa+O*qa+P*ra+W*M;0>za&&(za=-za,pa=-pa,qa=-qa,ra=-ra,M=-M);1-za>Ia?(Hb=Math.acos(za),
sa=Math.sin(Hb),fb=Math.sin((1-c)*Hb)/sa,gb=Math.sin(c*Hb)/sa):(fb=1-c,gb=c);d[0]=fb*N+gb*pa;d[1]=fb*O+gb*qa;d[2]=fb*P+gb*ra;d[3]=fb*W+gb*M;return d},toAxisAngle:(a,b=new Float32Array(3))=>{Sb=2*Math.acos(a[3]);sa=Math.sin(Sb/2);sa>Ia?(b[0]=a[0]/sa,b[1]=a[1]/sa,b[2]=a[2]/sa):(b[0]=1,b[1]=0,b[2]=0);return Sb},toString:a=>`quat("${a[0]}, ${a[1]}, ${a[2]}, ${a[3]})`});let Aa=0,Ma=0,Tb=0,Ub=0;const lc=a=>Math.atan2(a[1],a[0]),mc=(a,b)=>{Aa=b[0]-a[0];Ma=b[1]-a[1];return Math.hypot(Aa,Ma)},nc=(a,b)=>Math.abs(a[0]-
b[0])+Math.abs(a[1]-b[1]),oc=(a,b,c=new Float32Array(2))=>Vb(a,1/b,c),Wb=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),Vb=(a,b,c=new Float32Array(2))=>{c[0]=a[0]*b;c[1]=a[1]*b;return c},pc=(a,b=new Float32Array(2))=>oc(a,Wb(a)||1,b),qc=new Float32Array([0,0]),Jc=new Float32Array([0,1]),Kc=new Float32Array([0,-1]),Lc=new Float32Array([-1,0]),Mc=new Float32Array([1,0]);var Nc=Object.freeze({__proto__:null,add:(a,b,c=new Float32Array(2))=>{c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},addScalar:(a,b,c=new Float32Array(2))=>
{c[0]=a[0]+b;c[1]=a[1]+b;return c},angle:lc,ceil:(a,b=new Float32Array(2))=>{b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);return b},clamp:(a,b,c,d=new Float32Array(2))=>{d[0]=Da(a[0],b[0],c[0]);d[1]=Da(a[1],b[1],c[1]);return d},clampSafe:(a,b,c,d=new Float32Array(2))=>{d[0]=Pa(a[0],b[0],c[0]);d[1]=Pa(a[1],b[1],c[1]);return d},clampLength:(a,b,c,d=new Float32Array(2))=>{d[0]=Pa(a[0],b[0],c[0]);d[1]=Pa(a[1],b[1],c[1]);return d},clampScalar:(a,b,c,d=new Float32Array(2))=>{d[0]=Da(a[0],b,c);d[1]=Da(a[1],
b,c);return d},closeTo:(a,b,c=Ia)=>mc(a,b)<=c,closeToRect:(a,b,c=Ia)=>ta(a[0],b[0],c)&&ta(a[1],b[1],c),closeToManhattan:(a,b,c=Ia)=>nc(a,b)<=c,clone:(a,b=new Float32Array(2))=>{b[0]=a[0];b[1]=a[1];return b},cross:(a,b)=>a[0]*b[1]-a[1]*b[0],create:(a,b,c=new Float32Array(2))=>{c[0]=a;c[1]=b;return c},distanceTo:mc,distanceToManhattan:nc,distanceToSquared:(a,b)=>{Aa=a[0]-b[0];Ma=a[1]-b[1];return Aa*Aa+Ma*Ma},divide:(a,b,c=new Float32Array(2))=>{c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c},divideScalar:oc,
dot:(a,b)=>a[0]*b[0]+a[1]*b[1],equals:(a,b)=>a[0]===b[0]&&a[1]===b[1],floor:(a,b=new Float32Array(2))=>{b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);return b},floorToZero:(a,b=new Float32Array(2))=>{b[0]=pb(a[0]);b[1]=pb(a[1]);return b},from:(a,b=new Float32Array(2))=>{b[0]=a[0];b[1]=a[1];return b},fromArray:(a,b=0,c=new Float32Array(2))=>{c[0]=a[b];c[1]=a[b+1];return c},fromJson:(a,b=new Float32Array(2))=>{b[0]=a.x;b[1]=a.y;return b},fromPolar:(a,b=new Float32Array(2))=>{b[0]=Math.cos(a.a)*a.r;b[1]=
Math.sin(a.a)*a.r;return b},fromScalar:(a=0,b=new Float32Array(2))=>{b[0]=b[1]=a;return b},inverse:(a,b=new Float32Array(2))=>{b[0]=1/a[0]||0;b[1]=1/a[1]||0;return b},length:Wb,lengthManhattan:a=>Math.abs(a[0])+Math.abs(a[1]),lengthSquared:a=>a[0]*a[0]+a[1]*a[1],lerp:(a,b,c,d=new Float32Array(2))=>{d[0]=(b[0]-a[0])*c+a[0];d[1]=(b[1]-a[1])*c+a[1];return d},max:(a,b,c=new Float32Array(2))=>{c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);return c},min:(a,b,c=new Float32Array(2))=>{c[0]=Math.min(a[0],
b[0]);c[1]=Math.min(a[1],b[1]);return c},minus:(a,b,c=new Float32Array(2))=>{c[0]=a[0]-b[0];c[1]=a[1]-b[0];return c},minusScalar:(a,b,c=new Float32Array(2))=>{c[0]=a[0]-b;c[1]=a[1]-b;return c},multiply:(a,b,c=new Float32Array(2))=>{c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c},multiplyScalar:Vb,negate:(a,b=new Float32Array(2))=>{b[0]=-a[0];b[1]=-a[1];return b},normalize:pc,random:(a=1,b=new Float32Array(2))=>{Aa=Math.random()*tc;b[0]=Math.cos(Aa)*a;b[1]=Math.sin(Aa)*a;return b},rotate:(a,b,c=qc,d=new Float32Array(2))=>
{Tb=Math.cos(b);Ub=Math.sin(b);Aa=a[0]-c[0];Ma=a[1]-c[1];d[0]=Aa*Tb-Ma*Ub+c[0];d[1]=Aa*Ub+Ma*Tb+c[1];return d},round:(a,b=new Float32Array(2))=>{b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);return b},set:(a=0,b=0,c=new Float32Array(2))=>{c[0]=a;c[1]=b;return c},setLength:(a,b,c=new Float32Array(2))=>{pc(a,c);Vb(c,b,c);return c},toArray:(a,b=[])=>{b[0]=a[0];b[1]=a[1];return b},toPalorJson:(a,b={a:0,r:0})=>{b.r=Wb(a);b.a=lc(a);return b},toString:a=>`vec2(${a[0]}, ${a[1]})`,transformMatrix3:(a,b,c)=>
{Aa=a[0];Ma=a[1];c[0]=b[0]*Aa+b[3]*Ma+b[6];c[1]=b[1]*Aa+b[4]*Ma+b[7];return c},VECTOR2_ZERO:qc,VECTOR2_TOP:Jc,VECTOR2_BOTTOM:Kc,VECTOR2_LEFT:Lc,VECTOR2_RIGHT:Mc});r.COLOR_HEX_MAP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r.ColorGPU=sc;r.ColorRGB=rc;r.ColorRGBA=hb;r.Matrix2=vc;r.Matrix3=xc;r.Matrix4=zc;r.Quaternion=Ic;r.Vector2=Nc;r.Vector3=Gc;r.Vector4=Hc;r.ceilPowerOfTwo=a=>Math.pow(2,Math.ceil(Math.log(a)/
Math.LN2));r.clamp=Da;r.clampCircle=(a,b,c)=>{Za=c-b;$a=pb(b/Za)*Za+a%Za;return $a<b?$a+Za:$a>c?$a-Za:$a};r.clampSafe=Pa;r.closeTo=ta;r.floorPowerOfTwo=a=>Math.pow(2,Math.floor(Math.log(a)/Math.LN2));r.floorToZero=pb;r.isPowerOfTwo=a=>0===(a&a-1)&&0!==a;r.randFloat=(a=0,b=1)=>a+Math.random()*(b-a);r.randInt=(a=0,b=1)=>a+Math.floor(Math.random()*(b-a+1));r.rndFloat=(a,b)=>a+Math.random()*(b-a);r.rndFloatRange=a=>a*(.5-Math.random());r.rndInt=(a,b)=>a+Math.floor(Math.random()*(b-a+1));r.sum=(...a)=>
Yb(a);r.sumArray=Yb;Object.defineProperty(r,"__esModule",{value:!0})});
